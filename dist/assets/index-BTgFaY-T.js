var p9=Object.defineProperty;var ED=t=>{throw TypeError(t)};var g9=(t,e,n)=>e in t?p9(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var se=(t,e,n)=>g9(t,typeof e!="symbol"?e+"":e,n),k1=(t,e,n)=>e.has(t)||ED("Cannot "+n);var B=(t,e,n)=>(k1(t,e,"read from private field"),n?n.call(t):e.get(t)),ce=(t,e,n)=>e.has(t)?ED("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),q=(t,e,n,r)=>(k1(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),xe=(t,e,n)=>(k1(t,e,"access private method"),n);var op=(t,e,n,r)=>({set _(i){q(t,e,i,n)},get _(){return B(t,e,r)}});function m9(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Ns=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Kg(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function J8(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var U1={exports:{}},ap={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AD;function y9(){if(AD)return ap;AD=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,o){var a=null;if(o!==void 0&&(a=""+o),i.key!==void 0&&(a=""+i.key),"key"in i){o={};for(var l in i)l!=="key"&&(o[l]=i[l])}else o=i;return i=o.ref,{$$typeof:t,type:r,key:a,ref:i!==void 0?i:null,props:o}}return ap.Fragment=e,ap.jsx=n,ap.jsxs=n,ap}var SD;function b9(){return SD||(SD=1,U1.exports=y9()),U1.exports}var j=b9(),L1={exports:{}},Le={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TD;function w9(){if(TD)return Le;TD=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),a=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),g=Symbol.iterator;function y(_){return _===null||typeof _!="object"?null:(_=g&&_[g]||_["@@iterator"],typeof _=="function"?_:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,w={};function E(_,K,te){this.props=_,this.context=K,this.refs=w,this.updater=te||b}E.prototype.isReactComponent={},E.prototype.setState=function(_,K){if(typeof _!="object"&&typeof _!="function"&&_!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,_,K,"setState")},E.prototype.forceUpdate=function(_){this.updater.enqueueForceUpdate(this,_,"forceUpdate")};function A(){}A.prototype=E.prototype;function C(_,K,te){this.props=_,this.context=K,this.refs=w,this.updater=te||b}var S=C.prototype=new A;S.constructor=C,x(S,E.prototype),S.isPureReactComponent=!0;var R=Array.isArray,O={H:null,A:null,T:null,S:null,V:null},P=Object.prototype.hasOwnProperty;function M(_,K,te,X,ne,fe){return te=fe.ref,{$$typeof:t,type:_,key:K,ref:te!==void 0?te:null,props:fe}}function I(_,K){return M(_.type,K,void 0,void 0,void 0,_.props)}function k(_){return typeof _=="object"&&_!==null&&_.$$typeof===t}function z(_){var K={"=":"=0",":":"=2"};return"$"+_.replace(/[=:]/g,function(te){return K[te]})}var V=/\/+/g;function G(_,K){return typeof _=="object"&&_!==null&&_.key!=null?z(""+_.key):K.toString(36)}function Z(){}function Y(_){switch(_.status){case"fulfilled":return _.value;case"rejected":throw _.reason;default:switch(typeof _.status=="string"?_.then(Z,Z):(_.status="pending",_.then(function(K){_.status==="pending"&&(_.status="fulfilled",_.value=K)},function(K){_.status==="pending"&&(_.status="rejected",_.reason=K)})),_.status){case"fulfilled":return _.value;case"rejected":throw _.reason}}throw _}function D(_,K,te,X,ne){var fe=typeof _;(fe==="undefined"||fe==="boolean")&&(_=null);var ue=!1;if(_===null)ue=!0;else switch(fe){case"bigint":case"string":case"number":ue=!0;break;case"object":switch(_.$$typeof){case t:case e:ue=!0;break;case d:return ue=_._init,D(ue(_._payload),K,te,X,ne)}}if(ue)return ne=ne(_),ue=X===""?"."+G(_,0):X,R(ne)?(te="",ue!=null&&(te=ue.replace(V,"$&/")+"/"),D(ne,K,te,"",function(ve){return ve})):ne!=null&&(k(ne)&&(ne=I(ne,te+(ne.key==null||_&&_.key===ne.key?"":(""+ne.key).replace(V,"$&/")+"/")+ue)),K.push(ne)),1;ue=0;var he=X===""?".":X+":";if(R(_))for(var ye=0;ye<_.length;ye++)X=_[ye],fe=he+G(X,ye),ue+=D(X,K,te,fe,ne);else if(ye=y(_),typeof ye=="function")for(_=ye.call(_),ye=0;!(X=_.next()).done;)X=X.value,fe=he+G(X,ye++),ue+=D(X,K,te,fe,ne);else if(fe==="object"){if(typeof _.then=="function")return D(Y(_),K,te,X,ne);throw K=String(_),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(_).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return ue}function T(_,K,te){if(_==null)return _;var X=[],ne=0;return D(_,X,"","",function(fe){return K.call(te,fe,ne++)}),X}function U(_){if(_._status===-1){var K=_._result;K=K(),K.then(function(te){(_._status===0||_._status===-1)&&(_._status=1,_._result=te)},function(te){(_._status===0||_._status===-1)&&(_._status=2,_._result=te)}),_._status===-1&&(_._status=0,_._result=K)}if(_._status===1)return _._result.default;throw _._result}var $=typeof reportError=="function"?reportError:function(_){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof _=="object"&&_!==null&&typeof _.message=="string"?String(_.message):String(_),error:_});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",_);return}console.error(_)};function H(){}return Le.Children={map:T,forEach:function(_,K,te){T(_,function(){K.apply(this,arguments)},te)},count:function(_){var K=0;return T(_,function(){K++}),K},toArray:function(_){return T(_,function(K){return K})||[]},only:function(_){if(!k(_))throw Error("React.Children.only expected to receive a single React element child.");return _}},Le.Component=E,Le.Fragment=n,Le.Profiler=i,Le.PureComponent=C,Le.StrictMode=r,Le.Suspense=f,Le.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=O,Le.__COMPILER_RUNTIME={__proto__:null,c:function(_){return O.H.useMemoCache(_)}},Le.cache=function(_){return function(){return _.apply(null,arguments)}},Le.cloneElement=function(_,K,te){if(_==null)throw Error("The argument must be a React element, but you passed "+_+".");var X=x({},_.props),ne=_.key,fe=void 0;if(K!=null)for(ue in K.ref!==void 0&&(fe=void 0),K.key!==void 0&&(ne=""+K.key),K)!P.call(K,ue)||ue==="key"||ue==="__self"||ue==="__source"||ue==="ref"&&K.ref===void 0||(X[ue]=K[ue]);var ue=arguments.length-2;if(ue===1)X.children=te;else if(1<ue){for(var he=Array(ue),ye=0;ye<ue;ye++)he[ye]=arguments[ye+2];X.children=he}return M(_.type,ne,void 0,void 0,fe,X)},Le.createContext=function(_){return _={$$typeof:a,_currentValue:_,_currentValue2:_,_threadCount:0,Provider:null,Consumer:null},_.Provider=_,_.Consumer={$$typeof:o,_context:_},_},Le.createElement=function(_,K,te){var X,ne={},fe=null;if(K!=null)for(X in K.key!==void 0&&(fe=""+K.key),K)P.call(K,X)&&X!=="key"&&X!=="__self"&&X!=="__source"&&(ne[X]=K[X]);var ue=arguments.length-2;if(ue===1)ne.children=te;else if(1<ue){for(var he=Array(ue),ye=0;ye<ue;ye++)he[ye]=arguments[ye+2];ne.children=he}if(_&&_.defaultProps)for(X in ue=_.defaultProps,ue)ne[X]===void 0&&(ne[X]=ue[X]);return M(_,fe,void 0,void 0,null,ne)},Le.createRef=function(){return{current:null}},Le.forwardRef=function(_){return{$$typeof:l,render:_}},Le.isValidElement=k,Le.lazy=function(_){return{$$typeof:d,_payload:{_status:-1,_result:_},_init:U}},Le.memo=function(_,K){return{$$typeof:h,type:_,compare:K===void 0?null:K}},Le.startTransition=function(_){var K=O.T,te={};O.T=te;try{var X=_(),ne=O.S;ne!==null&&ne(te,X),typeof X=="object"&&X!==null&&typeof X.then=="function"&&X.then(H,$)}catch(fe){$(fe)}finally{O.T=K}},Le.unstable_useCacheRefresh=function(){return O.H.useCacheRefresh()},Le.use=function(_){return O.H.use(_)},Le.useActionState=function(_,K,te){return O.H.useActionState(_,K,te)},Le.useCallback=function(_,K){return O.H.useCallback(_,K)},Le.useContext=function(_){return O.H.useContext(_)},Le.useDebugValue=function(){},Le.useDeferredValue=function(_,K){return O.H.useDeferredValue(_,K)},Le.useEffect=function(_,K,te){var X=O.H;if(typeof te=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return X.useEffect(_,K)},Le.useId=function(){return O.H.useId()},Le.useImperativeHandle=function(_,K,te){return O.H.useImperativeHandle(_,K,te)},Le.useInsertionEffect=function(_,K){return O.H.useInsertionEffect(_,K)},Le.useLayoutEffect=function(_,K){return O.H.useLayoutEffect(_,K)},Le.useMemo=function(_,K){return O.H.useMemo(_,K)},Le.useOptimistic=function(_,K){return O.H.useOptimistic(_,K)},Le.useReducer=function(_,K,te){return O.H.useReducer(_,K,te)},Le.useRef=function(_){return O.H.useRef(_)},Le.useState=function(_){return O.H.useState(_)},Le.useSyncExternalStore=function(_,K,te){return O.H.useSyncExternalStore(_,K,te)},Le.useTransition=function(){return O.H.useTransition()},Le.version="19.1.1",Le}var CD;function M2(){return CD||(CD=1,L1.exports=w9()),L1.exports}var F=M2();const ka=Kg(F),e4=m9({__proto__:null,default:ka},[F]);var $1={exports:{}},cp={},j1={exports:{}},F1={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OD;function v9(){return OD||(OD=1,function(t){function e(T,U){var $=T.length;T.push(U);e:for(;0<$;){var H=$-1>>>1,_=T[H];if(0<i(_,U))T[H]=U,T[$]=_,$=H;else break e}}function n(T){return T.length===0?null:T[0]}function r(T){if(T.length===0)return null;var U=T[0],$=T.pop();if($!==U){T[0]=$;e:for(var H=0,_=T.length,K=_>>>1;H<K;){var te=2*(H+1)-1,X=T[te],ne=te+1,fe=T[ne];if(0>i(X,$))ne<_&&0>i(fe,X)?(T[H]=fe,T[ne]=$,H=ne):(T[H]=X,T[te]=$,H=te);else if(ne<_&&0>i(fe,$))T[H]=fe,T[ne]=$,H=ne;else break e}}return U}function i(T,U){var $=T.sortIndex-U.sortIndex;return $!==0?$:T.id-U.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var f=[],h=[],d=1,g=null,y=3,b=!1,x=!1,w=!1,E=!1,A=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;function R(T){for(var U=n(h);U!==null;){if(U.callback===null)r(h);else if(U.startTime<=T)r(h),U.sortIndex=U.expirationTime,e(f,U);else break;U=n(h)}}function O(T){if(w=!1,R(T),!x)if(n(f)!==null)x=!0,P||(P=!0,G());else{var U=n(h);U!==null&&D(O,U.startTime-T)}}var P=!1,M=-1,I=5,k=-1;function z(){return E?!0:!(t.unstable_now()-k<I)}function V(){if(E=!1,P){var T=t.unstable_now();k=T;var U=!0;try{e:{x=!1,w&&(w=!1,C(M),M=-1),b=!0;var $=y;try{t:{for(R(T),g=n(f);g!==null&&!(g.expirationTime>T&&z());){var H=g.callback;if(typeof H=="function"){g.callback=null,y=g.priorityLevel;var _=H(g.expirationTime<=T);if(T=t.unstable_now(),typeof _=="function"){g.callback=_,R(T),U=!0;break t}g===n(f)&&r(f),R(T)}else r(f);g=n(f)}if(g!==null)U=!0;else{var K=n(h);K!==null&&D(O,K.startTime-T),U=!1}}break e}finally{g=null,y=$,b=!1}U=void 0}}finally{U?G():P=!1}}}var G;if(typeof S=="function")G=function(){S(V)};else if(typeof MessageChannel<"u"){var Z=new MessageChannel,Y=Z.port2;Z.port1.onmessage=V,G=function(){Y.postMessage(null)}}else G=function(){A(V,0)};function D(T,U){M=A(function(){T(t.unstable_now())},U)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(T){T.callback=null},t.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<T?Math.floor(1e3/T):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_next=function(T){switch(y){case 1:case 2:case 3:var U=3;break;default:U=y}var $=y;y=U;try{return T()}finally{y=$}},t.unstable_requestPaint=function(){E=!0},t.unstable_runWithPriority=function(T,U){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var $=y;y=T;try{return U()}finally{y=$}},t.unstable_scheduleCallback=function(T,U,$){var H=t.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?H+$:H):$=H,T){case 1:var _=-1;break;case 2:_=250;break;case 5:_=1073741823;break;case 4:_=1e4;break;default:_=5e3}return _=$+_,T={id:d++,callback:U,priorityLevel:T,startTime:$,expirationTime:_,sortIndex:-1},$>H?(T.sortIndex=$,e(h,T),n(f)===null&&T===n(h)&&(w?(C(M),M=-1):w=!0,D(O,$-H))):(T.sortIndex=_,e(f,T),x||b||(x=!0,P||(P=!0,G()))),T},t.unstable_shouldYield=z,t.unstable_wrapCallback=function(T){var U=y;return function(){var $=y;y=U;try{return T.apply(this,arguments)}finally{y=$}}}}(F1)),F1}var DD;function x9(){return DD||(DD=1,j1.exports=v9()),j1.exports}var z1={exports:{}},Un={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PD;function E9(){if(PD)return Un;PD=1;var t=M2();function e(f){var h="https://react.dev/errors/"+f;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)h+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+f+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function o(f,h,d){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:g==null?null:""+g,children:f,containerInfo:h,implementation:d}}var a=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(f,h){if(f==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return Un.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Un.createPortal=function(f,h){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return o(f,h,null,d)},Un.flushSync=function(f){var h=a.T,d=r.p;try{if(a.T=null,r.p=2,f)return f()}finally{a.T=h,r.p=d,r.d.f()}},Un.preconnect=function(f,h){typeof f=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,r.d.C(f,h))},Un.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},Un.preinit=function(f,h){if(typeof f=="string"&&h&&typeof h.as=="string"){var d=h.as,g=l(d,h.crossOrigin),y=typeof h.integrity=="string"?h.integrity:void 0,b=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;d==="style"?r.d.S(f,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:g,integrity:y,fetchPriority:b}):d==="script"&&r.d.X(f,{crossOrigin:g,integrity:y,fetchPriority:b,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},Un.preinitModule=function(f,h){if(typeof f=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var d=l(h.as,h.crossOrigin);r.d.M(f,{crossOrigin:d,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&r.d.M(f)},Un.preload=function(f,h){if(typeof f=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var d=h.as,g=l(d,h.crossOrigin);r.d.L(f,d,{crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},Un.preloadModule=function(f,h){if(typeof f=="string")if(h){var d=l(h.as,h.crossOrigin);r.d.m(f,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:d,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else r.d.m(f)},Un.requestFormReset=function(f){r.d.r(f)},Un.unstable_batchedUpdates=function(f,h){return f(h)},Un.useFormState=function(f,h,d){return a.H.useFormState(f,h,d)},Un.useFormStatus=function(){return a.H.useHostTransitionStatus()},Un.version="19.1.1",Un}var ND;function t4(){if(ND)return z1.exports;ND=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),z1.exports=E9(),z1.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RD;function A9(){if(RD)return cp;RD=1;var t=x9(),e=M2(),n=t4();function r(s){var c="https://react.dev/errors/"+s;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)c+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+s+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function o(s){var c=s,u=s;if(s.alternate)for(;c.return;)c=c.return;else{s=c;do c=s,(c.flags&4098)!==0&&(u=c.return),s=c.return;while(s)}return c.tag===3?u:null}function a(s){if(s.tag===13){var c=s.memoizedState;if(c===null&&(s=s.alternate,s!==null&&(c=s.memoizedState)),c!==null)return c.dehydrated}return null}function l(s){if(o(s)!==s)throw Error(r(188))}function f(s){var c=s.alternate;if(!c){if(c=o(s),c===null)throw Error(r(188));return c!==s?null:s}for(var u=s,p=c;;){var m=u.return;if(m===null)break;var v=m.alternate;if(v===null){if(p=m.return,p!==null){u=p;continue}break}if(m.child===v.child){for(v=m.child;v;){if(v===u)return l(m),s;if(v===p)return l(m),c;v=v.sibling}throw Error(r(188))}if(u.return!==p.return)u=m,p=v;else{for(var N=!1,L=m.child;L;){if(L===u){N=!0,u=m,p=v;break}if(L===p){N=!0,p=m,u=v;break}L=L.sibling}if(!N){for(L=v.child;L;){if(L===u){N=!0,u=v,p=m;break}if(L===p){N=!0,p=v,u=m;break}L=L.sibling}if(!N)throw Error(r(189))}}if(u.alternate!==p)throw Error(r(190))}if(u.tag!==3)throw Error(r(188));return u.stateNode.current===u?s:c}function h(s){var c=s.tag;if(c===5||c===26||c===27||c===6)return s;for(s=s.child;s!==null;){if(c=h(s),c!==null)return c;s=s.sibling}return null}var d=Object.assign,g=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),A=Symbol.for("react.provider"),C=Symbol.for("react.consumer"),S=Symbol.for("react.context"),R=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),k=Symbol.for("react.activity"),z=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function G(s){return s===null||typeof s!="object"?null:(s=V&&s[V]||s["@@iterator"],typeof s=="function"?s:null)}var Z=Symbol.for("react.client.reference");function Y(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===Z?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case x:return"Fragment";case E:return"Profiler";case w:return"StrictMode";case O:return"Suspense";case P:return"SuspenseList";case k:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case b:return"Portal";case S:return(s.displayName||"Context")+".Provider";case C:return(s._context.displayName||"Context")+".Consumer";case R:var c=s.render;return s=s.displayName,s||(s=c.displayName||c.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case M:return c=s.displayName||null,c!==null?c:Y(s.type)||"Memo";case I:c=s._payload,s=s._init;try{return Y(s(c))}catch{}}return null}var D=Array.isArray,T=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,U=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$={pending:!1,data:null,method:null,action:null},H=[],_=-1;function K(s){return{current:s}}function te(s){0>_||(s.current=H[_],H[_]=null,_--)}function X(s,c){_++,H[_]=s.current,s.current=c}var ne=K(null),fe=K(null),ue=K(null),he=K(null);function ye(s,c){switch(X(ue,c),X(fe,s),X(ne,null),c.nodeType){case 9:case 11:s=(s=c.documentElement)&&(s=s.namespaceURI)?WO(s):0;break;default:if(s=c.tagName,c=c.namespaceURI)c=WO(c),s=XO(c,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}te(ne),X(ne,s)}function ve(){te(ne),te(fe),te(ue)}function Ce(s){s.memoizedState!==null&&X(he,s);var c=ne.current,u=XO(c,s.type);c!==u&&(X(fe,s),X(ne,u))}function Ne(s){fe.current===s&&(te(ne),te(fe)),he.current===s&&(te(he),tp._currentValue=$)}var _e=Object.prototype.hasOwnProperty,Je=t.unstable_scheduleCallback,ht=t.unstable_cancelCallback,cr=t.unstable_shouldYield,ti=t.unstable_requestPaint,cn=t.unstable_now,ad=t.unstable_getCurrentPriorityLevel,ss=t.unstable_ImmediatePriority,cd=t.unstable_UserBlockingPriority,Xo=t.unstable_NormalPriority,mm=t.unstable_LowPriority,ld=t.unstable_IdlePriority,ym=t.log,bm=t.unstable_setDisableYieldValue,Zo=null,Yn=null;function os(s){if(typeof ym=="function"&&bm(s),Yn&&typeof Yn.setStrictMode=="function")try{Yn.setStrictMode(Zo,s)}catch{}}var Wn=Math.clz32?Math.clz32:e$,Sw=Math.log,JL=Math.LN2;function e$(s){return s>>>=0,s===0?32:31-(Sw(s)/JL|0)|0}var wm=256,vm=4194304;function Pc(s){var c=s&42;if(c!==0)return c;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function xm(s,c,u){var p=s.pendingLanes;if(p===0)return 0;var m=0,v=s.suspendedLanes,N=s.pingedLanes;s=s.warmLanes;var L=p&134217727;return L!==0?(p=L&~v,p!==0?m=Pc(p):(N&=L,N!==0?m=Pc(N):u||(u=L&~s,u!==0&&(m=Pc(u))))):(L=p&~v,L!==0?m=Pc(L):N!==0?m=Pc(N):u||(u=p&~s,u!==0&&(m=Pc(u)))),m===0?0:c!==0&&c!==m&&(c&v)===0&&(v=m&-m,u=c&-c,v>=u||v===32&&(u&4194048)!==0)?c:m}function ud(s,c){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&c)===0}function t$(s,c){switch(s){case 1:case 2:case 4:case 8:case 64:return c+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function IT(){var s=wm;return wm<<=1,(wm&4194048)===0&&(wm=256),s}function BT(){var s=vm;return vm<<=1,(vm&62914560)===0&&(vm=4194304),s}function Tw(s){for(var c=[],u=0;31>u;u++)c.push(s);return c}function fd(s,c){s.pendingLanes|=c,c!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function n$(s,c,u,p,m,v){var N=s.pendingLanes;s.pendingLanes=u,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=u,s.entangledLanes&=u,s.errorRecoveryDisabledLanes&=u,s.shellSuspendCounter=0;var L=s.entanglements,Q=s.expirationTimes,ie=s.hiddenUpdates;for(u=N&~u;0<u;){var le=31-Wn(u),pe=1<<le;L[le]=0,Q[le]=-1;var oe=ie[le];if(oe!==null)for(ie[le]=null,le=0;le<oe.length;le++){var ae=oe[le];ae!==null&&(ae.lane&=-536870913)}u&=~pe}p!==0&&MT(s,p,0),v!==0&&m===0&&s.tag!==0&&(s.suspendedLanes|=v&~(N&~c))}function MT(s,c,u){s.pendingLanes|=c,s.suspendedLanes&=~c;var p=31-Wn(c);s.entangledLanes|=c,s.entanglements[p]=s.entanglements[p]|1073741824|u&4194090}function kT(s,c){var u=s.entangledLanes|=c;for(s=s.entanglements;u;){var p=31-Wn(u),m=1<<p;m&c|s[p]&c&&(s[p]|=c),u&=~m}}function Cw(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function Ow(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function UT(){var s=U.p;return s!==0?s:(s=window.event,s===void 0?32:mD(s.type))}function r$(s,c){var u=U.p;try{return U.p=s,c()}finally{U.p=u}}var Jo=Math.random().toString(36).slice(2),Mn="__reactFiber$"+Jo,lr="__reactProps$"+Jo,fu="__reactContainer$"+Jo,Dw="__reactEvents$"+Jo,i$="__reactListeners$"+Jo,s$="__reactHandles$"+Jo,LT="__reactResources$"+Jo,hd="__reactMarker$"+Jo;function Pw(s){delete s[Mn],delete s[lr],delete s[Dw],delete s[i$],delete s[s$]}function hu(s){var c=s[Mn];if(c)return c;for(var u=s.parentNode;u;){if(c=u[fu]||u[Mn]){if(u=c.alternate,c.child!==null||u!==null&&u.child!==null)for(s=tD(s);s!==null;){if(u=s[Mn])return u;s=tD(s)}return c}s=u,u=s.parentNode}return null}function du(s){if(s=s[Mn]||s[fu]){var c=s.tag;if(c===5||c===6||c===13||c===26||c===27||c===3)return s}return null}function dd(s){var c=s.tag;if(c===5||c===26||c===27||c===6)return s.stateNode;throw Error(r(33))}function pu(s){var c=s[LT];return c||(c=s[LT]={hoistableStyles:new Map,hoistableScripts:new Map}),c}function ln(s){s[hd]=!0}var $T=new Set,jT={};function Nc(s,c){gu(s,c),gu(s+"Capture",c)}function gu(s,c){for(jT[s]=c,s=0;s<c.length;s++)$T.add(c[s])}var o$=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),FT={},zT={};function a$(s){return _e.call(zT,s)?!0:_e.call(FT,s)?!1:o$.test(s)?zT[s]=!0:(FT[s]=!0,!1)}function Em(s,c,u){if(a$(c))if(u===null)s.removeAttribute(c);else{switch(typeof u){case"undefined":case"function":case"symbol":s.removeAttribute(c);return;case"boolean":var p=c.toLowerCase().slice(0,5);if(p!=="data-"&&p!=="aria-"){s.removeAttribute(c);return}}s.setAttribute(c,""+u)}}function Am(s,c,u){if(u===null)s.removeAttribute(c);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(c);return}s.setAttribute(c,""+u)}}function Ws(s,c,u,p){if(p===null)s.removeAttribute(u);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(u);return}s.setAttributeNS(c,u,""+p)}}var Nw,VT;function mu(s){if(Nw===void 0)try{throw Error()}catch(u){var c=u.stack.trim().match(/\n( *(at )?)/);Nw=c&&c[1]||"",VT=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Nw+s+VT}var Rw=!1;function _w(s,c){if(!s||Rw)return"";Rw=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var p={DetermineComponentFrameRoot:function(){try{if(c){var pe=function(){throw Error()};if(Object.defineProperty(pe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(pe,[])}catch(ae){var oe=ae}Reflect.construct(s,[],pe)}else{try{pe.call()}catch(ae){oe=ae}s.call(pe.prototype)}}else{try{throw Error()}catch(ae){oe=ae}(pe=s())&&typeof pe.catch=="function"&&pe.catch(function(){})}}catch(ae){if(ae&&oe&&typeof ae.stack=="string")return[ae.stack,oe.stack]}return[null,null]}};p.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(p.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(p.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=p.DetermineComponentFrameRoot(),N=v[0],L=v[1];if(N&&L){var Q=N.split(`
`),ie=L.split(`
`);for(m=p=0;p<Q.length&&!Q[p].includes("DetermineComponentFrameRoot");)p++;for(;m<ie.length&&!ie[m].includes("DetermineComponentFrameRoot");)m++;if(p===Q.length||m===ie.length)for(p=Q.length-1,m=ie.length-1;1<=p&&0<=m&&Q[p]!==ie[m];)m--;for(;1<=p&&0<=m;p--,m--)if(Q[p]!==ie[m]){if(p!==1||m!==1)do if(p--,m--,0>m||Q[p]!==ie[m]){var le=`
`+Q[p].replace(" at new "," at ");return s.displayName&&le.includes("<anonymous>")&&(le=le.replace("<anonymous>",s.displayName)),le}while(1<=p&&0<=m);break}}}finally{Rw=!1,Error.prepareStackTrace=u}return(u=s?s.displayName||s.name:"")?mu(u):""}function c$(s){switch(s.tag){case 26:case 27:case 5:return mu(s.type);case 16:return mu("Lazy");case 13:return mu("Suspense");case 19:return mu("SuspenseList");case 0:case 15:return _w(s.type,!1);case 11:return _w(s.type.render,!1);case 1:return _w(s.type,!0);case 31:return mu("Activity");default:return""}}function HT(s){try{var c="";do c+=c$(s),s=s.return;while(s);return c}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}function ni(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function qT(s){var c=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function l$(s){var c=qT(s)?"checked":"value",u=Object.getOwnPropertyDescriptor(s.constructor.prototype,c),p=""+s[c];if(!s.hasOwnProperty(c)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var m=u.get,v=u.set;return Object.defineProperty(s,c,{configurable:!0,get:function(){return m.call(this)},set:function(N){p=""+N,v.call(this,N)}}),Object.defineProperty(s,c,{enumerable:u.enumerable}),{getValue:function(){return p},setValue:function(N){p=""+N},stopTracking:function(){s._valueTracker=null,delete s[c]}}}}function Sm(s){s._valueTracker||(s._valueTracker=l$(s))}function GT(s){if(!s)return!1;var c=s._valueTracker;if(!c)return!0;var u=c.getValue(),p="";return s&&(p=qT(s)?s.checked?"true":"false":s.value),s=p,s!==u?(c.setValue(s),!0):!1}function Tm(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var u$=/[\n"\\]/g;function ri(s){return s.replace(u$,function(c){return"\\"+c.charCodeAt(0).toString(16)+" "})}function Iw(s,c,u,p,m,v,N,L){s.name="",N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?s.type=N:s.removeAttribute("type"),c!=null?N==="number"?(c===0&&s.value===""||s.value!=c)&&(s.value=""+ni(c)):s.value!==""+ni(c)&&(s.value=""+ni(c)):N!=="submit"&&N!=="reset"||s.removeAttribute("value"),c!=null?Bw(s,N,ni(c)):u!=null?Bw(s,N,ni(u)):p!=null&&s.removeAttribute("value"),m==null&&v!=null&&(s.defaultChecked=!!v),m!=null&&(s.checked=m&&typeof m!="function"&&typeof m!="symbol"),L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"?s.name=""+ni(L):s.removeAttribute("name")}function KT(s,c,u,p,m,v,N,L){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(s.type=v),c!=null||u!=null){if(!(v!=="submit"&&v!=="reset"||c!=null))return;u=u!=null?""+ni(u):"",c=c!=null?""+ni(c):u,L||c===s.value||(s.value=c),s.defaultValue=c}p=p??m,p=typeof p!="function"&&typeof p!="symbol"&&!!p,s.checked=L?s.checked:!!p,s.defaultChecked=!!p,N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(s.name=N)}function Bw(s,c,u){c==="number"&&Tm(s.ownerDocument)===s||s.defaultValue===""+u||(s.defaultValue=""+u)}function yu(s,c,u,p){if(s=s.options,c){c={};for(var m=0;m<u.length;m++)c["$"+u[m]]=!0;for(u=0;u<s.length;u++)m=c.hasOwnProperty("$"+s[u].value),s[u].selected!==m&&(s[u].selected=m),m&&p&&(s[u].defaultSelected=!0)}else{for(u=""+ni(u),c=null,m=0;m<s.length;m++){if(s[m].value===u){s[m].selected=!0,p&&(s[m].defaultSelected=!0);return}c!==null||s[m].disabled||(c=s[m])}c!==null&&(c.selected=!0)}}function QT(s,c,u){if(c!=null&&(c=""+ni(c),c!==s.value&&(s.value=c),u==null)){s.defaultValue!==c&&(s.defaultValue=c);return}s.defaultValue=u!=null?""+ni(u):""}function YT(s,c,u,p){if(c==null){if(p!=null){if(u!=null)throw Error(r(92));if(D(p)){if(1<p.length)throw Error(r(93));p=p[0]}u=p}u==null&&(u=""),c=u}u=ni(c),s.defaultValue=u,p=s.textContent,p===u&&p!==""&&p!==null&&(s.value=p)}function bu(s,c){if(c){var u=s.firstChild;if(u&&u===s.lastChild&&u.nodeType===3){u.nodeValue=c;return}}s.textContent=c}var f$=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function WT(s,c,u){var p=c.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?p?s.setProperty(c,""):c==="float"?s.cssFloat="":s[c]="":p?s.setProperty(c,u):typeof u!="number"||u===0||f$.has(c)?c==="float"?s.cssFloat=u:s[c]=(""+u).trim():s[c]=u+"px"}function XT(s,c,u){if(c!=null&&typeof c!="object")throw Error(r(62));if(s=s.style,u!=null){for(var p in u)!u.hasOwnProperty(p)||c!=null&&c.hasOwnProperty(p)||(p.indexOf("--")===0?s.setProperty(p,""):p==="float"?s.cssFloat="":s[p]="");for(var m in c)p=c[m],c.hasOwnProperty(m)&&u[m]!==p&&WT(s,m,p)}else for(var v in c)c.hasOwnProperty(v)&&WT(s,v,c[v])}function Mw(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var h$=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),d$=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Cm(s){return d$.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}var kw=null;function Uw(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var wu=null,vu=null;function ZT(s){var c=du(s);if(c&&(s=c.stateNode)){var u=s[lr]||null;e:switch(s=c.stateNode,c.type){case"input":if(Iw(s,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),c=u.name,u.type==="radio"&&c!=null){for(u=s;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+ri(""+c)+'"][type="radio"]'),c=0;c<u.length;c++){var p=u[c];if(p!==s&&p.form===s.form){var m=p[lr]||null;if(!m)throw Error(r(90));Iw(p,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(c=0;c<u.length;c++)p=u[c],p.form===s.form&&GT(p)}break e;case"textarea":QT(s,u.value,u.defaultValue);break e;case"select":c=u.value,c!=null&&yu(s,!!u.multiple,c,!1)}}}var Lw=!1;function JT(s,c,u){if(Lw)return s(c,u);Lw=!0;try{var p=s(c);return p}finally{if(Lw=!1,(wu!==null||vu!==null)&&(fy(),wu&&(c=wu,s=vu,vu=wu=null,ZT(c),s)))for(c=0;c<s.length;c++)ZT(s[c])}}function pd(s,c){var u=s.stateNode;if(u===null)return null;var p=u[lr]||null;if(p===null)return null;u=p[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(s=s.type,p=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!p;break e;default:s=!1}if(s)return null;if(u&&typeof u!="function")throw Error(r(231,c,typeof u));return u}var Xs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$w=!1;if(Xs)try{var gd={};Object.defineProperty(gd,"passive",{get:function(){$w=!0}}),window.addEventListener("test",gd,gd),window.removeEventListener("test",gd,gd)}catch{$w=!1}var ea=null,jw=null,Om=null;function eC(){if(Om)return Om;var s,c=jw,u=c.length,p,m="value"in ea?ea.value:ea.textContent,v=m.length;for(s=0;s<u&&c[s]===m[s];s++);var N=u-s;for(p=1;p<=N&&c[u-p]===m[v-p];p++);return Om=m.slice(s,1<p?1-p:void 0)}function Dm(s){var c=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&c===13&&(s=13)):s=c,s===10&&(s=13),32<=s||s===13?s:0}function Pm(){return!0}function tC(){return!1}function ur(s){function c(u,p,m,v,N){this._reactName=u,this._targetInst=m,this.type=p,this.nativeEvent=v,this.target=N,this.currentTarget=null;for(var L in s)s.hasOwnProperty(L)&&(u=s[L],this[L]=u?u(v):v[L]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?Pm:tC,this.isPropagationStopped=tC,this}return d(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Pm)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Pm)},persist:function(){},isPersistent:Pm}),c}var Rc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Nm=ur(Rc),md=d({},Rc,{view:0,detail:0}),p$=ur(md),Fw,zw,yd,Rm=d({},md,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hw,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==yd&&(yd&&s.type==="mousemove"?(Fw=s.screenX-yd.screenX,zw=s.screenY-yd.screenY):zw=Fw=0,yd=s),Fw)},movementY:function(s){return"movementY"in s?s.movementY:zw}}),nC=ur(Rm),g$=d({},Rm,{dataTransfer:0}),m$=ur(g$),y$=d({},md,{relatedTarget:0}),Vw=ur(y$),b$=d({},Rc,{animationName:0,elapsedTime:0,pseudoElement:0}),w$=ur(b$),v$=d({},Rc,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),x$=ur(v$),E$=d({},Rc,{data:0}),rC=ur(E$),A$={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},S$={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},T$={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function C$(s){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(s):(s=T$[s])?!!c[s]:!1}function Hw(){return C$}var O$=d({},md,{key:function(s){if(s.key){var c=A$[s.key]||s.key;if(c!=="Unidentified")return c}return s.type==="keypress"?(s=Dm(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?S$[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hw,charCode:function(s){return s.type==="keypress"?Dm(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Dm(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),D$=ur(O$),P$=d({},Rm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),iC=ur(P$),N$=d({},md,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hw}),R$=ur(N$),_$=d({},Rc,{propertyName:0,elapsedTime:0,pseudoElement:0}),I$=ur(_$),B$=d({},Rm,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),M$=ur(B$),k$=d({},Rc,{newState:0,oldState:0}),U$=ur(k$),L$=[9,13,27,32],qw=Xs&&"CompositionEvent"in window,bd=null;Xs&&"documentMode"in document&&(bd=document.documentMode);var $$=Xs&&"TextEvent"in window&&!bd,sC=Xs&&(!qw||bd&&8<bd&&11>=bd),oC=" ",aC=!1;function cC(s,c){switch(s){case"keyup":return L$.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lC(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var xu=!1;function j$(s,c){switch(s){case"compositionend":return lC(c);case"keypress":return c.which!==32?null:(aC=!0,oC);case"textInput":return s=c.data,s===oC&&aC?null:s;default:return null}}function F$(s,c){if(xu)return s==="compositionend"||!qw&&cC(s,c)?(s=eC(),Om=jw=ea=null,xu=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return sC&&c.locale!=="ko"?null:c.data;default:return null}}var z$={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function uC(s){var c=s&&s.nodeName&&s.nodeName.toLowerCase();return c==="input"?!!z$[s.type]:c==="textarea"}function fC(s,c,u,p){wu?vu?vu.push(p):vu=[p]:wu=p,c=yy(c,"onChange"),0<c.length&&(u=new Nm("onChange","change",null,u,p),s.push({event:u,listeners:c}))}var wd=null,vd=null;function V$(s){qO(s,0)}function _m(s){var c=dd(s);if(GT(c))return s}function hC(s,c){if(s==="change")return c}var dC=!1;if(Xs){var Gw;if(Xs){var Kw="oninput"in document;if(!Kw){var pC=document.createElement("div");pC.setAttribute("oninput","return;"),Kw=typeof pC.oninput=="function"}Gw=Kw}else Gw=!1;dC=Gw&&(!document.documentMode||9<document.documentMode)}function gC(){wd&&(wd.detachEvent("onpropertychange",mC),vd=wd=null)}function mC(s){if(s.propertyName==="value"&&_m(vd)){var c=[];fC(c,vd,s,Uw(s)),JT(V$,c)}}function H$(s,c,u){s==="focusin"?(gC(),wd=c,vd=u,wd.attachEvent("onpropertychange",mC)):s==="focusout"&&gC()}function q$(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return _m(vd)}function G$(s,c){if(s==="click")return _m(c)}function K$(s,c){if(s==="input"||s==="change")return _m(c)}function Q$(s,c){return s===c&&(s!==0||1/s===1/c)||s!==s&&c!==c}var Ir=typeof Object.is=="function"?Object.is:Q$;function xd(s,c){if(Ir(s,c))return!0;if(typeof s!="object"||s===null||typeof c!="object"||c===null)return!1;var u=Object.keys(s),p=Object.keys(c);if(u.length!==p.length)return!1;for(p=0;p<u.length;p++){var m=u[p];if(!_e.call(c,m)||!Ir(s[m],c[m]))return!1}return!0}function yC(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function bC(s,c){var u=yC(s);s=0;for(var p;u;){if(u.nodeType===3){if(p=s+u.textContent.length,s<=c&&p>=c)return{node:u,offset:c-s};s=p}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=yC(u)}}function wC(s,c){return s&&c?s===c?!0:s&&s.nodeType===3?!1:c&&c.nodeType===3?wC(s,c.parentNode):"contains"in s?s.contains(c):s.compareDocumentPosition?!!(s.compareDocumentPosition(c)&16):!1:!1}function vC(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var c=Tm(s.document);c instanceof s.HTMLIFrameElement;){try{var u=typeof c.contentWindow.location.href=="string"}catch{u=!1}if(u)s=c.contentWindow;else break;c=Tm(s.document)}return c}function Qw(s){var c=s&&s.nodeName&&s.nodeName.toLowerCase();return c&&(c==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||c==="textarea"||s.contentEditable==="true")}var Y$=Xs&&"documentMode"in document&&11>=document.documentMode,Eu=null,Yw=null,Ed=null,Ww=!1;function xC(s,c,u){var p=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Ww||Eu==null||Eu!==Tm(p)||(p=Eu,"selectionStart"in p&&Qw(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),Ed&&xd(Ed,p)||(Ed=p,p=yy(Yw,"onSelect"),0<p.length&&(c=new Nm("onSelect","select",null,c,u),s.push({event:c,listeners:p}),c.target=Eu)))}function _c(s,c){var u={};return u[s.toLowerCase()]=c.toLowerCase(),u["Webkit"+s]="webkit"+c,u["Moz"+s]="moz"+c,u}var Au={animationend:_c("Animation","AnimationEnd"),animationiteration:_c("Animation","AnimationIteration"),animationstart:_c("Animation","AnimationStart"),transitionrun:_c("Transition","TransitionRun"),transitionstart:_c("Transition","TransitionStart"),transitioncancel:_c("Transition","TransitionCancel"),transitionend:_c("Transition","TransitionEnd")},Xw={},EC={};Xs&&(EC=document.createElement("div").style,"AnimationEvent"in window||(delete Au.animationend.animation,delete Au.animationiteration.animation,delete Au.animationstart.animation),"TransitionEvent"in window||delete Au.transitionend.transition);function Ic(s){if(Xw[s])return Xw[s];if(!Au[s])return s;var c=Au[s],u;for(u in c)if(c.hasOwnProperty(u)&&u in EC)return Xw[s]=c[u];return s}var AC=Ic("animationend"),SC=Ic("animationiteration"),TC=Ic("animationstart"),W$=Ic("transitionrun"),X$=Ic("transitionstart"),Z$=Ic("transitioncancel"),CC=Ic("transitionend"),OC=new Map,Zw="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Zw.push("scrollEnd");function Mi(s,c){OC.set(s,c),Nc(c,[s])}var DC=new WeakMap;function ii(s,c){if(typeof s=="object"&&s!==null){var u=DC.get(s);return u!==void 0?u:(c={value:s,source:c,stack:HT(c)},DC.set(s,c),c)}return{value:s,source:c,stack:HT(c)}}var si=[],Su=0,Jw=0;function Im(){for(var s=Su,c=Jw=Su=0;c<s;){var u=si[c];si[c++]=null;var p=si[c];si[c++]=null;var m=si[c];si[c++]=null;var v=si[c];if(si[c++]=null,p!==null&&m!==null){var N=p.pending;N===null?m.next=m:(m.next=N.next,N.next=m),p.pending=m}v!==0&&PC(u,m,v)}}function Bm(s,c,u,p){si[Su++]=s,si[Su++]=c,si[Su++]=u,si[Su++]=p,Jw|=p,s.lanes|=p,s=s.alternate,s!==null&&(s.lanes|=p)}function ev(s,c,u,p){return Bm(s,c,u,p),Mm(s)}function Tu(s,c){return Bm(s,null,null,c),Mm(s)}function PC(s,c,u){s.lanes|=u;var p=s.alternate;p!==null&&(p.lanes|=u);for(var m=!1,v=s.return;v!==null;)v.childLanes|=u,p=v.alternate,p!==null&&(p.childLanes|=u),v.tag===22&&(s=v.stateNode,s===null||s._visibility&1||(m=!0)),s=v,v=v.return;return s.tag===3?(v=s.stateNode,m&&c!==null&&(m=31-Wn(u),s=v.hiddenUpdates,p=s[m],p===null?s[m]=[c]:p.push(c),c.lane=u|536870912),v):null}function Mm(s){if(50<Kd)throw Kd=0,o1=null,Error(r(185));for(var c=s.return;c!==null;)s=c,c=s.return;return s.tag===3?s.stateNode:null}var Cu={};function J$(s,c,u,p){this.tag=s,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Br(s,c,u,p){return new J$(s,c,u,p)}function tv(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Zs(s,c){var u=s.alternate;return u===null?(u=Br(s.tag,c,s.key,s.mode),u.elementType=s.elementType,u.type=s.type,u.stateNode=s.stateNode,u.alternate=s,s.alternate=u):(u.pendingProps=c,u.type=s.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=s.flags&65011712,u.childLanes=s.childLanes,u.lanes=s.lanes,u.child=s.child,u.memoizedProps=s.memoizedProps,u.memoizedState=s.memoizedState,u.updateQueue=s.updateQueue,c=s.dependencies,u.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},u.sibling=s.sibling,u.index=s.index,u.ref=s.ref,u.refCleanup=s.refCleanup,u}function NC(s,c){s.flags&=65011714;var u=s.alternate;return u===null?(s.childLanes=0,s.lanes=c,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=u.childLanes,s.lanes=u.lanes,s.child=u.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=u.memoizedProps,s.memoizedState=u.memoizedState,s.updateQueue=u.updateQueue,s.type=u.type,c=u.dependencies,s.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),s}function km(s,c,u,p,m,v){var N=0;if(p=s,typeof s=="function")tv(s)&&(N=1);else if(typeof s=="string")N=t9(s,u,ne.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case k:return s=Br(31,u,c,m),s.elementType=k,s.lanes=v,s;case x:return Bc(u.children,m,v,c);case w:N=8,m|=24;break;case E:return s=Br(12,u,c,m|2),s.elementType=E,s.lanes=v,s;case O:return s=Br(13,u,c,m),s.elementType=O,s.lanes=v,s;case P:return s=Br(19,u,c,m),s.elementType=P,s.lanes=v,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case A:case S:N=10;break e;case C:N=9;break e;case R:N=11;break e;case M:N=14;break e;case I:N=16,p=null;break e}N=29,u=Error(r(130,s===null?"null":typeof s,"")),p=null}return c=Br(N,u,c,m),c.elementType=s,c.type=p,c.lanes=v,c}function Bc(s,c,u,p){return s=Br(7,s,p,c),s.lanes=u,s}function nv(s,c,u){return s=Br(6,s,null,c),s.lanes=u,s}function rv(s,c,u){return c=Br(4,s.children!==null?s.children:[],s.key,c),c.lanes=u,c.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},c}var Ou=[],Du=0,Um=null,Lm=0,oi=[],ai=0,Mc=null,Js=1,eo="";function kc(s,c){Ou[Du++]=Lm,Ou[Du++]=Um,Um=s,Lm=c}function RC(s,c,u){oi[ai++]=Js,oi[ai++]=eo,oi[ai++]=Mc,Mc=s;var p=Js;s=eo;var m=32-Wn(p)-1;p&=~(1<<m),u+=1;var v=32-Wn(c)+m;if(30<v){var N=m-m%5;v=(p&(1<<N)-1).toString(32),p>>=N,m-=N,Js=1<<32-Wn(c)+m|u<<m|p,eo=v+s}else Js=1<<v|u<<m|p,eo=s}function iv(s){s.return!==null&&(kc(s,1),RC(s,1,0))}function sv(s){for(;s===Um;)Um=Ou[--Du],Ou[Du]=null,Lm=Ou[--Du],Ou[Du]=null;for(;s===Mc;)Mc=oi[--ai],oi[ai]=null,eo=oi[--ai],oi[ai]=null,Js=oi[--ai],oi[ai]=null}var Xn=null,_t=null,ot=!1,Uc=null,as=!1,ov=Error(r(519));function Lc(s){var c=Error(r(418,""));throw Td(ii(c,s)),ov}function _C(s){var c=s.stateNode,u=s.type,p=s.memoizedProps;switch(c[Mn]=s,c[lr]=p,u){case"dialog":Qe("cancel",c),Qe("close",c);break;case"iframe":case"object":case"embed":Qe("load",c);break;case"video":case"audio":for(u=0;u<Yd.length;u++)Qe(Yd[u],c);break;case"source":Qe("error",c);break;case"img":case"image":case"link":Qe("error",c),Qe("load",c);break;case"details":Qe("toggle",c);break;case"input":Qe("invalid",c),KT(c,p.value,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name,!0),Sm(c);break;case"select":Qe("invalid",c);break;case"textarea":Qe("invalid",c),YT(c,p.value,p.defaultValue,p.children),Sm(c)}u=p.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||c.textContent===""+u||p.suppressHydrationWarning===!0||YO(c.textContent,u)?(p.popover!=null&&(Qe("beforetoggle",c),Qe("toggle",c)),p.onScroll!=null&&Qe("scroll",c),p.onScrollEnd!=null&&Qe("scrollend",c),p.onClick!=null&&(c.onclick=by),c=!0):c=!1,c||Lc(s)}function IC(s){for(Xn=s.return;Xn;)switch(Xn.tag){case 5:case 13:as=!1;return;case 27:case 3:as=!0;return;default:Xn=Xn.return}}function Ad(s){if(s!==Xn)return!1;if(!ot)return IC(s),ot=!0,!1;var c=s.tag,u;if((u=c!==3&&c!==27)&&((u=c===5)&&(u=s.type,u=!(u!=="form"&&u!=="button")||E1(s.type,s.memoizedProps)),u=!u),u&&_t&&Lc(s),IC(s),c===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));e:{for(s=s.nextSibling,c=0;s;){if(s.nodeType===8)if(u=s.data,u==="/$"){if(c===0){_t=Ui(s.nextSibling);break e}c--}else u!=="$"&&u!=="$!"&&u!=="$?"||c++;s=s.nextSibling}_t=null}}else c===27?(c=_t,ma(s.type)?(s=C1,C1=null,_t=s):_t=c):_t=Xn?Ui(s.stateNode.nextSibling):null;return!0}function Sd(){_t=Xn=null,ot=!1}function BC(){var s=Uc;return s!==null&&(dr===null?dr=s:dr.push.apply(dr,s),Uc=null),s}function Td(s){Uc===null?Uc=[s]:Uc.push(s)}var av=K(null),$c=null,to=null;function ta(s,c,u){X(av,c._currentValue),c._currentValue=u}function no(s){s._currentValue=av.current,te(av)}function cv(s,c,u){for(;s!==null;){var p=s.alternate;if((s.childLanes&c)!==c?(s.childLanes|=c,p!==null&&(p.childLanes|=c)):p!==null&&(p.childLanes&c)!==c&&(p.childLanes|=c),s===u)break;s=s.return}}function lv(s,c,u,p){var m=s.child;for(m!==null&&(m.return=s);m!==null;){var v=m.dependencies;if(v!==null){var N=m.child;v=v.firstContext;e:for(;v!==null;){var L=v;v=m;for(var Q=0;Q<c.length;Q++)if(L.context===c[Q]){v.lanes|=u,L=v.alternate,L!==null&&(L.lanes|=u),cv(v.return,u,s),p||(N=null);break e}v=L.next}}else if(m.tag===18){if(N=m.return,N===null)throw Error(r(341));N.lanes|=u,v=N.alternate,v!==null&&(v.lanes|=u),cv(N,u,s),N=null}else N=m.child;if(N!==null)N.return=m;else for(N=m;N!==null;){if(N===s){N=null;break}if(m=N.sibling,m!==null){m.return=N.return,N=m;break}N=N.return}m=N}}function Cd(s,c,u,p){s=null;for(var m=c,v=!1;m!==null;){if(!v){if((m.flags&524288)!==0)v=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var N=m.alternate;if(N===null)throw Error(r(387));if(N=N.memoizedProps,N!==null){var L=m.type;Ir(m.pendingProps.value,N.value)||(s!==null?s.push(L):s=[L])}}else if(m===he.current){if(N=m.alternate,N===null)throw Error(r(387));N.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(s!==null?s.push(tp):s=[tp])}m=m.return}s!==null&&lv(c,s,u,p),c.flags|=262144}function $m(s){for(s=s.firstContext;s!==null;){if(!Ir(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function jc(s){$c=s,to=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function kn(s){return MC($c,s)}function jm(s,c){return $c===null&&jc(s),MC(s,c)}function MC(s,c){var u=c._currentValue;if(c={context:c,memoizedValue:u,next:null},to===null){if(s===null)throw Error(r(308));to=c,s.dependencies={lanes:0,firstContext:c},s.flags|=524288}else to=to.next=c;return u}var ej=typeof AbortController<"u"?AbortController:function(){var s=[],c=this.signal={aborted:!1,addEventListener:function(u,p){s.push(p)}};this.abort=function(){c.aborted=!0,s.forEach(function(u){return u()})}},tj=t.unstable_scheduleCallback,nj=t.unstable_NormalPriority,Jt={$$typeof:S,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function uv(){return{controller:new ej,data:new Map,refCount:0}}function Od(s){s.refCount--,s.refCount===0&&tj(nj,function(){s.controller.abort()})}var Dd=null,fv=0,Pu=0,Nu=null;function rj(s,c){if(Dd===null){var u=Dd=[];fv=0,Pu=d1(),Nu={status:"pending",value:void 0,then:function(p){u.push(p)}}}return fv++,c.then(kC,kC),c}function kC(){if(--fv===0&&Dd!==null){Nu!==null&&(Nu.status="fulfilled");var s=Dd;Dd=null,Pu=0,Nu=null;for(var c=0;c<s.length;c++)(0,s[c])()}}function ij(s,c){var u=[],p={status:"pending",value:null,reason:null,then:function(m){u.push(m)}};return s.then(function(){p.status="fulfilled",p.value=c;for(var m=0;m<u.length;m++)(0,u[m])(c)},function(m){for(p.status="rejected",p.reason=m,m=0;m<u.length;m++)(0,u[m])(void 0)}),p}var UC=T.S;T.S=function(s,c){typeof c=="object"&&c!==null&&typeof c.then=="function"&&rj(s,c),UC!==null&&UC(s,c)};var Fc=K(null);function hv(){var s=Fc.current;return s!==null?s:vt.pooledCache}function Fm(s,c){c===null?X(Fc,Fc.current):X(Fc,c.pool)}function LC(){var s=hv();return s===null?null:{parent:Jt._currentValue,pool:s}}var Pd=Error(r(460)),$C=Error(r(474)),zm=Error(r(542)),dv={then:function(){}};function jC(s){return s=s.status,s==="fulfilled"||s==="rejected"}function Vm(){}function FC(s,c,u){switch(u=s[u],u===void 0?s.push(c):u!==c&&(c.then(Vm,Vm),c=u),c.status){case"fulfilled":return c.value;case"rejected":throw s=c.reason,VC(s),s;default:if(typeof c.status=="string")c.then(Vm,Vm);else{if(s=vt,s!==null&&100<s.shellSuspendCounter)throw Error(r(482));s=c,s.status="pending",s.then(function(p){if(c.status==="pending"){var m=c;m.status="fulfilled",m.value=p}},function(p){if(c.status==="pending"){var m=c;m.status="rejected",m.reason=p}})}switch(c.status){case"fulfilled":return c.value;case"rejected":throw s=c.reason,VC(s),s}throw Nd=c,Pd}}var Nd=null;function zC(){if(Nd===null)throw Error(r(459));var s=Nd;return Nd=null,s}function VC(s){if(s===Pd||s===zm)throw Error(r(483))}var na=!1;function pv(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function gv(s,c){s=s.updateQueue,c.updateQueue===s&&(c.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function ra(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function ia(s,c,u){var p=s.updateQueue;if(p===null)return null;if(p=p.shared,(lt&2)!==0){var m=p.pending;return m===null?c.next=c:(c.next=m.next,m.next=c),p.pending=c,c=Mm(s),PC(s,null,u),c}return Bm(s,p,c,u),Mm(s)}function Rd(s,c,u){if(c=c.updateQueue,c!==null&&(c=c.shared,(u&4194048)!==0)){var p=c.lanes;p&=s.pendingLanes,u|=p,c.lanes=u,kT(s,u)}}function mv(s,c){var u=s.updateQueue,p=s.alternate;if(p!==null&&(p=p.updateQueue,u===p)){var m=null,v=null;if(u=u.firstBaseUpdate,u!==null){do{var N={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};v===null?m=v=N:v=v.next=N,u=u.next}while(u!==null);v===null?m=v=c:v=v.next=c}else m=v=c;u={baseState:p.baseState,firstBaseUpdate:m,lastBaseUpdate:v,shared:p.shared,callbacks:p.callbacks},s.updateQueue=u;return}s=u.lastBaseUpdate,s===null?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=c}var yv=!1;function _d(){if(yv){var s=Nu;if(s!==null)throw s}}function Id(s,c,u,p){yv=!1;var m=s.updateQueue;na=!1;var v=m.firstBaseUpdate,N=m.lastBaseUpdate,L=m.shared.pending;if(L!==null){m.shared.pending=null;var Q=L,ie=Q.next;Q.next=null,N===null?v=ie:N.next=ie,N=Q;var le=s.alternate;le!==null&&(le=le.updateQueue,L=le.lastBaseUpdate,L!==N&&(L===null?le.firstBaseUpdate=ie:L.next=ie,le.lastBaseUpdate=Q))}if(v!==null){var pe=m.baseState;N=0,le=ie=Q=null,L=v;do{var oe=L.lane&-536870913,ae=oe!==L.lane;if(ae?(et&oe)===oe:(p&oe)===oe){oe!==0&&oe===Pu&&(yv=!0),le!==null&&(le=le.next={lane:0,tag:L.tag,payload:L.payload,callback:null,next:null});e:{var ke=s,Ie=L;oe=c;var gt=u;switch(Ie.tag){case 1:if(ke=Ie.payload,typeof ke=="function"){pe=ke.call(gt,pe,oe);break e}pe=ke;break e;case 3:ke.flags=ke.flags&-65537|128;case 0:if(ke=Ie.payload,oe=typeof ke=="function"?ke.call(gt,pe,oe):ke,oe==null)break e;pe=d({},pe,oe);break e;case 2:na=!0}}oe=L.callback,oe!==null&&(s.flags|=64,ae&&(s.flags|=8192),ae=m.callbacks,ae===null?m.callbacks=[oe]:ae.push(oe))}else ae={lane:oe,tag:L.tag,payload:L.payload,callback:L.callback,next:null},le===null?(ie=le=ae,Q=pe):le=le.next=ae,N|=oe;if(L=L.next,L===null){if(L=m.shared.pending,L===null)break;ae=L,L=ae.next,ae.next=null,m.lastBaseUpdate=ae,m.shared.pending=null}}while(!0);le===null&&(Q=pe),m.baseState=Q,m.firstBaseUpdate=ie,m.lastBaseUpdate=le,v===null&&(m.shared.lanes=0),ha|=N,s.lanes=N,s.memoizedState=pe}}function HC(s,c){if(typeof s!="function")throw Error(r(191,s));s.call(c)}function qC(s,c){var u=s.callbacks;if(u!==null)for(s.callbacks=null,s=0;s<u.length;s++)HC(u[s],c)}var Ru=K(null),Hm=K(0);function GC(s,c){s=lo,X(Hm,s),X(Ru,c),lo=s|c.baseLanes}function bv(){X(Hm,lo),X(Ru,Ru.current)}function wv(){lo=Hm.current,te(Ru),te(Hm)}var sa=0,Fe=null,dt=null,Gt=null,qm=!1,_u=!1,zc=!1,Gm=0,Bd=0,Iu=null,sj=0;function Lt(){throw Error(r(321))}function vv(s,c){if(c===null)return!1;for(var u=0;u<c.length&&u<s.length;u++)if(!Ir(s[u],c[u]))return!1;return!0}function xv(s,c,u,p,m,v){return sa=v,Fe=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,T.H=s===null||s.memoizedState===null?P3:N3,zc=!1,v=u(p,m),zc=!1,_u&&(v=QC(c,u,p,m)),KC(s),v}function KC(s){T.H=Zm;var c=dt!==null&&dt.next!==null;if(sa=0,Gt=dt=Fe=null,qm=!1,Bd=0,Iu=null,c)throw Error(r(300));s===null||un||(s=s.dependencies,s!==null&&$m(s)&&(un=!0))}function QC(s,c,u,p){Fe=s;var m=0;do{if(_u&&(Iu=null),Bd=0,_u=!1,25<=m)throw Error(r(301));if(m+=1,Gt=dt=null,s.updateQueue!=null){var v=s.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}T.H=hj,v=c(u,p)}while(_u);return v}function oj(){var s=T.H,c=s.useState()[0];return c=typeof c.then=="function"?Md(c):c,s=s.useState()[0],(dt!==null?dt.memoizedState:null)!==s&&(Fe.flags|=1024),c}function Ev(){var s=Gm!==0;return Gm=0,s}function Av(s,c,u){c.updateQueue=s.updateQueue,c.flags&=-2053,s.lanes&=~u}function Sv(s){if(qm){for(s=s.memoizedState;s!==null;){var c=s.queue;c!==null&&(c.pending=null),s=s.next}qm=!1}sa=0,Gt=dt=Fe=null,_u=!1,Bd=Gm=0,Iu=null}function fr(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Gt===null?Fe.memoizedState=Gt=s:Gt=Gt.next=s,Gt}function Kt(){if(dt===null){var s=Fe.alternate;s=s!==null?s.memoizedState:null}else s=dt.next;var c=Gt===null?Fe.memoizedState:Gt.next;if(c!==null)Gt=c,dt=s;else{if(s===null)throw Fe.alternate===null?Error(r(467)):Error(r(310));dt=s,s={memoizedState:dt.memoizedState,baseState:dt.baseState,baseQueue:dt.baseQueue,queue:dt.queue,next:null},Gt===null?Fe.memoizedState=Gt=s:Gt=Gt.next=s}return Gt}function Tv(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Md(s){var c=Bd;return Bd+=1,Iu===null&&(Iu=[]),s=FC(Iu,s,c),c=Fe,(Gt===null?c.memoizedState:Gt.next)===null&&(c=c.alternate,T.H=c===null||c.memoizedState===null?P3:N3),s}function Km(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Md(s);if(s.$$typeof===S)return kn(s)}throw Error(r(438,String(s)))}function Cv(s){var c=null,u=Fe.updateQueue;if(u!==null&&(c=u.memoCache),c==null){var p=Fe.alternate;p!==null&&(p=p.updateQueue,p!==null&&(p=p.memoCache,p!=null&&(c={data:p.data.map(function(m){return m.slice()}),index:0})))}if(c==null&&(c={data:[],index:0}),u===null&&(u=Tv(),Fe.updateQueue=u),u.memoCache=c,u=c.data[c.index],u===void 0)for(u=c.data[c.index]=Array(s),p=0;p<s;p++)u[p]=z;return c.index++,u}function ro(s,c){return typeof c=="function"?c(s):c}function Qm(s){var c=Kt();return Ov(c,dt,s)}function Ov(s,c,u){var p=s.queue;if(p===null)throw Error(r(311));p.lastRenderedReducer=u;var m=s.baseQueue,v=p.pending;if(v!==null){if(m!==null){var N=m.next;m.next=v.next,v.next=N}c.baseQueue=m=v,p.pending=null}if(v=s.baseState,m===null)s.memoizedState=v;else{c=m.next;var L=N=null,Q=null,ie=c,le=!1;do{var pe=ie.lane&-536870913;if(pe!==ie.lane?(et&pe)===pe:(sa&pe)===pe){var oe=ie.revertLane;if(oe===0)Q!==null&&(Q=Q.next={lane:0,revertLane:0,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null}),pe===Pu&&(le=!0);else if((sa&oe)===oe){ie=ie.next,oe===Pu&&(le=!0);continue}else pe={lane:0,revertLane:ie.revertLane,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null},Q===null?(L=Q=pe,N=v):Q=Q.next=pe,Fe.lanes|=oe,ha|=oe;pe=ie.action,zc&&u(v,pe),v=ie.hasEagerState?ie.eagerState:u(v,pe)}else oe={lane:pe,revertLane:ie.revertLane,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null},Q===null?(L=Q=oe,N=v):Q=Q.next=oe,Fe.lanes|=pe,ha|=pe;ie=ie.next}while(ie!==null&&ie!==c);if(Q===null?N=v:Q.next=L,!Ir(v,s.memoizedState)&&(un=!0,le&&(u=Nu,u!==null)))throw u;s.memoizedState=v,s.baseState=N,s.baseQueue=Q,p.lastRenderedState=v}return m===null&&(p.lanes=0),[s.memoizedState,p.dispatch]}function Dv(s){var c=Kt(),u=c.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=s;var p=u.dispatch,m=u.pending,v=c.memoizedState;if(m!==null){u.pending=null;var N=m=m.next;do v=s(v,N.action),N=N.next;while(N!==m);Ir(v,c.memoizedState)||(un=!0),c.memoizedState=v,c.baseQueue===null&&(c.baseState=v),u.lastRenderedState=v}return[v,p]}function YC(s,c,u){var p=Fe,m=Kt(),v=ot;if(v){if(u===void 0)throw Error(r(407));u=u()}else u=c();var N=!Ir((dt||m).memoizedState,u);N&&(m.memoizedState=u,un=!0),m=m.queue;var L=ZC.bind(null,p,m,s);if(kd(2048,8,L,[s]),m.getSnapshot!==c||N||Gt!==null&&Gt.memoizedState.tag&1){if(p.flags|=2048,Bu(9,Ym(),XC.bind(null,p,m,u,c),null),vt===null)throw Error(r(349));v||(sa&124)!==0||WC(p,c,u)}return u}function WC(s,c,u){s.flags|=16384,s={getSnapshot:c,value:u},c=Fe.updateQueue,c===null?(c=Tv(),Fe.updateQueue=c,c.stores=[s]):(u=c.stores,u===null?c.stores=[s]:u.push(s))}function XC(s,c,u,p){c.value=u,c.getSnapshot=p,JC(c)&&e3(s)}function ZC(s,c,u){return u(function(){JC(c)&&e3(s)})}function JC(s){var c=s.getSnapshot;s=s.value;try{var u=c();return!Ir(s,u)}catch{return!0}}function e3(s){var c=Tu(s,2);c!==null&&$r(c,s,2)}function Pv(s){var c=fr();if(typeof s=="function"){var u=s;if(s=u(),zc){os(!0);try{u()}finally{os(!1)}}}return c.memoizedState=c.baseState=s,c.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ro,lastRenderedState:s},c}function t3(s,c,u,p){return s.baseState=u,Ov(s,dt,typeof p=="function"?p:ro)}function aj(s,c,u,p,m){if(Xm(s))throw Error(r(485));if(s=c.action,s!==null){var v={payload:m,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(N){v.listeners.push(N)}};T.T!==null?u(!0):v.isTransition=!1,p(v),u=c.pending,u===null?(v.next=c.pending=v,n3(c,v)):(v.next=u.next,c.pending=u.next=v)}}function n3(s,c){var u=c.action,p=c.payload,m=s.state;if(c.isTransition){var v=T.T,N={};T.T=N;try{var L=u(m,p),Q=T.S;Q!==null&&Q(N,L),r3(s,c,L)}catch(ie){Nv(s,c,ie)}finally{T.T=v}}else try{v=u(m,p),r3(s,c,v)}catch(ie){Nv(s,c,ie)}}function r3(s,c,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(p){i3(s,c,p)},function(p){return Nv(s,c,p)}):i3(s,c,u)}function i3(s,c,u){c.status="fulfilled",c.value=u,s3(c),s.state=u,c=s.pending,c!==null&&(u=c.next,u===c?s.pending=null:(u=u.next,c.next=u,n3(s,u)))}function Nv(s,c,u){var p=s.pending;if(s.pending=null,p!==null){p=p.next;do c.status="rejected",c.reason=u,s3(c),c=c.next;while(c!==p)}s.action=null}function s3(s){s=s.listeners;for(var c=0;c<s.length;c++)(0,s[c])()}function o3(s,c){return c}function a3(s,c){if(ot){var u=vt.formState;if(u!==null){e:{var p=Fe;if(ot){if(_t){t:{for(var m=_t,v=as;m.nodeType!==8;){if(!v){m=null;break t}if(m=Ui(m.nextSibling),m===null){m=null;break t}}v=m.data,m=v==="F!"||v==="F"?m:null}if(m){_t=Ui(m.nextSibling),p=m.data==="F!";break e}}Lc(p)}p=!1}p&&(c=u[0])}}return u=fr(),u.memoizedState=u.baseState=c,p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o3,lastRenderedState:c},u.queue=p,u=C3.bind(null,Fe,p),p.dispatch=u,p=Pv(!1),v=Mv.bind(null,Fe,!1,p.queue),p=fr(),m={state:c,dispatch:null,action:s,pending:null},p.queue=m,u=aj.bind(null,Fe,m,v,u),m.dispatch=u,p.memoizedState=s,[c,u,!1]}function c3(s){var c=Kt();return l3(c,dt,s)}function l3(s,c,u){if(c=Ov(s,c,o3)[0],s=Qm(ro)[0],typeof c=="object"&&c!==null&&typeof c.then=="function")try{var p=Md(c)}catch(N){throw N===Pd?zm:N}else p=c;c=Kt();var m=c.queue,v=m.dispatch;return u!==c.memoizedState&&(Fe.flags|=2048,Bu(9,Ym(),cj.bind(null,m,u),null)),[p,v,s]}function cj(s,c){s.action=c}function u3(s){var c=Kt(),u=dt;if(u!==null)return l3(c,u,s);Kt(),c=c.memoizedState,u=Kt();var p=u.queue.dispatch;return u.memoizedState=s,[c,p,!1]}function Bu(s,c,u,p){return s={tag:s,create:u,deps:p,inst:c,next:null},c=Fe.updateQueue,c===null&&(c=Tv(),Fe.updateQueue=c),u=c.lastEffect,u===null?c.lastEffect=s.next=s:(p=u.next,u.next=s,s.next=p,c.lastEffect=s),s}function Ym(){return{destroy:void 0,resource:void 0}}function f3(){return Kt().memoizedState}function Wm(s,c,u,p){var m=fr();p=p===void 0?null:p,Fe.flags|=s,m.memoizedState=Bu(1|c,Ym(),u,p)}function kd(s,c,u,p){var m=Kt();p=p===void 0?null:p;var v=m.memoizedState.inst;dt!==null&&p!==null&&vv(p,dt.memoizedState.deps)?m.memoizedState=Bu(c,v,u,p):(Fe.flags|=s,m.memoizedState=Bu(1|c,v,u,p))}function h3(s,c){Wm(8390656,8,s,c)}function d3(s,c){kd(2048,8,s,c)}function p3(s,c){return kd(4,2,s,c)}function g3(s,c){return kd(4,4,s,c)}function m3(s,c){if(typeof c=="function"){s=s();var u=c(s);return function(){typeof u=="function"?u():c(null)}}if(c!=null)return s=s(),c.current=s,function(){c.current=null}}function y3(s,c,u){u=u!=null?u.concat([s]):null,kd(4,4,m3.bind(null,c,s),u)}function Rv(){}function b3(s,c){var u=Kt();c=c===void 0?null:c;var p=u.memoizedState;return c!==null&&vv(c,p[1])?p[0]:(u.memoizedState=[s,c],s)}function w3(s,c){var u=Kt();c=c===void 0?null:c;var p=u.memoizedState;if(c!==null&&vv(c,p[1]))return p[0];if(p=s(),zc){os(!0);try{s()}finally{os(!1)}}return u.memoizedState=[p,c],p}function _v(s,c,u){return u===void 0||(sa&1073741824)!==0?s.memoizedState=c:(s.memoizedState=u,s=EO(),Fe.lanes|=s,ha|=s,u)}function v3(s,c,u,p){return Ir(u,c)?u:Ru.current!==null?(s=_v(s,u,p),Ir(s,c)||(un=!0),s):(sa&42)===0?(un=!0,s.memoizedState=u):(s=EO(),Fe.lanes|=s,ha|=s,c)}function x3(s,c,u,p,m){var v=U.p;U.p=v!==0&&8>v?v:8;var N=T.T,L={};T.T=L,Mv(s,!1,c,u);try{var Q=m(),ie=T.S;if(ie!==null&&ie(L,Q),Q!==null&&typeof Q=="object"&&typeof Q.then=="function"){var le=ij(Q,p);Ud(s,c,le,Lr(s))}else Ud(s,c,p,Lr(s))}catch(pe){Ud(s,c,{then:function(){},status:"rejected",reason:pe},Lr())}finally{U.p=v,T.T=N}}function lj(){}function Iv(s,c,u,p){if(s.tag!==5)throw Error(r(476));var m=E3(s).queue;x3(s,m,c,$,u===null?lj:function(){return A3(s),u(p)})}function E3(s){var c=s.memoizedState;if(c!==null)return c;c={memoizedState:$,baseState:$,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ro,lastRenderedState:$},next:null};var u={};return c.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ro,lastRenderedState:u},next:null},s.memoizedState=c,s=s.alternate,s!==null&&(s.memoizedState=c),c}function A3(s){var c=E3(s).next.queue;Ud(s,c,{},Lr())}function Bv(){return kn(tp)}function S3(){return Kt().memoizedState}function T3(){return Kt().memoizedState}function uj(s){for(var c=s.return;c!==null;){switch(c.tag){case 24:case 3:var u=Lr();s=ra(u);var p=ia(c,s,u);p!==null&&($r(p,c,u),Rd(p,c,u)),c={cache:uv()},s.payload=c;return}c=c.return}}function fj(s,c,u){var p=Lr();u={lane:p,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null},Xm(s)?O3(c,u):(u=ev(s,c,u,p),u!==null&&($r(u,s,p),D3(u,c,p)))}function C3(s,c,u){var p=Lr();Ud(s,c,u,p)}function Ud(s,c,u,p){var m={lane:p,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null};if(Xm(s))O3(c,m);else{var v=s.alternate;if(s.lanes===0&&(v===null||v.lanes===0)&&(v=c.lastRenderedReducer,v!==null))try{var N=c.lastRenderedState,L=v(N,u);if(m.hasEagerState=!0,m.eagerState=L,Ir(L,N))return Bm(s,c,m,0),vt===null&&Im(),!1}catch{}finally{}if(u=ev(s,c,m,p),u!==null)return $r(u,s,p),D3(u,c,p),!0}return!1}function Mv(s,c,u,p){if(p={lane:2,revertLane:d1(),action:p,hasEagerState:!1,eagerState:null,next:null},Xm(s)){if(c)throw Error(r(479))}else c=ev(s,u,p,2),c!==null&&$r(c,s,2)}function Xm(s){var c=s.alternate;return s===Fe||c!==null&&c===Fe}function O3(s,c){_u=qm=!0;var u=s.pending;u===null?c.next=c:(c.next=u.next,u.next=c),s.pending=c}function D3(s,c,u){if((u&4194048)!==0){var p=c.lanes;p&=s.pendingLanes,u|=p,c.lanes=u,kT(s,u)}}var Zm={readContext:kn,use:Km,useCallback:Lt,useContext:Lt,useEffect:Lt,useImperativeHandle:Lt,useLayoutEffect:Lt,useInsertionEffect:Lt,useMemo:Lt,useReducer:Lt,useRef:Lt,useState:Lt,useDebugValue:Lt,useDeferredValue:Lt,useTransition:Lt,useSyncExternalStore:Lt,useId:Lt,useHostTransitionStatus:Lt,useFormState:Lt,useActionState:Lt,useOptimistic:Lt,useMemoCache:Lt,useCacheRefresh:Lt},P3={readContext:kn,use:Km,useCallback:function(s,c){return fr().memoizedState=[s,c===void 0?null:c],s},useContext:kn,useEffect:h3,useImperativeHandle:function(s,c,u){u=u!=null?u.concat([s]):null,Wm(4194308,4,m3.bind(null,c,s),u)},useLayoutEffect:function(s,c){return Wm(4194308,4,s,c)},useInsertionEffect:function(s,c){Wm(4,2,s,c)},useMemo:function(s,c){var u=fr();c=c===void 0?null:c;var p=s();if(zc){os(!0);try{s()}finally{os(!1)}}return u.memoizedState=[p,c],p},useReducer:function(s,c,u){var p=fr();if(u!==void 0){var m=u(c);if(zc){os(!0);try{u(c)}finally{os(!1)}}}else m=c;return p.memoizedState=p.baseState=m,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:m},p.queue=s,s=s.dispatch=fj.bind(null,Fe,s),[p.memoizedState,s]},useRef:function(s){var c=fr();return s={current:s},c.memoizedState=s},useState:function(s){s=Pv(s);var c=s.queue,u=C3.bind(null,Fe,c);return c.dispatch=u,[s.memoizedState,u]},useDebugValue:Rv,useDeferredValue:function(s,c){var u=fr();return _v(u,s,c)},useTransition:function(){var s=Pv(!1);return s=x3.bind(null,Fe,s.queue,!0,!1),fr().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,c,u){var p=Fe,m=fr();if(ot){if(u===void 0)throw Error(r(407));u=u()}else{if(u=c(),vt===null)throw Error(r(349));(et&124)!==0||WC(p,c,u)}m.memoizedState=u;var v={value:u,getSnapshot:c};return m.queue=v,h3(ZC.bind(null,p,v,s),[s]),p.flags|=2048,Bu(9,Ym(),XC.bind(null,p,v,u,c),null),u},useId:function(){var s=fr(),c=vt.identifierPrefix;if(ot){var u=eo,p=Js;u=(p&~(1<<32-Wn(p)-1)).toString(32)+u,c="«"+c+"R"+u,u=Gm++,0<u&&(c+="H"+u.toString(32)),c+="»"}else u=sj++,c="«"+c+"r"+u.toString(32)+"»";return s.memoizedState=c},useHostTransitionStatus:Bv,useFormState:a3,useActionState:a3,useOptimistic:function(s){var c=fr();c.memoizedState=c.baseState=s;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return c.queue=u,c=Mv.bind(null,Fe,!0,u),u.dispatch=c,[s,c]},useMemoCache:Cv,useCacheRefresh:function(){return fr().memoizedState=uj.bind(null,Fe)}},N3={readContext:kn,use:Km,useCallback:b3,useContext:kn,useEffect:d3,useImperativeHandle:y3,useInsertionEffect:p3,useLayoutEffect:g3,useMemo:w3,useReducer:Qm,useRef:f3,useState:function(){return Qm(ro)},useDebugValue:Rv,useDeferredValue:function(s,c){var u=Kt();return v3(u,dt.memoizedState,s,c)},useTransition:function(){var s=Qm(ro)[0],c=Kt().memoizedState;return[typeof s=="boolean"?s:Md(s),c]},useSyncExternalStore:YC,useId:S3,useHostTransitionStatus:Bv,useFormState:c3,useActionState:c3,useOptimistic:function(s,c){var u=Kt();return t3(u,dt,s,c)},useMemoCache:Cv,useCacheRefresh:T3},hj={readContext:kn,use:Km,useCallback:b3,useContext:kn,useEffect:d3,useImperativeHandle:y3,useInsertionEffect:p3,useLayoutEffect:g3,useMemo:w3,useReducer:Dv,useRef:f3,useState:function(){return Dv(ro)},useDebugValue:Rv,useDeferredValue:function(s,c){var u=Kt();return dt===null?_v(u,s,c):v3(u,dt.memoizedState,s,c)},useTransition:function(){var s=Dv(ro)[0],c=Kt().memoizedState;return[typeof s=="boolean"?s:Md(s),c]},useSyncExternalStore:YC,useId:S3,useHostTransitionStatus:Bv,useFormState:u3,useActionState:u3,useOptimistic:function(s,c){var u=Kt();return dt!==null?t3(u,dt,s,c):(u.baseState=s,[s,u.queue.dispatch])},useMemoCache:Cv,useCacheRefresh:T3},Mu=null,Ld=0;function Jm(s){var c=Ld;return Ld+=1,Mu===null&&(Mu=[]),FC(Mu,s,c)}function $d(s,c){c=c.props.ref,s.ref=c!==void 0?c:null}function ey(s,c){throw c.$$typeof===g?Error(r(525)):(s=Object.prototype.toString.call(c),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":s)))}function R3(s){var c=s._init;return c(s._payload)}function _3(s){function c(ee,W){if(s){var re=ee.deletions;re===null?(ee.deletions=[W],ee.flags|=16):re.push(W)}}function u(ee,W){if(!s)return null;for(;W!==null;)c(ee,W),W=W.sibling;return null}function p(ee){for(var W=new Map;ee!==null;)ee.key!==null?W.set(ee.key,ee):W.set(ee.index,ee),ee=ee.sibling;return W}function m(ee,W){return ee=Zs(ee,W),ee.index=0,ee.sibling=null,ee}function v(ee,W,re){return ee.index=re,s?(re=ee.alternate,re!==null?(re=re.index,re<W?(ee.flags|=67108866,W):re):(ee.flags|=67108866,W)):(ee.flags|=1048576,W)}function N(ee){return s&&ee.alternate===null&&(ee.flags|=67108866),ee}function L(ee,W,re,de){return W===null||W.tag!==6?(W=nv(re,ee.mode,de),W.return=ee,W):(W=m(W,re),W.return=ee,W)}function Q(ee,W,re,de){var Oe=re.type;return Oe===x?le(ee,W,re.props.children,de,re.key):W!==null&&(W.elementType===Oe||typeof Oe=="object"&&Oe!==null&&Oe.$$typeof===I&&R3(Oe)===W.type)?(W=m(W,re.props),$d(W,re),W.return=ee,W):(W=km(re.type,re.key,re.props,null,ee.mode,de),$d(W,re),W.return=ee,W)}function ie(ee,W,re,de){return W===null||W.tag!==4||W.stateNode.containerInfo!==re.containerInfo||W.stateNode.implementation!==re.implementation?(W=rv(re,ee.mode,de),W.return=ee,W):(W=m(W,re.children||[]),W.return=ee,W)}function le(ee,W,re,de,Oe){return W===null||W.tag!==7?(W=Bc(re,ee.mode,de,Oe),W.return=ee,W):(W=m(W,re),W.return=ee,W)}function pe(ee,W,re){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return W=nv(""+W,ee.mode,re),W.return=ee,W;if(typeof W=="object"&&W!==null){switch(W.$$typeof){case y:return re=km(W.type,W.key,W.props,null,ee.mode,re),$d(re,W),re.return=ee,re;case b:return W=rv(W,ee.mode,re),W.return=ee,W;case I:var de=W._init;return W=de(W._payload),pe(ee,W,re)}if(D(W)||G(W))return W=Bc(W,ee.mode,re,null),W.return=ee,W;if(typeof W.then=="function")return pe(ee,Jm(W),re);if(W.$$typeof===S)return pe(ee,jm(ee,W),re);ey(ee,W)}return null}function oe(ee,W,re,de){var Oe=W!==null?W.key:null;if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return Oe!==null?null:L(ee,W,""+re,de);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case y:return re.key===Oe?Q(ee,W,re,de):null;case b:return re.key===Oe?ie(ee,W,re,de):null;case I:return Oe=re._init,re=Oe(re._payload),oe(ee,W,re,de)}if(D(re)||G(re))return Oe!==null?null:le(ee,W,re,de,null);if(typeof re.then=="function")return oe(ee,W,Jm(re),de);if(re.$$typeof===S)return oe(ee,W,jm(ee,re),de);ey(ee,re)}return null}function ae(ee,W,re,de,Oe){if(typeof de=="string"&&de!==""||typeof de=="number"||typeof de=="bigint")return ee=ee.get(re)||null,L(W,ee,""+de,Oe);if(typeof de=="object"&&de!==null){switch(de.$$typeof){case y:return ee=ee.get(de.key===null?re:de.key)||null,Q(W,ee,de,Oe);case b:return ee=ee.get(de.key===null?re:de.key)||null,ie(W,ee,de,Oe);case I:var Ve=de._init;return de=Ve(de._payload),ae(ee,W,re,de,Oe)}if(D(de)||G(de))return ee=ee.get(re)||null,le(W,ee,de,Oe,null);if(typeof de.then=="function")return ae(ee,W,re,Jm(de),Oe);if(de.$$typeof===S)return ae(ee,W,re,jm(W,de),Oe);ey(W,de)}return null}function ke(ee,W,re,de){for(var Oe=null,Ve=null,Re=W,Be=W=0,hn=null;Re!==null&&Be<re.length;Be++){Re.index>Be?(hn=Re,Re=null):hn=Re.sibling;var tt=oe(ee,Re,re[Be],de);if(tt===null){Re===null&&(Re=hn);break}s&&Re&&tt.alternate===null&&c(ee,Re),W=v(tt,W,Be),Ve===null?Oe=tt:Ve.sibling=tt,Ve=tt,Re=hn}if(Be===re.length)return u(ee,Re),ot&&kc(ee,Be),Oe;if(Re===null){for(;Be<re.length;Be++)Re=pe(ee,re[Be],de),Re!==null&&(W=v(Re,W,Be),Ve===null?Oe=Re:Ve.sibling=Re,Ve=Re);return ot&&kc(ee,Be),Oe}for(Re=p(Re);Be<re.length;Be++)hn=ae(Re,ee,Be,re[Be],de),hn!==null&&(s&&hn.alternate!==null&&Re.delete(hn.key===null?Be:hn.key),W=v(hn,W,Be),Ve===null?Oe=hn:Ve.sibling=hn,Ve=hn);return s&&Re.forEach(function(xa){return c(ee,xa)}),ot&&kc(ee,Be),Oe}function Ie(ee,W,re,de){if(re==null)throw Error(r(151));for(var Oe=null,Ve=null,Re=W,Be=W=0,hn=null,tt=re.next();Re!==null&&!tt.done;Be++,tt=re.next()){Re.index>Be?(hn=Re,Re=null):hn=Re.sibling;var xa=oe(ee,Re,tt.value,de);if(xa===null){Re===null&&(Re=hn);break}s&&Re&&xa.alternate===null&&c(ee,Re),W=v(xa,W,Be),Ve===null?Oe=xa:Ve.sibling=xa,Ve=xa,Re=hn}if(tt.done)return u(ee,Re),ot&&kc(ee,Be),Oe;if(Re===null){for(;!tt.done;Be++,tt=re.next())tt=pe(ee,tt.value,de),tt!==null&&(W=v(tt,W,Be),Ve===null?Oe=tt:Ve.sibling=tt,Ve=tt);return ot&&kc(ee,Be),Oe}for(Re=p(Re);!tt.done;Be++,tt=re.next())tt=ae(Re,ee,Be,tt.value,de),tt!==null&&(s&&tt.alternate!==null&&Re.delete(tt.key===null?Be:tt.key),W=v(tt,W,Be),Ve===null?Oe=tt:Ve.sibling=tt,Ve=tt);return s&&Re.forEach(function(d9){return c(ee,d9)}),ot&&kc(ee,Be),Oe}function gt(ee,W,re,de){if(typeof re=="object"&&re!==null&&re.type===x&&re.key===null&&(re=re.props.children),typeof re=="object"&&re!==null){switch(re.$$typeof){case y:e:{for(var Oe=re.key;W!==null;){if(W.key===Oe){if(Oe=re.type,Oe===x){if(W.tag===7){u(ee,W.sibling),de=m(W,re.props.children),de.return=ee,ee=de;break e}}else if(W.elementType===Oe||typeof Oe=="object"&&Oe!==null&&Oe.$$typeof===I&&R3(Oe)===W.type){u(ee,W.sibling),de=m(W,re.props),$d(de,re),de.return=ee,ee=de;break e}u(ee,W);break}else c(ee,W);W=W.sibling}re.type===x?(de=Bc(re.props.children,ee.mode,de,re.key),de.return=ee,ee=de):(de=km(re.type,re.key,re.props,null,ee.mode,de),$d(de,re),de.return=ee,ee=de)}return N(ee);case b:e:{for(Oe=re.key;W!==null;){if(W.key===Oe)if(W.tag===4&&W.stateNode.containerInfo===re.containerInfo&&W.stateNode.implementation===re.implementation){u(ee,W.sibling),de=m(W,re.children||[]),de.return=ee,ee=de;break e}else{u(ee,W);break}else c(ee,W);W=W.sibling}de=rv(re,ee.mode,de),de.return=ee,ee=de}return N(ee);case I:return Oe=re._init,re=Oe(re._payload),gt(ee,W,re,de)}if(D(re))return ke(ee,W,re,de);if(G(re)){if(Oe=G(re),typeof Oe!="function")throw Error(r(150));return re=Oe.call(re),Ie(ee,W,re,de)}if(typeof re.then=="function")return gt(ee,W,Jm(re),de);if(re.$$typeof===S)return gt(ee,W,jm(ee,re),de);ey(ee,re)}return typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint"?(re=""+re,W!==null&&W.tag===6?(u(ee,W.sibling),de=m(W,re),de.return=ee,ee=de):(u(ee,W),de=nv(re,ee.mode,de),de.return=ee,ee=de),N(ee)):u(ee,W)}return function(ee,W,re,de){try{Ld=0;var Oe=gt(ee,W,re,de);return Mu=null,Oe}catch(Re){if(Re===Pd||Re===zm)throw Re;var Ve=Br(29,Re,null,ee.mode);return Ve.lanes=de,Ve.return=ee,Ve}finally{}}}var ku=_3(!0),I3=_3(!1),ci=K(null),cs=null;function oa(s){var c=s.alternate;X(en,en.current&1),X(ci,s),cs===null&&(c===null||Ru.current!==null||c.memoizedState!==null)&&(cs=s)}function B3(s){if(s.tag===22){if(X(en,en.current),X(ci,s),cs===null){var c=s.alternate;c!==null&&c.memoizedState!==null&&(cs=s)}}else aa()}function aa(){X(en,en.current),X(ci,ci.current)}function io(s){te(ci),cs===s&&(cs=null),te(en)}var en=K(0);function ty(s){for(var c=s;c!==null;){if(c.tag===13){var u=c.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||T1(u)))return c}else if(c.tag===19&&c.memoizedProps.revealOrder!==void 0){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===s)break;for(;c.sibling===null;){if(c.return===null||c.return===s)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}function kv(s,c,u,p){c=s.memoizedState,u=u(p,c),u=u==null?c:d({},c,u),s.memoizedState=u,s.lanes===0&&(s.updateQueue.baseState=u)}var Uv={enqueueSetState:function(s,c,u){s=s._reactInternals;var p=Lr(),m=ra(p);m.payload=c,u!=null&&(m.callback=u),c=ia(s,m,p),c!==null&&($r(c,s,p),Rd(c,s,p))},enqueueReplaceState:function(s,c,u){s=s._reactInternals;var p=Lr(),m=ra(p);m.tag=1,m.payload=c,u!=null&&(m.callback=u),c=ia(s,m,p),c!==null&&($r(c,s,p),Rd(c,s,p))},enqueueForceUpdate:function(s,c){s=s._reactInternals;var u=Lr(),p=ra(u);p.tag=2,c!=null&&(p.callback=c),c=ia(s,p,u),c!==null&&($r(c,s,u),Rd(c,s,u))}};function M3(s,c,u,p,m,v,N){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(p,v,N):c.prototype&&c.prototype.isPureReactComponent?!xd(u,p)||!xd(m,v):!0}function k3(s,c,u,p){s=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(u,p),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(u,p),c.state!==s&&Uv.enqueueReplaceState(c,c.state,null)}function Vc(s,c){var u=c;if("ref"in c){u={};for(var p in c)p!=="ref"&&(u[p]=c[p])}if(s=s.defaultProps){u===c&&(u=d({},u));for(var m in s)u[m]===void 0&&(u[m]=s[m])}return u}var ny=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var c=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(c))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)};function U3(s){ny(s)}function L3(s){console.error(s)}function $3(s){ny(s)}function ry(s,c){try{var u=s.onUncaughtError;u(c.value,{componentStack:c.stack})}catch(p){setTimeout(function(){throw p})}}function j3(s,c,u){try{var p=s.onCaughtError;p(u.value,{componentStack:u.stack,errorBoundary:c.tag===1?c.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function Lv(s,c,u){return u=ra(u),u.tag=3,u.payload={element:null},u.callback=function(){ry(s,c)},u}function F3(s){return s=ra(s),s.tag=3,s}function z3(s,c,u,p){var m=u.type.getDerivedStateFromError;if(typeof m=="function"){var v=p.value;s.payload=function(){return m(v)},s.callback=function(){j3(c,u,p)}}var N=u.stateNode;N!==null&&typeof N.componentDidCatch=="function"&&(s.callback=function(){j3(c,u,p),typeof m!="function"&&(da===null?da=new Set([this]):da.add(this));var L=p.stack;this.componentDidCatch(p.value,{componentStack:L!==null?L:""})})}function dj(s,c,u,p,m){if(u.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){if(c=u.alternate,c!==null&&Cd(c,u,m,!0),u=ci.current,u!==null){switch(u.tag){case 13:return cs===null?c1():u.alternate===null&&It===0&&(It=3),u.flags&=-257,u.flags|=65536,u.lanes=m,p===dv?u.flags|=16384:(c=u.updateQueue,c===null?u.updateQueue=new Set([p]):c.add(p),u1(s,p,m)),!1;case 22:return u.flags|=65536,p===dv?u.flags|=16384:(c=u.updateQueue,c===null?(c={transitions:null,markerInstances:null,retryQueue:new Set([p])},u.updateQueue=c):(u=c.retryQueue,u===null?c.retryQueue=new Set([p]):u.add(p)),u1(s,p,m)),!1}throw Error(r(435,u.tag))}return u1(s,p,m),c1(),!1}if(ot)return c=ci.current,c!==null?((c.flags&65536)===0&&(c.flags|=256),c.flags|=65536,c.lanes=m,p!==ov&&(s=Error(r(422),{cause:p}),Td(ii(s,u)))):(p!==ov&&(c=Error(r(423),{cause:p}),Td(ii(c,u))),s=s.current.alternate,s.flags|=65536,m&=-m,s.lanes|=m,p=ii(p,u),m=Lv(s.stateNode,p,m),mv(s,m),It!==4&&(It=2)),!1;var v=Error(r(520),{cause:p});if(v=ii(v,u),Gd===null?Gd=[v]:Gd.push(v),It!==4&&(It=2),c===null)return!0;p=ii(p,u),u=c;do{switch(u.tag){case 3:return u.flags|=65536,s=m&-m,u.lanes|=s,s=Lv(u.stateNode,p,s),mv(u,s),!1;case 1:if(c=u.type,v=u.stateNode,(u.flags&128)===0&&(typeof c.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(da===null||!da.has(v))))return u.flags|=65536,m&=-m,u.lanes|=m,m=F3(m),z3(m,s,u,p),mv(u,m),!1}u=u.return}while(u!==null);return!1}var V3=Error(r(461)),un=!1;function wn(s,c,u,p){c.child=s===null?I3(c,null,u,p):ku(c,s.child,u,p)}function H3(s,c,u,p,m){u=u.render;var v=c.ref;if("ref"in p){var N={};for(var L in p)L!=="ref"&&(N[L]=p[L])}else N=p;return jc(c),p=xv(s,c,u,N,v,m),L=Ev(),s!==null&&!un?(Av(s,c,m),so(s,c,m)):(ot&&L&&iv(c),c.flags|=1,wn(s,c,p,m),c.child)}function q3(s,c,u,p,m){if(s===null){var v=u.type;return typeof v=="function"&&!tv(v)&&v.defaultProps===void 0&&u.compare===null?(c.tag=15,c.type=v,G3(s,c,v,p,m)):(s=km(u.type,null,p,c,c.mode,m),s.ref=c.ref,s.return=c,c.child=s)}if(v=s.child,!Gv(s,m)){var N=v.memoizedProps;if(u=u.compare,u=u!==null?u:xd,u(N,p)&&s.ref===c.ref)return so(s,c,m)}return c.flags|=1,s=Zs(v,p),s.ref=c.ref,s.return=c,c.child=s}function G3(s,c,u,p,m){if(s!==null){var v=s.memoizedProps;if(xd(v,p)&&s.ref===c.ref)if(un=!1,c.pendingProps=p=v,Gv(s,m))(s.flags&131072)!==0&&(un=!0);else return c.lanes=s.lanes,so(s,c,m)}return $v(s,c,u,p,m)}function K3(s,c,u){var p=c.pendingProps,m=p.children,v=s!==null?s.memoizedState:null;if(p.mode==="hidden"){if((c.flags&128)!==0){if(p=v!==null?v.baseLanes|u:u,s!==null){for(m=c.child=s.child,v=0;m!==null;)v=v|m.lanes|m.childLanes,m=m.sibling;c.childLanes=v&~p}else c.childLanes=0,c.child=null;return Q3(s,c,p,u)}if((u&536870912)!==0)c.memoizedState={baseLanes:0,cachePool:null},s!==null&&Fm(c,v!==null?v.cachePool:null),v!==null?GC(c,v):bv(),B3(c);else return c.lanes=c.childLanes=536870912,Q3(s,c,v!==null?v.baseLanes|u:u,u)}else v!==null?(Fm(c,v.cachePool),GC(c,v),aa(),c.memoizedState=null):(s!==null&&Fm(c,null),bv(),aa());return wn(s,c,m,u),c.child}function Q3(s,c,u,p){var m=hv();return m=m===null?null:{parent:Jt._currentValue,pool:m},c.memoizedState={baseLanes:u,cachePool:m},s!==null&&Fm(c,null),bv(),B3(c),s!==null&&Cd(s,c,p,!0),null}function iy(s,c){var u=c.ref;if(u===null)s!==null&&s.ref!==null&&(c.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(r(284));(s===null||s.ref!==u)&&(c.flags|=4194816)}}function $v(s,c,u,p,m){return jc(c),u=xv(s,c,u,p,void 0,m),p=Ev(),s!==null&&!un?(Av(s,c,m),so(s,c,m)):(ot&&p&&iv(c),c.flags|=1,wn(s,c,u,m),c.child)}function Y3(s,c,u,p,m,v){return jc(c),c.updateQueue=null,u=QC(c,p,u,m),KC(s),p=Ev(),s!==null&&!un?(Av(s,c,v),so(s,c,v)):(ot&&p&&iv(c),c.flags|=1,wn(s,c,u,v),c.child)}function W3(s,c,u,p,m){if(jc(c),c.stateNode===null){var v=Cu,N=u.contextType;typeof N=="object"&&N!==null&&(v=kn(N)),v=new u(p,v),c.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=Uv,c.stateNode=v,v._reactInternals=c,v=c.stateNode,v.props=p,v.state=c.memoizedState,v.refs={},pv(c),N=u.contextType,v.context=typeof N=="object"&&N!==null?kn(N):Cu,v.state=c.memoizedState,N=u.getDerivedStateFromProps,typeof N=="function"&&(kv(c,u,N,p),v.state=c.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(N=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),N!==v.state&&Uv.enqueueReplaceState(v,v.state,null),Id(c,p,v,m),_d(),v.state=c.memoizedState),typeof v.componentDidMount=="function"&&(c.flags|=4194308),p=!0}else if(s===null){v=c.stateNode;var L=c.memoizedProps,Q=Vc(u,L);v.props=Q;var ie=v.context,le=u.contextType;N=Cu,typeof le=="object"&&le!==null&&(N=kn(le));var pe=u.getDerivedStateFromProps;le=typeof pe=="function"||typeof v.getSnapshotBeforeUpdate=="function",L=c.pendingProps!==L,le||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(L||ie!==N)&&k3(c,v,p,N),na=!1;var oe=c.memoizedState;v.state=oe,Id(c,p,v,m),_d(),ie=c.memoizedState,L||oe!==ie||na?(typeof pe=="function"&&(kv(c,u,pe,p),ie=c.memoizedState),(Q=na||M3(c,u,Q,p,oe,ie,N))?(le||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(c.flags|=4194308)):(typeof v.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=p,c.memoizedState=ie),v.props=p,v.state=ie,v.context=N,p=Q):(typeof v.componentDidMount=="function"&&(c.flags|=4194308),p=!1)}else{v=c.stateNode,gv(s,c),N=c.memoizedProps,le=Vc(u,N),v.props=le,pe=c.pendingProps,oe=v.context,ie=u.contextType,Q=Cu,typeof ie=="object"&&ie!==null&&(Q=kn(ie)),L=u.getDerivedStateFromProps,(ie=typeof L=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(N!==pe||oe!==Q)&&k3(c,v,p,Q),na=!1,oe=c.memoizedState,v.state=oe,Id(c,p,v,m),_d();var ae=c.memoizedState;N!==pe||oe!==ae||na||s!==null&&s.dependencies!==null&&$m(s.dependencies)?(typeof L=="function"&&(kv(c,u,L,p),ae=c.memoizedState),(le=na||M3(c,u,le,p,oe,ae,Q)||s!==null&&s.dependencies!==null&&$m(s.dependencies))?(ie||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(p,ae,Q),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(p,ae,Q)),typeof v.componentDidUpdate=="function"&&(c.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof v.componentDidUpdate!="function"||N===s.memoizedProps&&oe===s.memoizedState||(c.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||N===s.memoizedProps&&oe===s.memoizedState||(c.flags|=1024),c.memoizedProps=p,c.memoizedState=ae),v.props=p,v.state=ae,v.context=Q,p=le):(typeof v.componentDidUpdate!="function"||N===s.memoizedProps&&oe===s.memoizedState||(c.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||N===s.memoizedProps&&oe===s.memoizedState||(c.flags|=1024),p=!1)}return v=p,iy(s,c),p=(c.flags&128)!==0,v||p?(v=c.stateNode,u=p&&typeof u.getDerivedStateFromError!="function"?null:v.render(),c.flags|=1,s!==null&&p?(c.child=ku(c,s.child,null,m),c.child=ku(c,null,u,m)):wn(s,c,u,m),c.memoizedState=v.state,s=c.child):s=so(s,c,m),s}function X3(s,c,u,p){return Sd(),c.flags|=256,wn(s,c,u,p),c.child}var jv={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Fv(s){return{baseLanes:s,cachePool:LC()}}function zv(s,c,u){return s=s!==null?s.childLanes&~u:0,c&&(s|=li),s}function Z3(s,c,u){var p=c.pendingProps,m=!1,v=(c.flags&128)!==0,N;if((N=v)||(N=s!==null&&s.memoizedState===null?!1:(en.current&2)!==0),N&&(m=!0,c.flags&=-129),N=(c.flags&32)!==0,c.flags&=-33,s===null){if(ot){if(m?oa(c):aa(),ot){var L=_t,Q;if(Q=L){e:{for(Q=L,L=as;Q.nodeType!==8;){if(!L){L=null;break e}if(Q=Ui(Q.nextSibling),Q===null){L=null;break e}}L=Q}L!==null?(c.memoizedState={dehydrated:L,treeContext:Mc!==null?{id:Js,overflow:eo}:null,retryLane:536870912,hydrationErrors:null},Q=Br(18,null,null,0),Q.stateNode=L,Q.return=c,c.child=Q,Xn=c,_t=null,Q=!0):Q=!1}Q||Lc(c)}if(L=c.memoizedState,L!==null&&(L=L.dehydrated,L!==null))return T1(L)?c.lanes=32:c.lanes=536870912,null;io(c)}return L=p.children,p=p.fallback,m?(aa(),m=c.mode,L=sy({mode:"hidden",children:L},m),p=Bc(p,m,u,null),L.return=c,p.return=c,L.sibling=p,c.child=L,m=c.child,m.memoizedState=Fv(u),m.childLanes=zv(s,N,u),c.memoizedState=jv,p):(oa(c),Vv(c,L))}if(Q=s.memoizedState,Q!==null&&(L=Q.dehydrated,L!==null)){if(v)c.flags&256?(oa(c),c.flags&=-257,c=Hv(s,c,u)):c.memoizedState!==null?(aa(),c.child=s.child,c.flags|=128,c=null):(aa(),m=p.fallback,L=c.mode,p=sy({mode:"visible",children:p.children},L),m=Bc(m,L,u,null),m.flags|=2,p.return=c,m.return=c,p.sibling=m,c.child=p,ku(c,s.child,null,u),p=c.child,p.memoizedState=Fv(u),p.childLanes=zv(s,N,u),c.memoizedState=jv,c=m);else if(oa(c),T1(L)){if(N=L.nextSibling&&L.nextSibling.dataset,N)var ie=N.dgst;N=ie,p=Error(r(419)),p.stack="",p.digest=N,Td({value:p,source:null,stack:null}),c=Hv(s,c,u)}else if(un||Cd(s,c,u,!1),N=(u&s.childLanes)!==0,un||N){if(N=vt,N!==null&&(p=u&-u,p=(p&42)!==0?1:Cw(p),p=(p&(N.suspendedLanes|u))!==0?0:p,p!==0&&p!==Q.retryLane))throw Q.retryLane=p,Tu(s,p),$r(N,s,p),V3;L.data==="$?"||c1(),c=Hv(s,c,u)}else L.data==="$?"?(c.flags|=192,c.child=s.child,c=null):(s=Q.treeContext,_t=Ui(L.nextSibling),Xn=c,ot=!0,Uc=null,as=!1,s!==null&&(oi[ai++]=Js,oi[ai++]=eo,oi[ai++]=Mc,Js=s.id,eo=s.overflow,Mc=c),c=Vv(c,p.children),c.flags|=4096);return c}return m?(aa(),m=p.fallback,L=c.mode,Q=s.child,ie=Q.sibling,p=Zs(Q,{mode:"hidden",children:p.children}),p.subtreeFlags=Q.subtreeFlags&65011712,ie!==null?m=Zs(ie,m):(m=Bc(m,L,u,null),m.flags|=2),m.return=c,p.return=c,p.sibling=m,c.child=p,p=m,m=c.child,L=s.child.memoizedState,L===null?L=Fv(u):(Q=L.cachePool,Q!==null?(ie=Jt._currentValue,Q=Q.parent!==ie?{parent:ie,pool:ie}:Q):Q=LC(),L={baseLanes:L.baseLanes|u,cachePool:Q}),m.memoizedState=L,m.childLanes=zv(s,N,u),c.memoizedState=jv,p):(oa(c),u=s.child,s=u.sibling,u=Zs(u,{mode:"visible",children:p.children}),u.return=c,u.sibling=null,s!==null&&(N=c.deletions,N===null?(c.deletions=[s],c.flags|=16):N.push(s)),c.child=u,c.memoizedState=null,u)}function Vv(s,c){return c=sy({mode:"visible",children:c},s.mode),c.return=s,s.child=c}function sy(s,c){return s=Br(22,s,null,c),s.lanes=0,s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},s}function Hv(s,c,u){return ku(c,s.child,null,u),s=Vv(c,c.pendingProps.children),s.flags|=2,c.memoizedState=null,s}function J3(s,c,u){s.lanes|=c;var p=s.alternate;p!==null&&(p.lanes|=c),cv(s.return,c,u)}function qv(s,c,u,p,m){var v=s.memoizedState;v===null?s.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:p,tail:u,tailMode:m}:(v.isBackwards=c,v.rendering=null,v.renderingStartTime=0,v.last=p,v.tail=u,v.tailMode=m)}function eO(s,c,u){var p=c.pendingProps,m=p.revealOrder,v=p.tail;if(wn(s,c,p.children,u),p=en.current,(p&2)!==0)p=p&1|2,c.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=c.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&J3(s,u,c);else if(s.tag===19)J3(s,u,c);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===c)break e;for(;s.sibling===null;){if(s.return===null||s.return===c)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}p&=1}switch(X(en,p),m){case"forwards":for(u=c.child,m=null;u!==null;)s=u.alternate,s!==null&&ty(s)===null&&(m=u),u=u.sibling;u=m,u===null?(m=c.child,c.child=null):(m=u.sibling,u.sibling=null),qv(c,!1,m,u,v);break;case"backwards":for(u=null,m=c.child,c.child=null;m!==null;){if(s=m.alternate,s!==null&&ty(s)===null){c.child=m;break}s=m.sibling,m.sibling=u,u=m,m=s}qv(c,!0,u,null,v);break;case"together":qv(c,!1,null,null,void 0);break;default:c.memoizedState=null}return c.child}function so(s,c,u){if(s!==null&&(c.dependencies=s.dependencies),ha|=c.lanes,(u&c.childLanes)===0)if(s!==null){if(Cd(s,c,u,!1),(u&c.childLanes)===0)return null}else return null;if(s!==null&&c.child!==s.child)throw Error(r(153));if(c.child!==null){for(s=c.child,u=Zs(s,s.pendingProps),c.child=u,u.return=c;s.sibling!==null;)s=s.sibling,u=u.sibling=Zs(s,s.pendingProps),u.return=c;u.sibling=null}return c.child}function Gv(s,c){return(s.lanes&c)!==0?!0:(s=s.dependencies,!!(s!==null&&$m(s)))}function pj(s,c,u){switch(c.tag){case 3:ye(c,c.stateNode.containerInfo),ta(c,Jt,s.memoizedState.cache),Sd();break;case 27:case 5:Ce(c);break;case 4:ye(c,c.stateNode.containerInfo);break;case 10:ta(c,c.type,c.memoizedProps.value);break;case 13:var p=c.memoizedState;if(p!==null)return p.dehydrated!==null?(oa(c),c.flags|=128,null):(u&c.child.childLanes)!==0?Z3(s,c,u):(oa(c),s=so(s,c,u),s!==null?s.sibling:null);oa(c);break;case 19:var m=(s.flags&128)!==0;if(p=(u&c.childLanes)!==0,p||(Cd(s,c,u,!1),p=(u&c.childLanes)!==0),m){if(p)return eO(s,c,u);c.flags|=128}if(m=c.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),X(en,en.current),p)break;return null;case 22:case 23:return c.lanes=0,K3(s,c,u);case 24:ta(c,Jt,s.memoizedState.cache)}return so(s,c,u)}function tO(s,c,u){if(s!==null)if(s.memoizedProps!==c.pendingProps)un=!0;else{if(!Gv(s,u)&&(c.flags&128)===0)return un=!1,pj(s,c,u);un=(s.flags&131072)!==0}else un=!1,ot&&(c.flags&1048576)!==0&&RC(c,Lm,c.index);switch(c.lanes=0,c.tag){case 16:e:{s=c.pendingProps;var p=c.elementType,m=p._init;if(p=m(p._payload),c.type=p,typeof p=="function")tv(p)?(s=Vc(p,s),c.tag=1,c=W3(null,c,p,s,u)):(c.tag=0,c=$v(null,c,p,s,u));else{if(p!=null){if(m=p.$$typeof,m===R){c.tag=11,c=H3(null,c,p,s,u);break e}else if(m===M){c.tag=14,c=q3(null,c,p,s,u);break e}}throw c=Y(p)||p,Error(r(306,c,""))}}return c;case 0:return $v(s,c,c.type,c.pendingProps,u);case 1:return p=c.type,m=Vc(p,c.pendingProps),W3(s,c,p,m,u);case 3:e:{if(ye(c,c.stateNode.containerInfo),s===null)throw Error(r(387));p=c.pendingProps;var v=c.memoizedState;m=v.element,gv(s,c),Id(c,p,null,u);var N=c.memoizedState;if(p=N.cache,ta(c,Jt,p),p!==v.cache&&lv(c,[Jt],u,!0),_d(),p=N.element,v.isDehydrated)if(v={element:p,isDehydrated:!1,cache:N.cache},c.updateQueue.baseState=v,c.memoizedState=v,c.flags&256){c=X3(s,c,p,u);break e}else if(p!==m){m=ii(Error(r(424)),c),Td(m),c=X3(s,c,p,u);break e}else{switch(s=c.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(_t=Ui(s.firstChild),Xn=c,ot=!0,Uc=null,as=!0,u=I3(c,null,p,u),c.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(Sd(),p===m){c=so(s,c,u);break e}wn(s,c,p,u)}c=c.child}return c;case 26:return iy(s,c),s===null?(u=sD(c.type,null,c.pendingProps,null))?c.memoizedState=u:ot||(u=c.type,s=c.pendingProps,p=wy(ue.current).createElement(u),p[Mn]=c,p[lr]=s,xn(p,u,s),ln(p),c.stateNode=p):c.memoizedState=sD(c.type,s.memoizedProps,c.pendingProps,s.memoizedState),null;case 27:return Ce(c),s===null&&ot&&(p=c.stateNode=nD(c.type,c.pendingProps,ue.current),Xn=c,as=!0,m=_t,ma(c.type)?(C1=m,_t=Ui(p.firstChild)):_t=m),wn(s,c,c.pendingProps.children,u),iy(s,c),s===null&&(c.flags|=4194304),c.child;case 5:return s===null&&ot&&((m=p=_t)&&(p=zj(p,c.type,c.pendingProps,as),p!==null?(c.stateNode=p,Xn=c,_t=Ui(p.firstChild),as=!1,m=!0):m=!1),m||Lc(c)),Ce(c),m=c.type,v=c.pendingProps,N=s!==null?s.memoizedProps:null,p=v.children,E1(m,v)?p=null:N!==null&&E1(m,N)&&(c.flags|=32),c.memoizedState!==null&&(m=xv(s,c,oj,null,null,u),tp._currentValue=m),iy(s,c),wn(s,c,p,u),c.child;case 6:return s===null&&ot&&((s=u=_t)&&(u=Vj(u,c.pendingProps,as),u!==null?(c.stateNode=u,Xn=c,_t=null,s=!0):s=!1),s||Lc(c)),null;case 13:return Z3(s,c,u);case 4:return ye(c,c.stateNode.containerInfo),p=c.pendingProps,s===null?c.child=ku(c,null,p,u):wn(s,c,p,u),c.child;case 11:return H3(s,c,c.type,c.pendingProps,u);case 7:return wn(s,c,c.pendingProps,u),c.child;case 8:return wn(s,c,c.pendingProps.children,u),c.child;case 12:return wn(s,c,c.pendingProps.children,u),c.child;case 10:return p=c.pendingProps,ta(c,c.type,p.value),wn(s,c,p.children,u),c.child;case 9:return m=c.type._context,p=c.pendingProps.children,jc(c),m=kn(m),p=p(m),c.flags|=1,wn(s,c,p,u),c.child;case 14:return q3(s,c,c.type,c.pendingProps,u);case 15:return G3(s,c,c.type,c.pendingProps,u);case 19:return eO(s,c,u);case 31:return p=c.pendingProps,u=c.mode,p={mode:p.mode,children:p.children},s===null?(u=sy(p,u),u.ref=c.ref,c.child=u,u.return=c,c=u):(u=Zs(s.child,p),u.ref=c.ref,c.child=u,u.return=c,c=u),c;case 22:return K3(s,c,u);case 24:return jc(c),p=kn(Jt),s===null?(m=hv(),m===null&&(m=vt,v=uv(),m.pooledCache=v,v.refCount++,v!==null&&(m.pooledCacheLanes|=u),m=v),c.memoizedState={parent:p,cache:m},pv(c),ta(c,Jt,m)):((s.lanes&u)!==0&&(gv(s,c),Id(c,null,null,u),_d()),m=s.memoizedState,v=c.memoizedState,m.parent!==p?(m={parent:p,cache:p},c.memoizedState=m,c.lanes===0&&(c.memoizedState=c.updateQueue.baseState=m),ta(c,Jt,p)):(p=v.cache,ta(c,Jt,p),p!==m.cache&&lv(c,[Jt],u,!0))),wn(s,c,c.pendingProps.children,u),c.child;case 29:throw c.pendingProps}throw Error(r(156,c.tag))}function oo(s){s.flags|=4}function nO(s,c){if(c.type!=="stylesheet"||(c.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!uD(c)){if(c=ci.current,c!==null&&((et&4194048)===et?cs!==null:(et&62914560)!==et&&(et&536870912)===0||c!==cs))throw Nd=dv,$C;s.flags|=8192}}function oy(s,c){c!==null&&(s.flags|=4),s.flags&16384&&(c=s.tag!==22?BT():536870912,s.lanes|=c,ju|=c)}function jd(s,c){if(!ot)switch(s.tailMode){case"hidden":c=s.tail;for(var u=null;c!==null;)c.alternate!==null&&(u=c),c=c.sibling;u===null?s.tail=null:u.sibling=null;break;case"collapsed":u=s.tail;for(var p=null;u!==null;)u.alternate!==null&&(p=u),u=u.sibling;p===null?c||s.tail===null?s.tail=null:s.tail.sibling=null:p.sibling=null}}function Dt(s){var c=s.alternate!==null&&s.alternate.child===s.child,u=0,p=0;if(c)for(var m=s.child;m!==null;)u|=m.lanes|m.childLanes,p|=m.subtreeFlags&65011712,p|=m.flags&65011712,m.return=s,m=m.sibling;else for(m=s.child;m!==null;)u|=m.lanes|m.childLanes,p|=m.subtreeFlags,p|=m.flags,m.return=s,m=m.sibling;return s.subtreeFlags|=p,s.childLanes=u,c}function gj(s,c,u){var p=c.pendingProps;switch(sv(c),c.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Dt(c),null;case 1:return Dt(c),null;case 3:return u=c.stateNode,p=null,s!==null&&(p=s.memoizedState.cache),c.memoizedState.cache!==p&&(c.flags|=2048),no(Jt),ve(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(s===null||s.child===null)&&(Ad(c)?oo(c):s===null||s.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,BC())),Dt(c),null;case 26:return u=c.memoizedState,s===null?(oo(c),u!==null?(Dt(c),nO(c,u)):(Dt(c),c.flags&=-16777217)):u?u!==s.memoizedState?(oo(c),Dt(c),nO(c,u)):(Dt(c),c.flags&=-16777217):(s.memoizedProps!==p&&oo(c),Dt(c),c.flags&=-16777217),null;case 27:Ne(c),u=ue.current;var m=c.type;if(s!==null&&c.stateNode!=null)s.memoizedProps!==p&&oo(c);else{if(!p){if(c.stateNode===null)throw Error(r(166));return Dt(c),null}s=ne.current,Ad(c)?_C(c):(s=nD(m,p,u),c.stateNode=s,oo(c))}return Dt(c),null;case 5:if(Ne(c),u=c.type,s!==null&&c.stateNode!=null)s.memoizedProps!==p&&oo(c);else{if(!p){if(c.stateNode===null)throw Error(r(166));return Dt(c),null}if(s=ne.current,Ad(c))_C(c);else{switch(m=wy(ue.current),s){case 1:s=m.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:s=m.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":s=m.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":s=m.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":s=m.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof p.is=="string"?m.createElement("select",{is:p.is}):m.createElement("select"),p.multiple?s.multiple=!0:p.size&&(s.size=p.size);break;default:s=typeof p.is=="string"?m.createElement(u,{is:p.is}):m.createElement(u)}}s[Mn]=c,s[lr]=p;e:for(m=c.child;m!==null;){if(m.tag===5||m.tag===6)s.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===c)break e;for(;m.sibling===null;){if(m.return===null||m.return===c)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}c.stateNode=s;e:switch(xn(s,u,p),u){case"button":case"input":case"select":case"textarea":s=!!p.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&oo(c)}}return Dt(c),c.flags&=-16777217,null;case 6:if(s&&c.stateNode!=null)s.memoizedProps!==p&&oo(c);else{if(typeof p!="string"&&c.stateNode===null)throw Error(r(166));if(s=ue.current,Ad(c)){if(s=c.stateNode,u=c.memoizedProps,p=null,m=Xn,m!==null)switch(m.tag){case 27:case 5:p=m.memoizedProps}s[Mn]=c,s=!!(s.nodeValue===u||p!==null&&p.suppressHydrationWarning===!0||YO(s.nodeValue,u)),s||Lc(c)}else s=wy(s).createTextNode(p),s[Mn]=c,c.stateNode=s}return Dt(c),null;case 13:if(p=c.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(m=Ad(c),p!==null&&p.dehydrated!==null){if(s===null){if(!m)throw Error(r(318));if(m=c.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(r(317));m[Mn]=c}else Sd(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;Dt(c),m=!1}else m=BC(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=m),m=!0;if(!m)return c.flags&256?(io(c),c):(io(c),null)}if(io(c),(c.flags&128)!==0)return c.lanes=u,c;if(u=p!==null,s=s!==null&&s.memoizedState!==null,u){p=c.child,m=null,p.alternate!==null&&p.alternate.memoizedState!==null&&p.alternate.memoizedState.cachePool!==null&&(m=p.alternate.memoizedState.cachePool.pool);var v=null;p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(v=p.memoizedState.cachePool.pool),v!==m&&(p.flags|=2048)}return u!==s&&u&&(c.child.flags|=8192),oy(c,c.updateQueue),Dt(c),null;case 4:return ve(),s===null&&y1(c.stateNode.containerInfo),Dt(c),null;case 10:return no(c.type),Dt(c),null;case 19:if(te(en),m=c.memoizedState,m===null)return Dt(c),null;if(p=(c.flags&128)!==0,v=m.rendering,v===null)if(p)jd(m,!1);else{if(It!==0||s!==null&&(s.flags&128)!==0)for(s=c.child;s!==null;){if(v=ty(s),v!==null){for(c.flags|=128,jd(m,!1),s=v.updateQueue,c.updateQueue=s,oy(c,s),c.subtreeFlags=0,s=u,u=c.child;u!==null;)NC(u,s),u=u.sibling;return X(en,en.current&1|2),c.child}s=s.sibling}m.tail!==null&&cn()>ly&&(c.flags|=128,p=!0,jd(m,!1),c.lanes=4194304)}else{if(!p)if(s=ty(v),s!==null){if(c.flags|=128,p=!0,s=s.updateQueue,c.updateQueue=s,oy(c,s),jd(m,!0),m.tail===null&&m.tailMode==="hidden"&&!v.alternate&&!ot)return Dt(c),null}else 2*cn()-m.renderingStartTime>ly&&u!==536870912&&(c.flags|=128,p=!0,jd(m,!1),c.lanes=4194304);m.isBackwards?(v.sibling=c.child,c.child=v):(s=m.last,s!==null?s.sibling=v:c.child=v,m.last=v)}return m.tail!==null?(c=m.tail,m.rendering=c,m.tail=c.sibling,m.renderingStartTime=cn(),c.sibling=null,s=en.current,X(en,p?s&1|2:s&1),c):(Dt(c),null);case 22:case 23:return io(c),wv(),p=c.memoizedState!==null,s!==null?s.memoizedState!==null!==p&&(c.flags|=8192):p&&(c.flags|=8192),p?(u&536870912)!==0&&(c.flags&128)===0&&(Dt(c),c.subtreeFlags&6&&(c.flags|=8192)):Dt(c),u=c.updateQueue,u!==null&&oy(c,u.retryQueue),u=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),p=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(p=c.memoizedState.cachePool.pool),p!==u&&(c.flags|=2048),s!==null&&te(Fc),null;case 24:return u=null,s!==null&&(u=s.memoizedState.cache),c.memoizedState.cache!==u&&(c.flags|=2048),no(Jt),Dt(c),null;case 25:return null;case 30:return null}throw Error(r(156,c.tag))}function mj(s,c){switch(sv(c),c.tag){case 1:return s=c.flags,s&65536?(c.flags=s&-65537|128,c):null;case 3:return no(Jt),ve(),s=c.flags,(s&65536)!==0&&(s&128)===0?(c.flags=s&-65537|128,c):null;case 26:case 27:case 5:return Ne(c),null;case 13:if(io(c),s=c.memoizedState,s!==null&&s.dehydrated!==null){if(c.alternate===null)throw Error(r(340));Sd()}return s=c.flags,s&65536?(c.flags=s&-65537|128,c):null;case 19:return te(en),null;case 4:return ve(),null;case 10:return no(c.type),null;case 22:case 23:return io(c),wv(),s!==null&&te(Fc),s=c.flags,s&65536?(c.flags=s&-65537|128,c):null;case 24:return no(Jt),null;case 25:return null;default:return null}}function rO(s,c){switch(sv(c),c.tag){case 3:no(Jt),ve();break;case 26:case 27:case 5:Ne(c);break;case 4:ve();break;case 13:io(c);break;case 19:te(en);break;case 10:no(c.type);break;case 22:case 23:io(c),wv(),s!==null&&te(Fc);break;case 24:no(Jt)}}function Fd(s,c){try{var u=c.updateQueue,p=u!==null?u.lastEffect:null;if(p!==null){var m=p.next;u=m;do{if((u.tag&s)===s){p=void 0;var v=u.create,N=u.inst;p=v(),N.destroy=p}u=u.next}while(u!==m)}}catch(L){yt(c,c.return,L)}}function ca(s,c,u){try{var p=c.updateQueue,m=p!==null?p.lastEffect:null;if(m!==null){var v=m.next;p=v;do{if((p.tag&s)===s){var N=p.inst,L=N.destroy;if(L!==void 0){N.destroy=void 0,m=c;var Q=u,ie=L;try{ie()}catch(le){yt(m,Q,le)}}}p=p.next}while(p!==v)}}catch(le){yt(c,c.return,le)}}function iO(s){var c=s.updateQueue;if(c!==null){var u=s.stateNode;try{qC(c,u)}catch(p){yt(s,s.return,p)}}}function sO(s,c,u){u.props=Vc(s.type,s.memoizedProps),u.state=s.memoizedState;try{u.componentWillUnmount()}catch(p){yt(s,c,p)}}function zd(s,c){try{var u=s.ref;if(u!==null){switch(s.tag){case 26:case 27:case 5:var p=s.stateNode;break;case 30:p=s.stateNode;break;default:p=s.stateNode}typeof u=="function"?s.refCleanup=u(p):u.current=p}}catch(m){yt(s,c,m)}}function ls(s,c){var u=s.ref,p=s.refCleanup;if(u!==null)if(typeof p=="function")try{p()}catch(m){yt(s,c,m)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(m){yt(s,c,m)}else u.current=null}function oO(s){var c=s.type,u=s.memoizedProps,p=s.stateNode;try{e:switch(c){case"button":case"input":case"select":case"textarea":u.autoFocus&&p.focus();break e;case"img":u.src?p.src=u.src:u.srcSet&&(p.srcset=u.srcSet)}}catch(m){yt(s,s.return,m)}}function Kv(s,c,u){try{var p=s.stateNode;Uj(p,s.type,u,c),p[lr]=c}catch(m){yt(s,s.return,m)}}function aO(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&ma(s.type)||s.tag===4}function Qv(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||aO(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&ma(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Yv(s,c,u){var p=s.tag;if(p===5||p===6)s=s.stateNode,c?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(s,c):(c=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,c.appendChild(s),u=u._reactRootContainer,u!=null||c.onclick!==null||(c.onclick=by));else if(p!==4&&(p===27&&ma(s.type)&&(u=s.stateNode,c=null),s=s.child,s!==null))for(Yv(s,c,u),s=s.sibling;s!==null;)Yv(s,c,u),s=s.sibling}function ay(s,c,u){var p=s.tag;if(p===5||p===6)s=s.stateNode,c?u.insertBefore(s,c):u.appendChild(s);else if(p!==4&&(p===27&&ma(s.type)&&(u=s.stateNode),s=s.child,s!==null))for(ay(s,c,u),s=s.sibling;s!==null;)ay(s,c,u),s=s.sibling}function cO(s){var c=s.stateNode,u=s.memoizedProps;try{for(var p=s.type,m=c.attributes;m.length;)c.removeAttributeNode(m[0]);xn(c,p,u),c[Mn]=s,c[lr]=u}catch(v){yt(s,s.return,v)}}var ao=!1,$t=!1,Wv=!1,lO=typeof WeakSet=="function"?WeakSet:Set,fn=null;function yj(s,c){if(s=s.containerInfo,v1=Ty,s=vC(s),Qw(s)){if("selectionStart"in s)var u={start:s.selectionStart,end:s.selectionEnd};else e:{u=(u=s.ownerDocument)&&u.defaultView||window;var p=u.getSelection&&u.getSelection();if(p&&p.rangeCount!==0){u=p.anchorNode;var m=p.anchorOffset,v=p.focusNode;p=p.focusOffset;try{u.nodeType,v.nodeType}catch{u=null;break e}var N=0,L=-1,Q=-1,ie=0,le=0,pe=s,oe=null;t:for(;;){for(var ae;pe!==u||m!==0&&pe.nodeType!==3||(L=N+m),pe!==v||p!==0&&pe.nodeType!==3||(Q=N+p),pe.nodeType===3&&(N+=pe.nodeValue.length),(ae=pe.firstChild)!==null;)oe=pe,pe=ae;for(;;){if(pe===s)break t;if(oe===u&&++ie===m&&(L=N),oe===v&&++le===p&&(Q=N),(ae=pe.nextSibling)!==null)break;pe=oe,oe=pe.parentNode}pe=ae}u=L===-1||Q===-1?null:{start:L,end:Q}}else u=null}u=u||{start:0,end:0}}else u=null;for(x1={focusedElem:s,selectionRange:u},Ty=!1,fn=c;fn!==null;)if(c=fn,s=c.child,(c.subtreeFlags&1024)!==0&&s!==null)s.return=c,fn=s;else for(;fn!==null;){switch(c=fn,v=c.alternate,s=c.flags,c.tag){case 0:break;case 11:case 15:break;case 1:if((s&1024)!==0&&v!==null){s=void 0,u=c,m=v.memoizedProps,v=v.memoizedState,p=u.stateNode;try{var ke=Vc(u.type,m,u.elementType===u.type);s=p.getSnapshotBeforeUpdate(ke,v),p.__reactInternalSnapshotBeforeUpdate=s}catch(Ie){yt(u,u.return,Ie)}}break;case 3:if((s&1024)!==0){if(s=c.stateNode.containerInfo,u=s.nodeType,u===9)S1(s);else if(u===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":S1(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(r(163))}if(s=c.sibling,s!==null){s.return=c.return,fn=s;break}fn=c.return}}function uO(s,c,u){var p=u.flags;switch(u.tag){case 0:case 11:case 15:la(s,u),p&4&&Fd(5,u);break;case 1:if(la(s,u),p&4)if(s=u.stateNode,c===null)try{s.componentDidMount()}catch(N){yt(u,u.return,N)}else{var m=Vc(u.type,c.memoizedProps);c=c.memoizedState;try{s.componentDidUpdate(m,c,s.__reactInternalSnapshotBeforeUpdate)}catch(N){yt(u,u.return,N)}}p&64&&iO(u),p&512&&zd(u,u.return);break;case 3:if(la(s,u),p&64&&(s=u.updateQueue,s!==null)){if(c=null,u.child!==null)switch(u.child.tag){case 27:case 5:c=u.child.stateNode;break;case 1:c=u.child.stateNode}try{qC(s,c)}catch(N){yt(u,u.return,N)}}break;case 27:c===null&&p&4&&cO(u);case 26:case 5:la(s,u),c===null&&p&4&&oO(u),p&512&&zd(u,u.return);break;case 12:la(s,u);break;case 13:la(s,u),p&4&&dO(s,u),p&64&&(s=u.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(u=Cj.bind(null,u),Hj(s,u))));break;case 22:if(p=u.memoizedState!==null||ao,!p){c=c!==null&&c.memoizedState!==null||$t,m=ao;var v=$t;ao=p,($t=c)&&!v?ua(s,u,(u.subtreeFlags&8772)!==0):la(s,u),ao=m,$t=v}break;case 30:break;default:la(s,u)}}function fO(s){var c=s.alternate;c!==null&&(s.alternate=null,fO(c)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(c=s.stateNode,c!==null&&Pw(c)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var Tt=null,hr=!1;function co(s,c,u){for(u=u.child;u!==null;)hO(s,c,u),u=u.sibling}function hO(s,c,u){if(Yn&&typeof Yn.onCommitFiberUnmount=="function")try{Yn.onCommitFiberUnmount(Zo,u)}catch{}switch(u.tag){case 26:$t||ls(u,c),co(s,c,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:$t||ls(u,c);var p=Tt,m=hr;ma(u.type)&&(Tt=u.stateNode,hr=!1),co(s,c,u),Xd(u.stateNode),Tt=p,hr=m;break;case 5:$t||ls(u,c);case 6:if(p=Tt,m=hr,Tt=null,co(s,c,u),Tt=p,hr=m,Tt!==null)if(hr)try{(Tt.nodeType===9?Tt.body:Tt.nodeName==="HTML"?Tt.ownerDocument.body:Tt).removeChild(u.stateNode)}catch(v){yt(u,c,v)}else try{Tt.removeChild(u.stateNode)}catch(v){yt(u,c,v)}break;case 18:Tt!==null&&(hr?(s=Tt,eD(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,u.stateNode),sp(s)):eD(Tt,u.stateNode));break;case 4:p=Tt,m=hr,Tt=u.stateNode.containerInfo,hr=!0,co(s,c,u),Tt=p,hr=m;break;case 0:case 11:case 14:case 15:$t||ca(2,u,c),$t||ca(4,u,c),co(s,c,u);break;case 1:$t||(ls(u,c),p=u.stateNode,typeof p.componentWillUnmount=="function"&&sO(u,c,p)),co(s,c,u);break;case 21:co(s,c,u);break;case 22:$t=(p=$t)||u.memoizedState!==null,co(s,c,u),$t=p;break;default:co(s,c,u)}}function dO(s,c){if(c.memoizedState===null&&(s=c.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{sp(s)}catch(u){yt(c,c.return,u)}}function bj(s){switch(s.tag){case 13:case 19:var c=s.stateNode;return c===null&&(c=s.stateNode=new lO),c;case 22:return s=s.stateNode,c=s._retryCache,c===null&&(c=s._retryCache=new lO),c;default:throw Error(r(435,s.tag))}}function Xv(s,c){var u=bj(s);c.forEach(function(p){var m=Oj.bind(null,s,p);u.has(p)||(u.add(p),p.then(m,m))})}function Mr(s,c){var u=c.deletions;if(u!==null)for(var p=0;p<u.length;p++){var m=u[p],v=s,N=c,L=N;e:for(;L!==null;){switch(L.tag){case 27:if(ma(L.type)){Tt=L.stateNode,hr=!1;break e}break;case 5:Tt=L.stateNode,hr=!1;break e;case 3:case 4:Tt=L.stateNode.containerInfo,hr=!0;break e}L=L.return}if(Tt===null)throw Error(r(160));hO(v,N,m),Tt=null,hr=!1,v=m.alternate,v!==null&&(v.return=null),m.return=null}if(c.subtreeFlags&13878)for(c=c.child;c!==null;)pO(c,s),c=c.sibling}var ki=null;function pO(s,c){var u=s.alternate,p=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Mr(c,s),kr(s),p&4&&(ca(3,s,s.return),Fd(3,s),ca(5,s,s.return));break;case 1:Mr(c,s),kr(s),p&512&&($t||u===null||ls(u,u.return)),p&64&&ao&&(s=s.updateQueue,s!==null&&(p=s.callbacks,p!==null&&(u=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=u===null?p:u.concat(p))));break;case 26:var m=ki;if(Mr(c,s),kr(s),p&512&&($t||u===null||ls(u,u.return)),p&4){var v=u!==null?u.memoizedState:null;if(p=s.memoizedState,u===null)if(p===null)if(s.stateNode===null){e:{p=s.type,u=s.memoizedProps,m=m.ownerDocument||m;t:switch(p){case"title":v=m.getElementsByTagName("title")[0],(!v||v[hd]||v[Mn]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=m.createElement(p),m.head.insertBefore(v,m.querySelector("head > title"))),xn(v,p,u),v[Mn]=s,ln(v),p=v;break e;case"link":var N=cD("link","href",m).get(p+(u.href||""));if(N){for(var L=0;L<N.length;L++)if(v=N[L],v.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&v.getAttribute("rel")===(u.rel==null?null:u.rel)&&v.getAttribute("title")===(u.title==null?null:u.title)&&v.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){N.splice(L,1);break t}}v=m.createElement(p),xn(v,p,u),m.head.appendChild(v);break;case"meta":if(N=cD("meta","content",m).get(p+(u.content||""))){for(L=0;L<N.length;L++)if(v=N[L],v.getAttribute("content")===(u.content==null?null:""+u.content)&&v.getAttribute("name")===(u.name==null?null:u.name)&&v.getAttribute("property")===(u.property==null?null:u.property)&&v.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&v.getAttribute("charset")===(u.charSet==null?null:u.charSet)){N.splice(L,1);break t}}v=m.createElement(p),xn(v,p,u),m.head.appendChild(v);break;default:throw Error(r(468,p))}v[Mn]=s,ln(v),p=v}s.stateNode=p}else lD(m,s.type,s.stateNode);else s.stateNode=aD(m,p,s.memoizedProps);else v!==p?(v===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):v.count--,p===null?lD(m,s.type,s.stateNode):aD(m,p,s.memoizedProps)):p===null&&s.stateNode!==null&&Kv(s,s.memoizedProps,u.memoizedProps)}break;case 27:Mr(c,s),kr(s),p&512&&($t||u===null||ls(u,u.return)),u!==null&&p&4&&Kv(s,s.memoizedProps,u.memoizedProps);break;case 5:if(Mr(c,s),kr(s),p&512&&($t||u===null||ls(u,u.return)),s.flags&32){m=s.stateNode;try{bu(m,"")}catch(ae){yt(s,s.return,ae)}}p&4&&s.stateNode!=null&&(m=s.memoizedProps,Kv(s,m,u!==null?u.memoizedProps:m)),p&1024&&(Wv=!0);break;case 6:if(Mr(c,s),kr(s),p&4){if(s.stateNode===null)throw Error(r(162));p=s.memoizedProps,u=s.stateNode;try{u.nodeValue=p}catch(ae){yt(s,s.return,ae)}}break;case 3:if(Ey=null,m=ki,ki=vy(c.containerInfo),Mr(c,s),ki=m,kr(s),p&4&&u!==null&&u.memoizedState.isDehydrated)try{sp(c.containerInfo)}catch(ae){yt(s,s.return,ae)}Wv&&(Wv=!1,gO(s));break;case 4:p=ki,ki=vy(s.stateNode.containerInfo),Mr(c,s),kr(s),ki=p;break;case 12:Mr(c,s),kr(s);break;case 13:Mr(c,s),kr(s),s.child.flags&8192&&s.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(r1=cn()),p&4&&(p=s.updateQueue,p!==null&&(s.updateQueue=null,Xv(s,p)));break;case 22:m=s.memoizedState!==null;var Q=u!==null&&u.memoizedState!==null,ie=ao,le=$t;if(ao=ie||m,$t=le||Q,Mr(c,s),$t=le,ao=ie,kr(s),p&8192)e:for(c=s.stateNode,c._visibility=m?c._visibility&-2:c._visibility|1,m&&(u===null||Q||ao||$t||Hc(s)),u=null,c=s;;){if(c.tag===5||c.tag===26){if(u===null){Q=u=c;try{if(v=Q.stateNode,m)N=v.style,typeof N.setProperty=="function"?N.setProperty("display","none","important"):N.display="none";else{L=Q.stateNode;var pe=Q.memoizedProps.style,oe=pe!=null&&pe.hasOwnProperty("display")?pe.display:null;L.style.display=oe==null||typeof oe=="boolean"?"":(""+oe).trim()}}catch(ae){yt(Q,Q.return,ae)}}}else if(c.tag===6){if(u===null){Q=c;try{Q.stateNode.nodeValue=m?"":Q.memoizedProps}catch(ae){yt(Q,Q.return,ae)}}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===s)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===s)break e;for(;c.sibling===null;){if(c.return===null||c.return===s)break e;u===c&&(u=null),c=c.return}u===c&&(u=null),c.sibling.return=c.return,c=c.sibling}p&4&&(p=s.updateQueue,p!==null&&(u=p.retryQueue,u!==null&&(p.retryQueue=null,Xv(s,u))));break;case 19:Mr(c,s),kr(s),p&4&&(p=s.updateQueue,p!==null&&(s.updateQueue=null,Xv(s,p)));break;case 30:break;case 21:break;default:Mr(c,s),kr(s)}}function kr(s){var c=s.flags;if(c&2){try{for(var u,p=s.return;p!==null;){if(aO(p)){u=p;break}p=p.return}if(u==null)throw Error(r(160));switch(u.tag){case 27:var m=u.stateNode,v=Qv(s);ay(s,v,m);break;case 5:var N=u.stateNode;u.flags&32&&(bu(N,""),u.flags&=-33);var L=Qv(s);ay(s,L,N);break;case 3:case 4:var Q=u.stateNode.containerInfo,ie=Qv(s);Yv(s,ie,Q);break;default:throw Error(r(161))}}catch(le){yt(s,s.return,le)}s.flags&=-3}c&4096&&(s.flags&=-4097)}function gO(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var c=s;gO(c),c.tag===5&&c.flags&1024&&c.stateNode.reset(),s=s.sibling}}function la(s,c){if(c.subtreeFlags&8772)for(c=c.child;c!==null;)uO(s,c.alternate,c),c=c.sibling}function Hc(s){for(s=s.child;s!==null;){var c=s;switch(c.tag){case 0:case 11:case 14:case 15:ca(4,c,c.return),Hc(c);break;case 1:ls(c,c.return);var u=c.stateNode;typeof u.componentWillUnmount=="function"&&sO(c,c.return,u),Hc(c);break;case 27:Xd(c.stateNode);case 26:case 5:ls(c,c.return),Hc(c);break;case 22:c.memoizedState===null&&Hc(c);break;case 30:Hc(c);break;default:Hc(c)}s=s.sibling}}function ua(s,c,u){for(u=u&&(c.subtreeFlags&8772)!==0,c=c.child;c!==null;){var p=c.alternate,m=s,v=c,N=v.flags;switch(v.tag){case 0:case 11:case 15:ua(m,v,u),Fd(4,v);break;case 1:if(ua(m,v,u),p=v,m=p.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(ie){yt(p,p.return,ie)}if(p=v,m=p.updateQueue,m!==null){var L=p.stateNode;try{var Q=m.shared.hiddenCallbacks;if(Q!==null)for(m.shared.hiddenCallbacks=null,m=0;m<Q.length;m++)HC(Q[m],L)}catch(ie){yt(p,p.return,ie)}}u&&N&64&&iO(v),zd(v,v.return);break;case 27:cO(v);case 26:case 5:ua(m,v,u),u&&p===null&&N&4&&oO(v),zd(v,v.return);break;case 12:ua(m,v,u);break;case 13:ua(m,v,u),u&&N&4&&dO(m,v);break;case 22:v.memoizedState===null&&ua(m,v,u),zd(v,v.return);break;case 30:break;default:ua(m,v,u)}c=c.sibling}}function Zv(s,c){var u=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),s=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(s=c.memoizedState.cachePool.pool),s!==u&&(s!=null&&s.refCount++,u!=null&&Od(u))}function Jv(s,c){s=null,c.alternate!==null&&(s=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==s&&(c.refCount++,s!=null&&Od(s))}function us(s,c,u,p){if(c.subtreeFlags&10256)for(c=c.child;c!==null;)mO(s,c,u,p),c=c.sibling}function mO(s,c,u,p){var m=c.flags;switch(c.tag){case 0:case 11:case 15:us(s,c,u,p),m&2048&&Fd(9,c);break;case 1:us(s,c,u,p);break;case 3:us(s,c,u,p),m&2048&&(s=null,c.alternate!==null&&(s=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==s&&(c.refCount++,s!=null&&Od(s)));break;case 12:if(m&2048){us(s,c,u,p),s=c.stateNode;try{var v=c.memoizedProps,N=v.id,L=v.onPostCommit;typeof L=="function"&&L(N,c.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(Q){yt(c,c.return,Q)}}else us(s,c,u,p);break;case 13:us(s,c,u,p);break;case 23:break;case 22:v=c.stateNode,N=c.alternate,c.memoizedState!==null?v._visibility&2?us(s,c,u,p):Vd(s,c):v._visibility&2?us(s,c,u,p):(v._visibility|=2,Uu(s,c,u,p,(c.subtreeFlags&10256)!==0)),m&2048&&Zv(N,c);break;case 24:us(s,c,u,p),m&2048&&Jv(c.alternate,c);break;default:us(s,c,u,p)}}function Uu(s,c,u,p,m){for(m=m&&(c.subtreeFlags&10256)!==0,c=c.child;c!==null;){var v=s,N=c,L=u,Q=p,ie=N.flags;switch(N.tag){case 0:case 11:case 15:Uu(v,N,L,Q,m),Fd(8,N);break;case 23:break;case 22:var le=N.stateNode;N.memoizedState!==null?le._visibility&2?Uu(v,N,L,Q,m):Vd(v,N):(le._visibility|=2,Uu(v,N,L,Q,m)),m&&ie&2048&&Zv(N.alternate,N);break;case 24:Uu(v,N,L,Q,m),m&&ie&2048&&Jv(N.alternate,N);break;default:Uu(v,N,L,Q,m)}c=c.sibling}}function Vd(s,c){if(c.subtreeFlags&10256)for(c=c.child;c!==null;){var u=s,p=c,m=p.flags;switch(p.tag){case 22:Vd(u,p),m&2048&&Zv(p.alternate,p);break;case 24:Vd(u,p),m&2048&&Jv(p.alternate,p);break;default:Vd(u,p)}c=c.sibling}}var Hd=8192;function Lu(s){if(s.subtreeFlags&Hd)for(s=s.child;s!==null;)yO(s),s=s.sibling}function yO(s){switch(s.tag){case 26:Lu(s),s.flags&Hd&&s.memoizedState!==null&&r9(ki,s.memoizedState,s.memoizedProps);break;case 5:Lu(s);break;case 3:case 4:var c=ki;ki=vy(s.stateNode.containerInfo),Lu(s),ki=c;break;case 22:s.memoizedState===null&&(c=s.alternate,c!==null&&c.memoizedState!==null?(c=Hd,Hd=16777216,Lu(s),Hd=c):Lu(s));break;default:Lu(s)}}function bO(s){var c=s.alternate;if(c!==null&&(s=c.child,s!==null)){c.child=null;do c=s.sibling,s.sibling=null,s=c;while(s!==null)}}function qd(s){var c=s.deletions;if((s.flags&16)!==0){if(c!==null)for(var u=0;u<c.length;u++){var p=c[u];fn=p,vO(p,s)}bO(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)wO(s),s=s.sibling}function wO(s){switch(s.tag){case 0:case 11:case 15:qd(s),s.flags&2048&&ca(9,s,s.return);break;case 3:qd(s);break;case 12:qd(s);break;case 22:var c=s.stateNode;s.memoizedState!==null&&c._visibility&2&&(s.return===null||s.return.tag!==13)?(c._visibility&=-3,cy(s)):qd(s);break;default:qd(s)}}function cy(s){var c=s.deletions;if((s.flags&16)!==0){if(c!==null)for(var u=0;u<c.length;u++){var p=c[u];fn=p,vO(p,s)}bO(s)}for(s=s.child;s!==null;){switch(c=s,c.tag){case 0:case 11:case 15:ca(8,c,c.return),cy(c);break;case 22:u=c.stateNode,u._visibility&2&&(u._visibility&=-3,cy(c));break;default:cy(c)}s=s.sibling}}function vO(s,c){for(;fn!==null;){var u=fn;switch(u.tag){case 0:case 11:case 15:ca(8,u,c);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var p=u.memoizedState.cachePool.pool;p!=null&&p.refCount++}break;case 24:Od(u.memoizedState.cache)}if(p=u.child,p!==null)p.return=u,fn=p;else e:for(u=s;fn!==null;){p=fn;var m=p.sibling,v=p.return;if(fO(p),p===u){fn=null;break e}if(m!==null){m.return=v,fn=m;break e}fn=v}}}var wj={getCacheForType:function(s){var c=kn(Jt),u=c.data.get(s);return u===void 0&&(u=s(),c.data.set(s,u)),u}},vj=typeof WeakMap=="function"?WeakMap:Map,lt=0,vt=null,Ke=null,et=0,ut=0,Ur=null,fa=!1,$u=!1,e1=!1,lo=0,It=0,ha=0,qc=0,t1=0,li=0,ju=0,Gd=null,dr=null,n1=!1,r1=0,ly=1/0,uy=null,da=null,vn=0,pa=null,Fu=null,zu=0,i1=0,s1=null,xO=null,Kd=0,o1=null;function Lr(){if((lt&2)!==0&&et!==0)return et&-et;if(T.T!==null){var s=Pu;return s!==0?s:d1()}return UT()}function EO(){li===0&&(li=(et&536870912)===0||ot?IT():536870912);var s=ci.current;return s!==null&&(s.flags|=32),li}function $r(s,c,u){(s===vt&&(ut===2||ut===9)||s.cancelPendingCommit!==null)&&(Vu(s,0),ga(s,et,li,!1)),fd(s,u),((lt&2)===0||s!==vt)&&(s===vt&&((lt&2)===0&&(qc|=u),It===4&&ga(s,et,li,!1)),fs(s))}function AO(s,c,u){if((lt&6)!==0)throw Error(r(327));var p=!u&&(c&124)===0&&(c&s.expiredLanes)===0||ud(s,c),m=p?Aj(s,c):l1(s,c,!0),v=p;do{if(m===0){$u&&!p&&ga(s,c,0,!1);break}else{if(u=s.current.alternate,v&&!xj(u)){m=l1(s,c,!1),v=!1;continue}if(m===2){if(v=c,s.errorRecoveryDisabledLanes&v)var N=0;else N=s.pendingLanes&-536870913,N=N!==0?N:N&536870912?536870912:0;if(N!==0){c=N;e:{var L=s;m=Gd;var Q=L.current.memoizedState.isDehydrated;if(Q&&(Vu(L,N).flags|=256),N=l1(L,N,!1),N!==2){if(e1&&!Q){L.errorRecoveryDisabledLanes|=v,qc|=v,m=4;break e}v=dr,dr=m,v!==null&&(dr===null?dr=v:dr.push.apply(dr,v))}m=N}if(v=!1,m!==2)continue}}if(m===1){Vu(s,0),ga(s,c,0,!0);break}e:{switch(p=s,v=m,v){case 0:case 1:throw Error(r(345));case 4:if((c&4194048)!==c)break;case 6:ga(p,c,li,!fa);break e;case 2:dr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((c&62914560)===c&&(m=r1+300-cn(),10<m)){if(ga(p,c,li,!fa),xm(p,0,!0)!==0)break e;p.timeoutHandle=ZO(SO.bind(null,p,u,dr,uy,n1,c,li,qc,ju,fa,v,2,-0,0),m);break e}SO(p,u,dr,uy,n1,c,li,qc,ju,fa,v,0,-0,0)}}break}while(!0);fs(s)}function SO(s,c,u,p,m,v,N,L,Q,ie,le,pe,oe,ae){if(s.timeoutHandle=-1,pe=c.subtreeFlags,(pe&8192||(pe&16785408)===16785408)&&(ep={stylesheets:null,count:0,unsuspend:n9},yO(c),pe=i9(),pe!==null)){s.cancelPendingCommit=pe(RO.bind(null,s,c,v,u,p,m,N,L,Q,le,1,oe,ae)),ga(s,v,N,!ie);return}RO(s,c,v,u,p,m,N,L,Q)}function xj(s){for(var c=s;;){var u=c.tag;if((u===0||u===11||u===15)&&c.flags&16384&&(u=c.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var p=0;p<u.length;p++){var m=u[p],v=m.getSnapshot;m=m.value;try{if(!Ir(v(),m))return!1}catch{return!1}}if(u=c.child,c.subtreeFlags&16384&&u!==null)u.return=c,c=u;else{if(c===s)break;for(;c.sibling===null;){if(c.return===null||c.return===s)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function ga(s,c,u,p){c&=~t1,c&=~qc,s.suspendedLanes|=c,s.pingedLanes&=~c,p&&(s.warmLanes|=c),p=s.expirationTimes;for(var m=c;0<m;){var v=31-Wn(m),N=1<<v;p[v]=-1,m&=~N}u!==0&&MT(s,u,c)}function fy(){return(lt&6)===0?(Qd(0),!1):!0}function a1(){if(Ke!==null){if(ut===0)var s=Ke.return;else s=Ke,to=$c=null,Sv(s),Mu=null,Ld=0,s=Ke;for(;s!==null;)rO(s.alternate,s),s=s.return;Ke=null}}function Vu(s,c){var u=s.timeoutHandle;u!==-1&&(s.timeoutHandle=-1,$j(u)),u=s.cancelPendingCommit,u!==null&&(s.cancelPendingCommit=null,u()),a1(),vt=s,Ke=u=Zs(s.current,null),et=c,ut=0,Ur=null,fa=!1,$u=ud(s,c),e1=!1,ju=li=t1=qc=ha=It=0,dr=Gd=null,n1=!1,(c&8)!==0&&(c|=c&32);var p=s.entangledLanes;if(p!==0)for(s=s.entanglements,p&=c;0<p;){var m=31-Wn(p),v=1<<m;c|=s[m],p&=~v}return lo=c,Im(),u}function TO(s,c){Fe=null,T.H=Zm,c===Pd||c===zm?(c=zC(),ut=3):c===$C?(c=zC(),ut=4):ut=c===V3?8:c!==null&&typeof c=="object"&&typeof c.then=="function"?6:1,Ur=c,Ke===null&&(It=1,ry(s,ii(c,s.current)))}function CO(){var s=T.H;return T.H=Zm,s===null?Zm:s}function OO(){var s=T.A;return T.A=wj,s}function c1(){It=4,fa||(et&4194048)!==et&&ci.current!==null||($u=!0),(ha&134217727)===0&&(qc&134217727)===0||vt===null||ga(vt,et,li,!1)}function l1(s,c,u){var p=lt;lt|=2;var m=CO(),v=OO();(vt!==s||et!==c)&&(uy=null,Vu(s,c)),c=!1;var N=It;e:do try{if(ut!==0&&Ke!==null){var L=Ke,Q=Ur;switch(ut){case 8:a1(),N=6;break e;case 3:case 2:case 9:case 6:ci.current===null&&(c=!0);var ie=ut;if(ut=0,Ur=null,Hu(s,L,Q,ie),u&&$u){N=0;break e}break;default:ie=ut,ut=0,Ur=null,Hu(s,L,Q,ie)}}Ej(),N=It;break}catch(le){TO(s,le)}while(!0);return c&&s.shellSuspendCounter++,to=$c=null,lt=p,T.H=m,T.A=v,Ke===null&&(vt=null,et=0,Im()),N}function Ej(){for(;Ke!==null;)DO(Ke)}function Aj(s,c){var u=lt;lt|=2;var p=CO(),m=OO();vt!==s||et!==c?(uy=null,ly=cn()+500,Vu(s,c)):$u=ud(s,c);e:do try{if(ut!==0&&Ke!==null){c=Ke;var v=Ur;t:switch(ut){case 1:ut=0,Ur=null,Hu(s,c,v,1);break;case 2:case 9:if(jC(v)){ut=0,Ur=null,PO(c);break}c=function(){ut!==2&&ut!==9||vt!==s||(ut=7),fs(s)},v.then(c,c);break e;case 3:ut=7;break e;case 4:ut=5;break e;case 7:jC(v)?(ut=0,Ur=null,PO(c)):(ut=0,Ur=null,Hu(s,c,v,7));break;case 5:var N=null;switch(Ke.tag){case 26:N=Ke.memoizedState;case 5:case 27:var L=Ke;if(!N||uD(N)){ut=0,Ur=null;var Q=L.sibling;if(Q!==null)Ke=Q;else{var ie=L.return;ie!==null?(Ke=ie,hy(ie)):Ke=null}break t}}ut=0,Ur=null,Hu(s,c,v,5);break;case 6:ut=0,Ur=null,Hu(s,c,v,6);break;case 8:a1(),It=6;break e;default:throw Error(r(462))}}Sj();break}catch(le){TO(s,le)}while(!0);return to=$c=null,T.H=p,T.A=m,lt=u,Ke!==null?0:(vt=null,et=0,Im(),It)}function Sj(){for(;Ke!==null&&!cr();)DO(Ke)}function DO(s){var c=tO(s.alternate,s,lo);s.memoizedProps=s.pendingProps,c===null?hy(s):Ke=c}function PO(s){var c=s,u=c.alternate;switch(c.tag){case 15:case 0:c=Y3(u,c,c.pendingProps,c.type,void 0,et);break;case 11:c=Y3(u,c,c.pendingProps,c.type.render,c.ref,et);break;case 5:Sv(c);default:rO(u,c),c=Ke=NC(c,lo),c=tO(u,c,lo)}s.memoizedProps=s.pendingProps,c===null?hy(s):Ke=c}function Hu(s,c,u,p){to=$c=null,Sv(c),Mu=null,Ld=0;var m=c.return;try{if(dj(s,m,c,u,et)){It=1,ry(s,ii(u,s.current)),Ke=null;return}}catch(v){if(m!==null)throw Ke=m,v;It=1,ry(s,ii(u,s.current)),Ke=null;return}c.flags&32768?(ot||p===1?s=!0:$u||(et&536870912)!==0?s=!1:(fa=s=!0,(p===2||p===9||p===3||p===6)&&(p=ci.current,p!==null&&p.tag===13&&(p.flags|=16384))),NO(c,s)):hy(c)}function hy(s){var c=s;do{if((c.flags&32768)!==0){NO(c,fa);return}s=c.return;var u=gj(c.alternate,c,lo);if(u!==null){Ke=u;return}if(c=c.sibling,c!==null){Ke=c;return}Ke=c=s}while(c!==null);It===0&&(It=5)}function NO(s,c){do{var u=mj(s.alternate,s);if(u!==null){u.flags&=32767,Ke=u;return}if(u=s.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!c&&(s=s.sibling,s!==null)){Ke=s;return}Ke=s=u}while(s!==null);It=6,Ke=null}function RO(s,c,u,p,m,v,N,L,Q){s.cancelPendingCommit=null;do dy();while(vn!==0);if((lt&6)!==0)throw Error(r(327));if(c!==null){if(c===s.current)throw Error(r(177));if(v=c.lanes|c.childLanes,v|=Jw,n$(s,u,v,N,L,Q),s===vt&&(Ke=vt=null,et=0),Fu=c,pa=s,zu=u,i1=v,s1=m,xO=p,(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,Dj(Xo,function(){return kO(),null})):(s.callbackNode=null,s.callbackPriority=0),p=(c.flags&13878)!==0,(c.subtreeFlags&13878)!==0||p){p=T.T,T.T=null,m=U.p,U.p=2,N=lt,lt|=4;try{yj(s,c,u)}finally{lt=N,U.p=m,T.T=p}}vn=1,_O(),IO(),BO()}}function _O(){if(vn===1){vn=0;var s=pa,c=Fu,u=(c.flags&13878)!==0;if((c.subtreeFlags&13878)!==0||u){u=T.T,T.T=null;var p=U.p;U.p=2;var m=lt;lt|=4;try{pO(c,s);var v=x1,N=vC(s.containerInfo),L=v.focusedElem,Q=v.selectionRange;if(N!==L&&L&&L.ownerDocument&&wC(L.ownerDocument.documentElement,L)){if(Q!==null&&Qw(L)){var ie=Q.start,le=Q.end;if(le===void 0&&(le=ie),"selectionStart"in L)L.selectionStart=ie,L.selectionEnd=Math.min(le,L.value.length);else{var pe=L.ownerDocument||document,oe=pe&&pe.defaultView||window;if(oe.getSelection){var ae=oe.getSelection(),ke=L.textContent.length,Ie=Math.min(Q.start,ke),gt=Q.end===void 0?Ie:Math.min(Q.end,ke);!ae.extend&&Ie>gt&&(N=gt,gt=Ie,Ie=N);var ee=bC(L,Ie),W=bC(L,gt);if(ee&&W&&(ae.rangeCount!==1||ae.anchorNode!==ee.node||ae.anchorOffset!==ee.offset||ae.focusNode!==W.node||ae.focusOffset!==W.offset)){var re=pe.createRange();re.setStart(ee.node,ee.offset),ae.removeAllRanges(),Ie>gt?(ae.addRange(re),ae.extend(W.node,W.offset)):(re.setEnd(W.node,W.offset),ae.addRange(re))}}}}for(pe=[],ae=L;ae=ae.parentNode;)ae.nodeType===1&&pe.push({element:ae,left:ae.scrollLeft,top:ae.scrollTop});for(typeof L.focus=="function"&&L.focus(),L=0;L<pe.length;L++){var de=pe[L];de.element.scrollLeft=de.left,de.element.scrollTop=de.top}}Ty=!!v1,x1=v1=null}finally{lt=m,U.p=p,T.T=u}}s.current=c,vn=2}}function IO(){if(vn===2){vn=0;var s=pa,c=Fu,u=(c.flags&8772)!==0;if((c.subtreeFlags&8772)!==0||u){u=T.T,T.T=null;var p=U.p;U.p=2;var m=lt;lt|=4;try{uO(s,c.alternate,c)}finally{lt=m,U.p=p,T.T=u}}vn=3}}function BO(){if(vn===4||vn===3){vn=0,ti();var s=pa,c=Fu,u=zu,p=xO;(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?vn=5:(vn=0,Fu=pa=null,MO(s,s.pendingLanes));var m=s.pendingLanes;if(m===0&&(da=null),Ow(u),c=c.stateNode,Yn&&typeof Yn.onCommitFiberRoot=="function")try{Yn.onCommitFiberRoot(Zo,c,void 0,(c.current.flags&128)===128)}catch{}if(p!==null){c=T.T,m=U.p,U.p=2,T.T=null;try{for(var v=s.onRecoverableError,N=0;N<p.length;N++){var L=p[N];v(L.value,{componentStack:L.stack})}}finally{T.T=c,U.p=m}}(zu&3)!==0&&dy(),fs(s),m=s.pendingLanes,(u&4194090)!==0&&(m&42)!==0?s===o1?Kd++:(Kd=0,o1=s):Kd=0,Qd(0)}}function MO(s,c){(s.pooledCacheLanes&=c)===0&&(c=s.pooledCache,c!=null&&(s.pooledCache=null,Od(c)))}function dy(s){return _O(),IO(),BO(),kO()}function kO(){if(vn!==5)return!1;var s=pa,c=i1;i1=0;var u=Ow(zu),p=T.T,m=U.p;try{U.p=32>u?32:u,T.T=null,u=s1,s1=null;var v=pa,N=zu;if(vn=0,Fu=pa=null,zu=0,(lt&6)!==0)throw Error(r(331));var L=lt;if(lt|=4,wO(v.current),mO(v,v.current,N,u),lt=L,Qd(0,!1),Yn&&typeof Yn.onPostCommitFiberRoot=="function")try{Yn.onPostCommitFiberRoot(Zo,v)}catch{}return!0}finally{U.p=m,T.T=p,MO(s,c)}}function UO(s,c,u){c=ii(u,c),c=Lv(s.stateNode,c,2),s=ia(s,c,2),s!==null&&(fd(s,2),fs(s))}function yt(s,c,u){if(s.tag===3)UO(s,s,u);else for(;c!==null;){if(c.tag===3){UO(c,s,u);break}else if(c.tag===1){var p=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(da===null||!da.has(p))){s=ii(u,s),u=F3(2),p=ia(c,u,2),p!==null&&(z3(u,p,c,s),fd(p,2),fs(p));break}}c=c.return}}function u1(s,c,u){var p=s.pingCache;if(p===null){p=s.pingCache=new vj;var m=new Set;p.set(c,m)}else m=p.get(c),m===void 0&&(m=new Set,p.set(c,m));m.has(u)||(e1=!0,m.add(u),s=Tj.bind(null,s,c,u),c.then(s,s))}function Tj(s,c,u){var p=s.pingCache;p!==null&&p.delete(c),s.pingedLanes|=s.suspendedLanes&u,s.warmLanes&=~u,vt===s&&(et&u)===u&&(It===4||It===3&&(et&62914560)===et&&300>cn()-r1?(lt&2)===0&&Vu(s,0):t1|=u,ju===et&&(ju=0)),fs(s)}function LO(s,c){c===0&&(c=BT()),s=Tu(s,c),s!==null&&(fd(s,c),fs(s))}function Cj(s){var c=s.memoizedState,u=0;c!==null&&(u=c.retryLane),LO(s,u)}function Oj(s,c){var u=0;switch(s.tag){case 13:var p=s.stateNode,m=s.memoizedState;m!==null&&(u=m.retryLane);break;case 19:p=s.stateNode;break;case 22:p=s.stateNode._retryCache;break;default:throw Error(r(314))}p!==null&&p.delete(c),LO(s,u)}function Dj(s,c){return Je(s,c)}var py=null,qu=null,f1=!1,gy=!1,h1=!1,Gc=0;function fs(s){s!==qu&&s.next===null&&(qu===null?py=qu=s:qu=qu.next=s),gy=!0,f1||(f1=!0,Nj())}function Qd(s,c){if(!h1&&gy){h1=!0;do for(var u=!1,p=py;p!==null;){if(s!==0){var m=p.pendingLanes;if(m===0)var v=0;else{var N=p.suspendedLanes,L=p.pingedLanes;v=(1<<31-Wn(42|s)+1)-1,v&=m&~(N&~L),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(u=!0,zO(p,v))}else v=et,v=xm(p,p===vt?v:0,p.cancelPendingCommit!==null||p.timeoutHandle!==-1),(v&3)===0||ud(p,v)||(u=!0,zO(p,v));p=p.next}while(u);h1=!1}}function Pj(){$O()}function $O(){gy=f1=!1;var s=0;Gc!==0&&(Lj()&&(s=Gc),Gc=0);for(var c=cn(),u=null,p=py;p!==null;){var m=p.next,v=jO(p,c);v===0?(p.next=null,u===null?py=m:u.next=m,m===null&&(qu=u)):(u=p,(s!==0||(v&3)!==0)&&(gy=!0)),p=m}Qd(s)}function jO(s,c){for(var u=s.suspendedLanes,p=s.pingedLanes,m=s.expirationTimes,v=s.pendingLanes&-62914561;0<v;){var N=31-Wn(v),L=1<<N,Q=m[N];Q===-1?((L&u)===0||(L&p)!==0)&&(m[N]=t$(L,c)):Q<=c&&(s.expiredLanes|=L),v&=~L}if(c=vt,u=et,u=xm(s,s===c?u:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),p=s.callbackNode,u===0||s===c&&(ut===2||ut===9)||s.cancelPendingCommit!==null)return p!==null&&p!==null&&ht(p),s.callbackNode=null,s.callbackPriority=0;if((u&3)===0||ud(s,u)){if(c=u&-u,c===s.callbackPriority)return c;switch(p!==null&&ht(p),Ow(u)){case 2:case 8:u=cd;break;case 32:u=Xo;break;case 268435456:u=ld;break;default:u=Xo}return p=FO.bind(null,s),u=Je(u,p),s.callbackPriority=c,s.callbackNode=u,c}return p!==null&&p!==null&&ht(p),s.callbackPriority=2,s.callbackNode=null,2}function FO(s,c){if(vn!==0&&vn!==5)return s.callbackNode=null,s.callbackPriority=0,null;var u=s.callbackNode;if(dy()&&s.callbackNode!==u)return null;var p=et;return p=xm(s,s===vt?p:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),p===0?null:(AO(s,p,c),jO(s,cn()),s.callbackNode!=null&&s.callbackNode===u?FO.bind(null,s):null)}function zO(s,c){if(dy())return null;AO(s,c,!0)}function Nj(){jj(function(){(lt&6)!==0?Je(ss,Pj):$O()})}function d1(){return Gc===0&&(Gc=IT()),Gc}function VO(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Cm(""+s)}function HO(s,c){var u=c.ownerDocument.createElement("input");return u.name=c.name,u.value=c.value,s.id&&u.setAttribute("form",s.id),c.parentNode.insertBefore(u,c),s=new FormData(s),u.parentNode.removeChild(u),s}function Rj(s,c,u,p,m){if(c==="submit"&&u&&u.stateNode===m){var v=VO((m[lr]||null).action),N=p.submitter;N&&(c=(c=N[lr]||null)?VO(c.formAction):N.getAttribute("formAction"),c!==null&&(v=c,N=null));var L=new Nm("action","action",null,p,m);s.push({event:L,listeners:[{instance:null,listener:function(){if(p.defaultPrevented){if(Gc!==0){var Q=N?HO(m,N):new FormData(m);Iv(u,{pending:!0,data:Q,method:m.method,action:v},null,Q)}}else typeof v=="function"&&(L.preventDefault(),Q=N?HO(m,N):new FormData(m),Iv(u,{pending:!0,data:Q,method:m.method,action:v},v,Q))},currentTarget:m}]})}}for(var p1=0;p1<Zw.length;p1++){var g1=Zw[p1],_j=g1.toLowerCase(),Ij=g1[0].toUpperCase()+g1.slice(1);Mi(_j,"on"+Ij)}Mi(AC,"onAnimationEnd"),Mi(SC,"onAnimationIteration"),Mi(TC,"onAnimationStart"),Mi("dblclick","onDoubleClick"),Mi("focusin","onFocus"),Mi("focusout","onBlur"),Mi(W$,"onTransitionRun"),Mi(X$,"onTransitionStart"),Mi(Z$,"onTransitionCancel"),Mi(CC,"onTransitionEnd"),gu("onMouseEnter",["mouseout","mouseover"]),gu("onMouseLeave",["mouseout","mouseover"]),gu("onPointerEnter",["pointerout","pointerover"]),gu("onPointerLeave",["pointerout","pointerover"]),Nc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Nc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Nc("onBeforeInput",["compositionend","keypress","textInput","paste"]),Nc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Nc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Nc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Bj=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Yd));function qO(s,c){c=(c&4)!==0;for(var u=0;u<s.length;u++){var p=s[u],m=p.event;p=p.listeners;e:{var v=void 0;if(c)for(var N=p.length-1;0<=N;N--){var L=p[N],Q=L.instance,ie=L.currentTarget;if(L=L.listener,Q!==v&&m.isPropagationStopped())break e;v=L,m.currentTarget=ie;try{v(m)}catch(le){ny(le)}m.currentTarget=null,v=Q}else for(N=0;N<p.length;N++){if(L=p[N],Q=L.instance,ie=L.currentTarget,L=L.listener,Q!==v&&m.isPropagationStopped())break e;v=L,m.currentTarget=ie;try{v(m)}catch(le){ny(le)}m.currentTarget=null,v=Q}}}}function Qe(s,c){var u=c[Dw];u===void 0&&(u=c[Dw]=new Set);var p=s+"__bubble";u.has(p)||(GO(c,s,2,!1),u.add(p))}function m1(s,c,u){var p=0;c&&(p|=4),GO(u,s,p,c)}var my="_reactListening"+Math.random().toString(36).slice(2);function y1(s){if(!s[my]){s[my]=!0,$T.forEach(function(u){u!=="selectionchange"&&(Bj.has(u)||m1(u,!1,s),m1(u,!0,s))});var c=s.nodeType===9?s:s.ownerDocument;c===null||c[my]||(c[my]=!0,m1("selectionchange",!1,c))}}function GO(s,c,u,p){switch(mD(c)){case 2:var m=a9;break;case 8:m=c9;break;default:m=R1}u=m.bind(null,c,u,s),m=void 0,!$w||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(m=!0),p?m!==void 0?s.addEventListener(c,u,{capture:!0,passive:m}):s.addEventListener(c,u,!0):m!==void 0?s.addEventListener(c,u,{passive:m}):s.addEventListener(c,u,!1)}function b1(s,c,u,p,m){var v=p;if((c&1)===0&&(c&2)===0&&p!==null)e:for(;;){if(p===null)return;var N=p.tag;if(N===3||N===4){var L=p.stateNode.containerInfo;if(L===m)break;if(N===4)for(N=p.return;N!==null;){var Q=N.tag;if((Q===3||Q===4)&&N.stateNode.containerInfo===m)return;N=N.return}for(;L!==null;){if(N=hu(L),N===null)return;if(Q=N.tag,Q===5||Q===6||Q===26||Q===27){p=v=N;continue e}L=L.parentNode}}p=p.return}JT(function(){var ie=v,le=Uw(u),pe=[];e:{var oe=OC.get(s);if(oe!==void 0){var ae=Nm,ke=s;switch(s){case"keypress":if(Dm(u)===0)break e;case"keydown":case"keyup":ae=D$;break;case"focusin":ke="focus",ae=Vw;break;case"focusout":ke="blur",ae=Vw;break;case"beforeblur":case"afterblur":ae=Vw;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ae=nC;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ae=m$;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ae=R$;break;case AC:case SC:case TC:ae=w$;break;case CC:ae=I$;break;case"scroll":case"scrollend":ae=p$;break;case"wheel":ae=M$;break;case"copy":case"cut":case"paste":ae=x$;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ae=iC;break;case"toggle":case"beforetoggle":ae=U$}var Ie=(c&4)!==0,gt=!Ie&&(s==="scroll"||s==="scrollend"),ee=Ie?oe!==null?oe+"Capture":null:oe;Ie=[];for(var W=ie,re;W!==null;){var de=W;if(re=de.stateNode,de=de.tag,de!==5&&de!==26&&de!==27||re===null||ee===null||(de=pd(W,ee),de!=null&&Ie.push(Wd(W,de,re))),gt)break;W=W.return}0<Ie.length&&(oe=new ae(oe,ke,null,u,le),pe.push({event:oe,listeners:Ie}))}}if((c&7)===0){e:{if(oe=s==="mouseover"||s==="pointerover",ae=s==="mouseout"||s==="pointerout",oe&&u!==kw&&(ke=u.relatedTarget||u.fromElement)&&(hu(ke)||ke[fu]))break e;if((ae||oe)&&(oe=le.window===le?le:(oe=le.ownerDocument)?oe.defaultView||oe.parentWindow:window,ae?(ke=u.relatedTarget||u.toElement,ae=ie,ke=ke?hu(ke):null,ke!==null&&(gt=o(ke),Ie=ke.tag,ke!==gt||Ie!==5&&Ie!==27&&Ie!==6)&&(ke=null)):(ae=null,ke=ie),ae!==ke)){if(Ie=nC,de="onMouseLeave",ee="onMouseEnter",W="mouse",(s==="pointerout"||s==="pointerover")&&(Ie=iC,de="onPointerLeave",ee="onPointerEnter",W="pointer"),gt=ae==null?oe:dd(ae),re=ke==null?oe:dd(ke),oe=new Ie(de,W+"leave",ae,u,le),oe.target=gt,oe.relatedTarget=re,de=null,hu(le)===ie&&(Ie=new Ie(ee,W+"enter",ke,u,le),Ie.target=re,Ie.relatedTarget=gt,de=Ie),gt=de,ae&&ke)t:{for(Ie=ae,ee=ke,W=0,re=Ie;re;re=Gu(re))W++;for(re=0,de=ee;de;de=Gu(de))re++;for(;0<W-re;)Ie=Gu(Ie),W--;for(;0<re-W;)ee=Gu(ee),re--;for(;W--;){if(Ie===ee||ee!==null&&Ie===ee.alternate)break t;Ie=Gu(Ie),ee=Gu(ee)}Ie=null}else Ie=null;ae!==null&&KO(pe,oe,ae,Ie,!1),ke!==null&&gt!==null&&KO(pe,gt,ke,Ie,!0)}}e:{if(oe=ie?dd(ie):window,ae=oe.nodeName&&oe.nodeName.toLowerCase(),ae==="select"||ae==="input"&&oe.type==="file")var Oe=hC;else if(uC(oe))if(dC)Oe=K$;else{Oe=q$;var Ve=H$}else ae=oe.nodeName,!ae||ae.toLowerCase()!=="input"||oe.type!=="checkbox"&&oe.type!=="radio"?ie&&Mw(ie.elementType)&&(Oe=hC):Oe=G$;if(Oe&&(Oe=Oe(s,ie))){fC(pe,Oe,u,le);break e}Ve&&Ve(s,oe,ie),s==="focusout"&&ie&&oe.type==="number"&&ie.memoizedProps.value!=null&&Bw(oe,"number",oe.value)}switch(Ve=ie?dd(ie):window,s){case"focusin":(uC(Ve)||Ve.contentEditable==="true")&&(Eu=Ve,Yw=ie,Ed=null);break;case"focusout":Ed=Yw=Eu=null;break;case"mousedown":Ww=!0;break;case"contextmenu":case"mouseup":case"dragend":Ww=!1,xC(pe,u,le);break;case"selectionchange":if(Y$)break;case"keydown":case"keyup":xC(pe,u,le)}var Re;if(qw)e:{switch(s){case"compositionstart":var Be="onCompositionStart";break e;case"compositionend":Be="onCompositionEnd";break e;case"compositionupdate":Be="onCompositionUpdate";break e}Be=void 0}else xu?cC(s,u)&&(Be="onCompositionEnd"):s==="keydown"&&u.keyCode===229&&(Be="onCompositionStart");Be&&(sC&&u.locale!=="ko"&&(xu||Be!=="onCompositionStart"?Be==="onCompositionEnd"&&xu&&(Re=eC()):(ea=le,jw="value"in ea?ea.value:ea.textContent,xu=!0)),Ve=yy(ie,Be),0<Ve.length&&(Be=new rC(Be,s,null,u,le),pe.push({event:Be,listeners:Ve}),Re?Be.data=Re:(Re=lC(u),Re!==null&&(Be.data=Re)))),(Re=$$?j$(s,u):F$(s,u))&&(Be=yy(ie,"onBeforeInput"),0<Be.length&&(Ve=new rC("onBeforeInput","beforeinput",null,u,le),pe.push({event:Ve,listeners:Be}),Ve.data=Re)),Rj(pe,s,ie,u,le)}qO(pe,c)})}function Wd(s,c,u){return{instance:s,listener:c,currentTarget:u}}function yy(s,c){for(var u=c+"Capture",p=[];s!==null;){var m=s,v=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||v===null||(m=pd(s,u),m!=null&&p.unshift(Wd(s,m,v)),m=pd(s,c),m!=null&&p.push(Wd(s,m,v))),s.tag===3)return p;s=s.return}return[]}function Gu(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function KO(s,c,u,p,m){for(var v=c._reactName,N=[];u!==null&&u!==p;){var L=u,Q=L.alternate,ie=L.stateNode;if(L=L.tag,Q!==null&&Q===p)break;L!==5&&L!==26&&L!==27||ie===null||(Q=ie,m?(ie=pd(u,v),ie!=null&&N.unshift(Wd(u,ie,Q))):m||(ie=pd(u,v),ie!=null&&N.push(Wd(u,ie,Q)))),u=u.return}N.length!==0&&s.push({event:c,listeners:N})}var Mj=/\r\n?/g,kj=/\u0000|\uFFFD/g;function QO(s){return(typeof s=="string"?s:""+s).replace(Mj,`
`).replace(kj,"")}function YO(s,c){return c=QO(c),QO(s)===c}function by(){}function pt(s,c,u,p,m,v){switch(u){case"children":typeof p=="string"?c==="body"||c==="textarea"&&p===""||bu(s,p):(typeof p=="number"||typeof p=="bigint")&&c!=="body"&&bu(s,""+p);break;case"className":Am(s,"class",p);break;case"tabIndex":Am(s,"tabindex",p);break;case"dir":case"role":case"viewBox":case"width":case"height":Am(s,u,p);break;case"style":XT(s,p,v);break;case"data":if(c!=="object"){Am(s,"data",p);break}case"src":case"href":if(p===""&&(c!=="a"||u!=="href")){s.removeAttribute(u);break}if(p==null||typeof p=="function"||typeof p=="symbol"||typeof p=="boolean"){s.removeAttribute(u);break}p=Cm(""+p),s.setAttribute(u,p);break;case"action":case"formAction":if(typeof p=="function"){s.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(u==="formAction"?(c!=="input"&&pt(s,c,"name",m.name,m,null),pt(s,c,"formEncType",m.formEncType,m,null),pt(s,c,"formMethod",m.formMethod,m,null),pt(s,c,"formTarget",m.formTarget,m,null)):(pt(s,c,"encType",m.encType,m,null),pt(s,c,"method",m.method,m,null),pt(s,c,"target",m.target,m,null)));if(p==null||typeof p=="symbol"||typeof p=="boolean"){s.removeAttribute(u);break}p=Cm(""+p),s.setAttribute(u,p);break;case"onClick":p!=null&&(s.onclick=by);break;case"onScroll":p!=null&&Qe("scroll",s);break;case"onScrollEnd":p!=null&&Qe("scrollend",s);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(r(61));if(u=p.__html,u!=null){if(m.children!=null)throw Error(r(60));s.innerHTML=u}}break;case"multiple":s.multiple=p&&typeof p!="function"&&typeof p!="symbol";break;case"muted":s.muted=p&&typeof p!="function"&&typeof p!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(p==null||typeof p=="function"||typeof p=="boolean"||typeof p=="symbol"){s.removeAttribute("xlink:href");break}u=Cm(""+p),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":p!=null&&typeof p!="function"&&typeof p!="symbol"?s.setAttribute(u,""+p):s.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":p&&typeof p!="function"&&typeof p!="symbol"?s.setAttribute(u,""):s.removeAttribute(u);break;case"capture":case"download":p===!0?s.setAttribute(u,""):p!==!1&&p!=null&&typeof p!="function"&&typeof p!="symbol"?s.setAttribute(u,p):s.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":p!=null&&typeof p!="function"&&typeof p!="symbol"&&!isNaN(p)&&1<=p?s.setAttribute(u,p):s.removeAttribute(u);break;case"rowSpan":case"start":p==null||typeof p=="function"||typeof p=="symbol"||isNaN(p)?s.removeAttribute(u):s.setAttribute(u,p);break;case"popover":Qe("beforetoggle",s),Qe("toggle",s),Em(s,"popover",p);break;case"xlinkActuate":Ws(s,"http://www.w3.org/1999/xlink","xlink:actuate",p);break;case"xlinkArcrole":Ws(s,"http://www.w3.org/1999/xlink","xlink:arcrole",p);break;case"xlinkRole":Ws(s,"http://www.w3.org/1999/xlink","xlink:role",p);break;case"xlinkShow":Ws(s,"http://www.w3.org/1999/xlink","xlink:show",p);break;case"xlinkTitle":Ws(s,"http://www.w3.org/1999/xlink","xlink:title",p);break;case"xlinkType":Ws(s,"http://www.w3.org/1999/xlink","xlink:type",p);break;case"xmlBase":Ws(s,"http://www.w3.org/XML/1998/namespace","xml:base",p);break;case"xmlLang":Ws(s,"http://www.w3.org/XML/1998/namespace","xml:lang",p);break;case"xmlSpace":Ws(s,"http://www.w3.org/XML/1998/namespace","xml:space",p);break;case"is":Em(s,"is",p);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=h$.get(u)||u,Em(s,u,p))}}function w1(s,c,u,p,m,v){switch(u){case"style":XT(s,p,v);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(r(61));if(u=p.__html,u!=null){if(m.children!=null)throw Error(r(60));s.innerHTML=u}}break;case"children":typeof p=="string"?bu(s,p):(typeof p=="number"||typeof p=="bigint")&&bu(s,""+p);break;case"onScroll":p!=null&&Qe("scroll",s);break;case"onScrollEnd":p!=null&&Qe("scrollend",s);break;case"onClick":p!=null&&(s.onclick=by);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!jT.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(m=u.endsWith("Capture"),c=u.slice(2,m?u.length-7:void 0),v=s[lr]||null,v=v!=null?v[u]:null,typeof v=="function"&&s.removeEventListener(c,v,m),typeof p=="function")){typeof v!="function"&&v!==null&&(u in s?s[u]=null:s.hasAttribute(u)&&s.removeAttribute(u)),s.addEventListener(c,p,m);break e}u in s?s[u]=p:p===!0?s.setAttribute(u,""):Em(s,u,p)}}}function xn(s,c,u){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Qe("error",s),Qe("load",s);var p=!1,m=!1,v;for(v in u)if(u.hasOwnProperty(v)){var N=u[v];if(N!=null)switch(v){case"src":p=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,c));default:pt(s,c,v,N,u,null)}}m&&pt(s,c,"srcSet",u.srcSet,u,null),p&&pt(s,c,"src",u.src,u,null);return;case"input":Qe("invalid",s);var L=v=N=m=null,Q=null,ie=null;for(p in u)if(u.hasOwnProperty(p)){var le=u[p];if(le!=null)switch(p){case"name":m=le;break;case"type":N=le;break;case"checked":Q=le;break;case"defaultChecked":ie=le;break;case"value":v=le;break;case"defaultValue":L=le;break;case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(r(137,c));break;default:pt(s,c,p,le,u,null)}}KT(s,v,L,Q,ie,N,m,!1),Sm(s);return;case"select":Qe("invalid",s),p=N=v=null;for(m in u)if(u.hasOwnProperty(m)&&(L=u[m],L!=null))switch(m){case"value":v=L;break;case"defaultValue":N=L;break;case"multiple":p=L;default:pt(s,c,m,L,u,null)}c=v,u=N,s.multiple=!!p,c!=null?yu(s,!!p,c,!1):u!=null&&yu(s,!!p,u,!0);return;case"textarea":Qe("invalid",s),v=m=p=null;for(N in u)if(u.hasOwnProperty(N)&&(L=u[N],L!=null))switch(N){case"value":p=L;break;case"defaultValue":m=L;break;case"children":v=L;break;case"dangerouslySetInnerHTML":if(L!=null)throw Error(r(91));break;default:pt(s,c,N,L,u,null)}YT(s,p,m,v),Sm(s);return;case"option":for(Q in u)if(u.hasOwnProperty(Q)&&(p=u[Q],p!=null))switch(Q){case"selected":s.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:pt(s,c,Q,p,u,null)}return;case"dialog":Qe("beforetoggle",s),Qe("toggle",s),Qe("cancel",s),Qe("close",s);break;case"iframe":case"object":Qe("load",s);break;case"video":case"audio":for(p=0;p<Yd.length;p++)Qe(Yd[p],s);break;case"image":Qe("error",s),Qe("load",s);break;case"details":Qe("toggle",s);break;case"embed":case"source":case"link":Qe("error",s),Qe("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ie in u)if(u.hasOwnProperty(ie)&&(p=u[ie],p!=null))switch(ie){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,c));default:pt(s,c,ie,p,u,null)}return;default:if(Mw(c)){for(le in u)u.hasOwnProperty(le)&&(p=u[le],p!==void 0&&w1(s,c,le,p,u,void 0));return}}for(L in u)u.hasOwnProperty(L)&&(p=u[L],p!=null&&pt(s,c,L,p,u,null))}function Uj(s,c,u,p){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,v=null,N=null,L=null,Q=null,ie=null,le=null;for(ae in u){var pe=u[ae];if(u.hasOwnProperty(ae)&&pe!=null)switch(ae){case"checked":break;case"value":break;case"defaultValue":Q=pe;default:p.hasOwnProperty(ae)||pt(s,c,ae,null,p,pe)}}for(var oe in p){var ae=p[oe];if(pe=u[oe],p.hasOwnProperty(oe)&&(ae!=null||pe!=null))switch(oe){case"type":v=ae;break;case"name":m=ae;break;case"checked":ie=ae;break;case"defaultChecked":le=ae;break;case"value":N=ae;break;case"defaultValue":L=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(r(137,c));break;default:ae!==pe&&pt(s,c,oe,ae,p,pe)}}Iw(s,N,L,Q,ie,le,v,m);return;case"select":ae=N=L=oe=null;for(v in u)if(Q=u[v],u.hasOwnProperty(v)&&Q!=null)switch(v){case"value":break;case"multiple":ae=Q;default:p.hasOwnProperty(v)||pt(s,c,v,null,p,Q)}for(m in p)if(v=p[m],Q=u[m],p.hasOwnProperty(m)&&(v!=null||Q!=null))switch(m){case"value":oe=v;break;case"defaultValue":L=v;break;case"multiple":N=v;default:v!==Q&&pt(s,c,m,v,p,Q)}c=L,u=N,p=ae,oe!=null?yu(s,!!u,oe,!1):!!p!=!!u&&(c!=null?yu(s,!!u,c,!0):yu(s,!!u,u?[]:"",!1));return;case"textarea":ae=oe=null;for(L in u)if(m=u[L],u.hasOwnProperty(L)&&m!=null&&!p.hasOwnProperty(L))switch(L){case"value":break;case"children":break;default:pt(s,c,L,null,p,m)}for(N in p)if(m=p[N],v=u[N],p.hasOwnProperty(N)&&(m!=null||v!=null))switch(N){case"value":oe=m;break;case"defaultValue":ae=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(r(91));break;default:m!==v&&pt(s,c,N,m,p,v)}QT(s,oe,ae);return;case"option":for(var ke in u)if(oe=u[ke],u.hasOwnProperty(ke)&&oe!=null&&!p.hasOwnProperty(ke))switch(ke){case"selected":s.selected=!1;break;default:pt(s,c,ke,null,p,oe)}for(Q in p)if(oe=p[Q],ae=u[Q],p.hasOwnProperty(Q)&&oe!==ae&&(oe!=null||ae!=null))switch(Q){case"selected":s.selected=oe&&typeof oe!="function"&&typeof oe!="symbol";break;default:pt(s,c,Q,oe,p,ae)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ie in u)oe=u[Ie],u.hasOwnProperty(Ie)&&oe!=null&&!p.hasOwnProperty(Ie)&&pt(s,c,Ie,null,p,oe);for(ie in p)if(oe=p[ie],ae=u[ie],p.hasOwnProperty(ie)&&oe!==ae&&(oe!=null||ae!=null))switch(ie){case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(r(137,c));break;default:pt(s,c,ie,oe,p,ae)}return;default:if(Mw(c)){for(var gt in u)oe=u[gt],u.hasOwnProperty(gt)&&oe!==void 0&&!p.hasOwnProperty(gt)&&w1(s,c,gt,void 0,p,oe);for(le in p)oe=p[le],ae=u[le],!p.hasOwnProperty(le)||oe===ae||oe===void 0&&ae===void 0||w1(s,c,le,oe,p,ae);return}}for(var ee in u)oe=u[ee],u.hasOwnProperty(ee)&&oe!=null&&!p.hasOwnProperty(ee)&&pt(s,c,ee,null,p,oe);for(pe in p)oe=p[pe],ae=u[pe],!p.hasOwnProperty(pe)||oe===ae||oe==null&&ae==null||pt(s,c,pe,oe,p,ae)}var v1=null,x1=null;function wy(s){return s.nodeType===9?s:s.ownerDocument}function WO(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function XO(s,c){if(s===0)switch(c){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&c==="foreignObject"?0:s}function E1(s,c){return s==="textarea"||s==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.children=="bigint"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var A1=null;function Lj(){var s=window.event;return s&&s.type==="popstate"?s===A1?!1:(A1=s,!0):(A1=null,!1)}var ZO=typeof setTimeout=="function"?setTimeout:void 0,$j=typeof clearTimeout=="function"?clearTimeout:void 0,JO=typeof Promise=="function"?Promise:void 0,jj=typeof queueMicrotask=="function"?queueMicrotask:typeof JO<"u"?function(s){return JO.resolve(null).then(s).catch(Fj)}:ZO;function Fj(s){setTimeout(function(){throw s})}function ma(s){return s==="head"}function eD(s,c){var u=c,p=0,m=0;do{var v=u.nextSibling;if(s.removeChild(u),v&&v.nodeType===8)if(u=v.data,u==="/$"){if(0<p&&8>p){u=p;var N=s.ownerDocument;if(u&1&&Xd(N.documentElement),u&2&&Xd(N.body),u&4)for(u=N.head,Xd(u),N=u.firstChild;N;){var L=N.nextSibling,Q=N.nodeName;N[hd]||Q==="SCRIPT"||Q==="STYLE"||Q==="LINK"&&N.rel.toLowerCase()==="stylesheet"||u.removeChild(N),N=L}}if(m===0){s.removeChild(v),sp(c);return}m--}else u==="$"||u==="$?"||u==="$!"?m++:p=u.charCodeAt(0)-48;else p=0;u=v}while(u);sp(c)}function S1(s){var c=s.firstChild;for(c&&c.nodeType===10&&(c=c.nextSibling);c;){var u=c;switch(c=c.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":S1(u),Pw(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}s.removeChild(u)}}function zj(s,c,u,p){for(;s.nodeType===1;){var m=u;if(s.nodeName.toLowerCase()!==c.toLowerCase()){if(!p&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(p){if(!s[hd])switch(c){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(v=s.getAttribute("rel"),v==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(v!==m.rel||s.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||s.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||s.getAttribute("title")!==(m.title==null?null:m.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(v=s.getAttribute("src"),(v!==(m.src==null?null:m.src)||s.getAttribute("type")!==(m.type==null?null:m.type)||s.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&v&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(c==="input"&&s.type==="hidden"){var v=m.name==null?null:""+m.name;if(m.type==="hidden"&&s.getAttribute("name")===v)return s}else return s;if(s=Ui(s.nextSibling),s===null)break}return null}function Vj(s,c,u){if(c==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!u||(s=Ui(s.nextSibling),s===null))return null;return s}function T1(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState==="complete"}function Hj(s,c){var u=s.ownerDocument;if(s.data!=="$?"||u.readyState==="complete")c();else{var p=function(){c(),u.removeEventListener("DOMContentLoaded",p)};u.addEventListener("DOMContentLoaded",p),s._reactRetry=p}}function Ui(s){for(;s!=null;s=s.nextSibling){var c=s.nodeType;if(c===1||c===3)break;if(c===8){if(c=s.data,c==="$"||c==="$!"||c==="$?"||c==="F!"||c==="F")break;if(c==="/$")return null}}return s}var C1=null;function tD(s){s=s.previousSibling;for(var c=0;s;){if(s.nodeType===8){var u=s.data;if(u==="$"||u==="$!"||u==="$?"){if(c===0)return s;c--}else u==="/$"&&c++}s=s.previousSibling}return null}function nD(s,c,u){switch(c=wy(u),s){case"html":if(s=c.documentElement,!s)throw Error(r(452));return s;case"head":if(s=c.head,!s)throw Error(r(453));return s;case"body":if(s=c.body,!s)throw Error(r(454));return s;default:throw Error(r(451))}}function Xd(s){for(var c=s.attributes;c.length;)s.removeAttributeNode(c[0]);Pw(s)}var ui=new Map,rD=new Set;function vy(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var uo=U.d;U.d={f:qj,r:Gj,D:Kj,C:Qj,L:Yj,m:Wj,X:Zj,S:Xj,M:Jj};function qj(){var s=uo.f(),c=fy();return s||c}function Gj(s){var c=du(s);c!==null&&c.tag===5&&c.type==="form"?A3(c):uo.r(s)}var Ku=typeof document>"u"?null:document;function iD(s,c,u){var p=Ku;if(p&&typeof c=="string"&&c){var m=ri(c);m='link[rel="'+s+'"][href="'+m+'"]',typeof u=="string"&&(m+='[crossorigin="'+u+'"]'),rD.has(m)||(rD.add(m),s={rel:s,crossOrigin:u,href:c},p.querySelector(m)===null&&(c=p.createElement("link"),xn(c,"link",s),ln(c),p.head.appendChild(c)))}}function Kj(s){uo.D(s),iD("dns-prefetch",s,null)}function Qj(s,c){uo.C(s,c),iD("preconnect",s,c)}function Yj(s,c,u){uo.L(s,c,u);var p=Ku;if(p&&s&&c){var m='link[rel="preload"][as="'+ri(c)+'"]';c==="image"&&u&&u.imageSrcSet?(m+='[imagesrcset="'+ri(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(m+='[imagesizes="'+ri(u.imageSizes)+'"]')):m+='[href="'+ri(s)+'"]';var v=m;switch(c){case"style":v=Qu(s);break;case"script":v=Yu(s)}ui.has(v)||(s=d({rel:"preload",href:c==="image"&&u&&u.imageSrcSet?void 0:s,as:c},u),ui.set(v,s),p.querySelector(m)!==null||c==="style"&&p.querySelector(Zd(v))||c==="script"&&p.querySelector(Jd(v))||(c=p.createElement("link"),xn(c,"link",s),ln(c),p.head.appendChild(c)))}}function Wj(s,c){uo.m(s,c);var u=Ku;if(u&&s){var p=c&&typeof c.as=="string"?c.as:"script",m='link[rel="modulepreload"][as="'+ri(p)+'"][href="'+ri(s)+'"]',v=m;switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=Yu(s)}if(!ui.has(v)&&(s=d({rel:"modulepreload",href:s},c),ui.set(v,s),u.querySelector(m)===null)){switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(Jd(v)))return}p=u.createElement("link"),xn(p,"link",s),ln(p),u.head.appendChild(p)}}}function Xj(s,c,u){uo.S(s,c,u);var p=Ku;if(p&&s){var m=pu(p).hoistableStyles,v=Qu(s);c=c||"default";var N=m.get(v);if(!N){var L={loading:0,preload:null};if(N=p.querySelector(Zd(v)))L.loading=5;else{s=d({rel:"stylesheet",href:s,"data-precedence":c},u),(u=ui.get(v))&&O1(s,u);var Q=N=p.createElement("link");ln(Q),xn(Q,"link",s),Q._p=new Promise(function(ie,le){Q.onload=ie,Q.onerror=le}),Q.addEventListener("load",function(){L.loading|=1}),Q.addEventListener("error",function(){L.loading|=2}),L.loading|=4,xy(N,c,p)}N={type:"stylesheet",instance:N,count:1,state:L},m.set(v,N)}}}function Zj(s,c){uo.X(s,c);var u=Ku;if(u&&s){var p=pu(u).hoistableScripts,m=Yu(s),v=p.get(m);v||(v=u.querySelector(Jd(m)),v||(s=d({src:s,async:!0},c),(c=ui.get(m))&&D1(s,c),v=u.createElement("script"),ln(v),xn(v,"link",s),u.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},p.set(m,v))}}function Jj(s,c){uo.M(s,c);var u=Ku;if(u&&s){var p=pu(u).hoistableScripts,m=Yu(s),v=p.get(m);v||(v=u.querySelector(Jd(m)),v||(s=d({src:s,async:!0,type:"module"},c),(c=ui.get(m))&&D1(s,c),v=u.createElement("script"),ln(v),xn(v,"link",s),u.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},p.set(m,v))}}function sD(s,c,u,p){var m=(m=ue.current)?vy(m):null;if(!m)throw Error(r(446));switch(s){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(c=Qu(u.href),u=pu(m).hoistableStyles,p=u.get(c),p||(p={type:"style",instance:null,count:0,state:null},u.set(c,p)),p):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){s=Qu(u.href);var v=pu(m).hoistableStyles,N=v.get(s);if(N||(m=m.ownerDocument||m,N={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(s,N),(v=m.querySelector(Zd(s)))&&!v._p&&(N.instance=v,N.state.loading=5),ui.has(s)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},ui.set(s,u),v||e9(m,s,u,N.state))),c&&p===null)throw Error(r(528,""));return N}if(c&&p!==null)throw Error(r(529,""));return null;case"script":return c=u.async,u=u.src,typeof u=="string"&&c&&typeof c!="function"&&typeof c!="symbol"?(c=Yu(u),u=pu(m).hoistableScripts,p=u.get(c),p||(p={type:"script",instance:null,count:0,state:null},u.set(c,p)),p):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,s))}}function Qu(s){return'href="'+ri(s)+'"'}function Zd(s){return'link[rel="stylesheet"]['+s+"]"}function oD(s){return d({},s,{"data-precedence":s.precedence,precedence:null})}function e9(s,c,u,p){s.querySelector('link[rel="preload"][as="style"]['+c+"]")?p.loading=1:(c=s.createElement("link"),p.preload=c,c.addEventListener("load",function(){return p.loading|=1}),c.addEventListener("error",function(){return p.loading|=2}),xn(c,"link",u),ln(c),s.head.appendChild(c))}function Yu(s){return'[src="'+ri(s)+'"]'}function Jd(s){return"script[async]"+s}function aD(s,c,u){if(c.count++,c.instance===null)switch(c.type){case"style":var p=s.querySelector('style[data-href~="'+ri(u.href)+'"]');if(p)return c.instance=p,ln(p),p;var m=d({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return p=(s.ownerDocument||s).createElement("style"),ln(p),xn(p,"style",m),xy(p,u.precedence,s),c.instance=p;case"stylesheet":m=Qu(u.href);var v=s.querySelector(Zd(m));if(v)return c.state.loading|=4,c.instance=v,ln(v),v;p=oD(u),(m=ui.get(m))&&O1(p,m),v=(s.ownerDocument||s).createElement("link"),ln(v);var N=v;return N._p=new Promise(function(L,Q){N.onload=L,N.onerror=Q}),xn(v,"link",p),c.state.loading|=4,xy(v,u.precedence,s),c.instance=v;case"script":return v=Yu(u.src),(m=s.querySelector(Jd(v)))?(c.instance=m,ln(m),m):(p=u,(m=ui.get(v))&&(p=d({},u),D1(p,m)),s=s.ownerDocument||s,m=s.createElement("script"),ln(m),xn(m,"link",p),s.head.appendChild(m),c.instance=m);case"void":return null;default:throw Error(r(443,c.type))}else c.type==="stylesheet"&&(c.state.loading&4)===0&&(p=c.instance,c.state.loading|=4,xy(p,u.precedence,s));return c.instance}function xy(s,c,u){for(var p=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=p.length?p[p.length-1]:null,v=m,N=0;N<p.length;N++){var L=p[N];if(L.dataset.precedence===c)v=L;else if(v!==m)break}v?v.parentNode.insertBefore(s,v.nextSibling):(c=u.nodeType===9?u.head:u,c.insertBefore(s,c.firstChild))}function O1(s,c){s.crossOrigin==null&&(s.crossOrigin=c.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=c.referrerPolicy),s.title==null&&(s.title=c.title)}function D1(s,c){s.crossOrigin==null&&(s.crossOrigin=c.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=c.referrerPolicy),s.integrity==null&&(s.integrity=c.integrity)}var Ey=null;function cD(s,c,u){if(Ey===null){var p=new Map,m=Ey=new Map;m.set(u,p)}else m=Ey,p=m.get(u),p||(p=new Map,m.set(u,p));if(p.has(s))return p;for(p.set(s,null),u=u.getElementsByTagName(s),m=0;m<u.length;m++){var v=u[m];if(!(v[hd]||v[Mn]||s==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var N=v.getAttribute(c)||"";N=s+N;var L=p.get(N);L?L.push(v):p.set(N,[v])}}return p}function lD(s,c,u){s=s.ownerDocument||s,s.head.insertBefore(u,c==="title"?s.querySelector("head > title"):null)}function t9(s,c,u){if(u===1||c.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof c.precedence!="string"||typeof c.href!="string"||c.href==="")break;return!0;case"link":if(typeof c.rel!="string"||typeof c.href!="string"||c.href===""||c.onLoad||c.onError)break;switch(c.rel){case"stylesheet":return s=c.disabled,typeof c.precedence=="string"&&s==null;default:return!0}case"script":if(c.async&&typeof c.async!="function"&&typeof c.async!="symbol"&&!c.onLoad&&!c.onError&&c.src&&typeof c.src=="string")return!0}return!1}function uD(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}var ep=null;function n9(){}function r9(s,c,u){if(ep===null)throw Error(r(475));var p=ep;if(c.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var m=Qu(u.href),v=s.querySelector(Zd(m));if(v){s=v._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(p.count++,p=Ay.bind(p),s.then(p,p)),c.state.loading|=4,c.instance=v,ln(v);return}v=s.ownerDocument||s,u=oD(u),(m=ui.get(m))&&O1(u,m),v=v.createElement("link"),ln(v);var N=v;N._p=new Promise(function(L,Q){N.onload=L,N.onerror=Q}),xn(v,"link",u),c.instance=v}p.stylesheets===null&&(p.stylesheets=new Map),p.stylesheets.set(c,s),(s=c.state.preload)&&(c.state.loading&3)===0&&(p.count++,c=Ay.bind(p),s.addEventListener("load",c),s.addEventListener("error",c))}}function i9(){if(ep===null)throw Error(r(475));var s=ep;return s.stylesheets&&s.count===0&&P1(s,s.stylesheets),0<s.count?function(c){var u=setTimeout(function(){if(s.stylesheets&&P1(s,s.stylesheets),s.unsuspend){var p=s.unsuspend;s.unsuspend=null,p()}},6e4);return s.unsuspend=c,function(){s.unsuspend=null,clearTimeout(u)}}:null}function Ay(){if(this.count--,this.count===0){if(this.stylesheets)P1(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Sy=null;function P1(s,c){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Sy=new Map,c.forEach(s9,s),Sy=null,Ay.call(s))}function s9(s,c){if(!(c.state.loading&4)){var u=Sy.get(s);if(u)var p=u.get(null);else{u=new Map,Sy.set(s,u);for(var m=s.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<m.length;v++){var N=m[v];(N.nodeName==="LINK"||N.getAttribute("media")!=="not all")&&(u.set(N.dataset.precedence,N),p=N)}p&&u.set(null,p)}m=c.instance,N=m.getAttribute("data-precedence"),v=u.get(N)||p,v===p&&u.set(null,m),u.set(N,m),this.count++,p=Ay.bind(this),m.addEventListener("load",p),m.addEventListener("error",p),v?v.parentNode.insertBefore(m,v.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(m,s.firstChild)),c.state.loading|=4}}var tp={$$typeof:S,Provider:null,Consumer:null,_currentValue:$,_currentValue2:$,_threadCount:0};function o9(s,c,u,p,m,v,N,L){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Tw(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Tw(0),this.hiddenUpdates=Tw(null),this.identifierPrefix=p,this.onUncaughtError=m,this.onCaughtError=v,this.onRecoverableError=N,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=L,this.incompleteTransitions=new Map}function fD(s,c,u,p,m,v,N,L,Q,ie,le,pe){return s=new o9(s,c,u,N,L,Q,ie,pe),c=1,v===!0&&(c|=24),v=Br(3,null,null,c),s.current=v,v.stateNode=s,c=uv(),c.refCount++,s.pooledCache=c,c.refCount++,v.memoizedState={element:p,isDehydrated:u,cache:c},pv(v),s}function hD(s){return s?(s=Cu,s):Cu}function dD(s,c,u,p,m,v){m=hD(m),p.context===null?p.context=m:p.pendingContext=m,p=ra(c),p.payload={element:u},v=v===void 0?null:v,v!==null&&(p.callback=v),u=ia(s,p,c),u!==null&&($r(u,s,c),Rd(u,s,c))}function pD(s,c){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var u=s.retryLane;s.retryLane=u!==0&&u<c?u:c}}function N1(s,c){pD(s,c),(s=s.alternate)&&pD(s,c)}function gD(s){if(s.tag===13){var c=Tu(s,67108864);c!==null&&$r(c,s,67108864),N1(s,67108864)}}var Ty=!0;function a9(s,c,u,p){var m=T.T;T.T=null;var v=U.p;try{U.p=2,R1(s,c,u,p)}finally{U.p=v,T.T=m}}function c9(s,c,u,p){var m=T.T;T.T=null;var v=U.p;try{U.p=8,R1(s,c,u,p)}finally{U.p=v,T.T=m}}function R1(s,c,u,p){if(Ty){var m=_1(p);if(m===null)b1(s,c,p,Cy,u),yD(s,p);else if(u9(m,s,c,u,p))p.stopPropagation();else if(yD(s,p),c&4&&-1<l9.indexOf(s)){for(;m!==null;){var v=du(m);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var N=Pc(v.pendingLanes);if(N!==0){var L=v;for(L.pendingLanes|=2,L.entangledLanes|=2;N;){var Q=1<<31-Wn(N);L.entanglements[1]|=Q,N&=~Q}fs(v),(lt&6)===0&&(ly=cn()+500,Qd(0))}}break;case 13:L=Tu(v,2),L!==null&&$r(L,v,2),fy(),N1(v,2)}if(v=_1(p),v===null&&b1(s,c,p,Cy,u),v===m)break;m=v}m!==null&&p.stopPropagation()}else b1(s,c,p,null,u)}}function _1(s){return s=Uw(s),I1(s)}var Cy=null;function I1(s){if(Cy=null,s=hu(s),s!==null){var c=o(s);if(c===null)s=null;else{var u=c.tag;if(u===13){if(s=a(c),s!==null)return s;s=null}else if(u===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;s=null}else c!==s&&(s=null)}}return Cy=s,null}function mD(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ad()){case ss:return 2;case cd:return 8;case Xo:case mm:return 32;case ld:return 268435456;default:return 32}default:return 32}}var B1=!1,ya=null,ba=null,wa=null,np=new Map,rp=new Map,va=[],l9="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function yD(s,c){switch(s){case"focusin":case"focusout":ya=null;break;case"dragenter":case"dragleave":ba=null;break;case"mouseover":case"mouseout":wa=null;break;case"pointerover":case"pointerout":np.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":rp.delete(c.pointerId)}}function ip(s,c,u,p,m,v){return s===null||s.nativeEvent!==v?(s={blockedOn:c,domEventName:u,eventSystemFlags:p,nativeEvent:v,targetContainers:[m]},c!==null&&(c=du(c),c!==null&&gD(c)),s):(s.eventSystemFlags|=p,c=s.targetContainers,m!==null&&c.indexOf(m)===-1&&c.push(m),s)}function u9(s,c,u,p,m){switch(c){case"focusin":return ya=ip(ya,s,c,u,p,m),!0;case"dragenter":return ba=ip(ba,s,c,u,p,m),!0;case"mouseover":return wa=ip(wa,s,c,u,p,m),!0;case"pointerover":var v=m.pointerId;return np.set(v,ip(np.get(v)||null,s,c,u,p,m)),!0;case"gotpointercapture":return v=m.pointerId,rp.set(v,ip(rp.get(v)||null,s,c,u,p,m)),!0}return!1}function bD(s){var c=hu(s.target);if(c!==null){var u=o(c);if(u!==null){if(c=u.tag,c===13){if(c=a(u),c!==null){s.blockedOn=c,r$(s.priority,function(){if(u.tag===13){var p=Lr();p=Cw(p);var m=Tu(u,p);m!==null&&$r(m,u,p),N1(u,p)}});return}}else if(c===3&&u.stateNode.current.memoizedState.isDehydrated){s.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Oy(s){if(s.blockedOn!==null)return!1;for(var c=s.targetContainers;0<c.length;){var u=_1(s.nativeEvent);if(u===null){u=s.nativeEvent;var p=new u.constructor(u.type,u);kw=p,u.target.dispatchEvent(p),kw=null}else return c=du(u),c!==null&&gD(c),s.blockedOn=u,!1;c.shift()}return!0}function wD(s,c,u){Oy(s)&&u.delete(c)}function f9(){B1=!1,ya!==null&&Oy(ya)&&(ya=null),ba!==null&&Oy(ba)&&(ba=null),wa!==null&&Oy(wa)&&(wa=null),np.forEach(wD),rp.forEach(wD)}function Dy(s,c){s.blockedOn===c&&(s.blockedOn=null,B1||(B1=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,f9)))}var Py=null;function vD(s){Py!==s&&(Py=s,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Py===s&&(Py=null);for(var c=0;c<s.length;c+=3){var u=s[c],p=s[c+1],m=s[c+2];if(typeof p!="function"){if(I1(p||u)===null)continue;break}var v=du(u);v!==null&&(s.splice(c,3),c-=3,Iv(v,{pending:!0,data:m,method:u.method,action:p},p,m))}}))}function sp(s){function c(Q){return Dy(Q,s)}ya!==null&&Dy(ya,s),ba!==null&&Dy(ba,s),wa!==null&&Dy(wa,s),np.forEach(c),rp.forEach(c);for(var u=0;u<va.length;u++){var p=va[u];p.blockedOn===s&&(p.blockedOn=null)}for(;0<va.length&&(u=va[0],u.blockedOn===null);)bD(u),u.blockedOn===null&&va.shift();if(u=(s.ownerDocument||s).$$reactFormReplay,u!=null)for(p=0;p<u.length;p+=3){var m=u[p],v=u[p+1],N=m[lr]||null;if(typeof v=="function")N||vD(u);else if(N){var L=null;if(v&&v.hasAttribute("formAction")){if(m=v,N=v[lr]||null)L=N.formAction;else if(I1(m)!==null)continue}else L=N.action;typeof L=="function"?u[p+1]=L:(u.splice(p,3),p-=3),vD(u)}}}function M1(s){this._internalRoot=s}Ny.prototype.render=M1.prototype.render=function(s){var c=this._internalRoot;if(c===null)throw Error(r(409));var u=c.current,p=Lr();dD(u,p,s,c,null,null)},Ny.prototype.unmount=M1.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var c=s.containerInfo;dD(s.current,2,null,s,null,null),fy(),c[fu]=null}};function Ny(s){this._internalRoot=s}Ny.prototype.unstable_scheduleHydration=function(s){if(s){var c=UT();s={blockedOn:null,target:s,priority:c};for(var u=0;u<va.length&&c!==0&&c<va[u].priority;u++);va.splice(u,0,s),u===0&&bD(s)}};var xD=e.version;if(xD!=="19.1.1")throw Error(r(527,xD,"19.1.1"));U.findDOMNode=function(s){var c=s._reactInternals;if(c===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=f(c),s=s!==null?h(s):null,s=s===null?null:s.stateNode,s};var h9={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:T,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ry=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ry.isDisabled&&Ry.supportsFiber)try{Zo=Ry.inject(h9),Yn=Ry}catch{}}return cp.createRoot=function(s,c){if(!i(s))throw Error(r(299));var u=!1,p="",m=U3,v=L3,N=$3,L=null;return c!=null&&(c.unstable_strictMode===!0&&(u=!0),c.identifierPrefix!==void 0&&(p=c.identifierPrefix),c.onUncaughtError!==void 0&&(m=c.onUncaughtError),c.onCaughtError!==void 0&&(v=c.onCaughtError),c.onRecoverableError!==void 0&&(N=c.onRecoverableError),c.unstable_transitionCallbacks!==void 0&&(L=c.unstable_transitionCallbacks)),c=fD(s,1,!1,null,null,u,p,m,v,N,L,null),s[fu]=c.current,y1(s),new M1(c)},cp.hydrateRoot=function(s,c,u){if(!i(s))throw Error(r(299));var p=!1,m="",v=U3,N=L3,L=$3,Q=null,ie=null;return u!=null&&(u.unstable_strictMode===!0&&(p=!0),u.identifierPrefix!==void 0&&(m=u.identifierPrefix),u.onUncaughtError!==void 0&&(v=u.onUncaughtError),u.onCaughtError!==void 0&&(N=u.onCaughtError),u.onRecoverableError!==void 0&&(L=u.onRecoverableError),u.unstable_transitionCallbacks!==void 0&&(Q=u.unstable_transitionCallbacks),u.formState!==void 0&&(ie=u.formState)),c=fD(s,1,!0,c,u??null,p,m,v,N,L,Q,ie),c.context=hD(null),u=c.current,p=Lr(),p=Cw(p),m=ra(p),m.callback=null,ia(u,m,p),u=p,c.current.lanes=u,fd(c,u),fs(c),s[fu]=c.current,y1(s),new Ny(c)},cp.version="19.1.1",cp}var _D;function S9(){if(_D)return $1.exports;_D=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),$1.exports=A9(),$1.exports}var T9=S9();const k2=F.createContext({});function U2(t){const e=F.useRef(null);return e.current===null&&(e.current=t()),e.current}const L2=typeof window<"u",n4=L2?F.useLayoutEffect:F.useEffect,Bb=F.createContext(null);function $2(t,e){t.indexOf(e)===-1&&t.push(e)}function j2(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Fo=(t,e,n)=>n>e?e:n<t?t:n;let F2=()=>{};const zo={},r4=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function i4(t){return typeof t=="object"&&t!==null}const s4=t=>/^0[^.\s]+$/u.test(t);function z2(t){let e;return()=>(e===void 0&&(e=t()),e)}const Pi=t=>t,C9=(t,e)=>n=>e(t(n)),Qg=(...t)=>t.reduce(C9),sg=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class V2{constructor(){this.subscriptions=[]}add(e){return $2(this.subscriptions,e),()=>j2(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let o=0;o<i;o++){const a=this.subscriptions[o];a&&a(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const js=t=>t*1e3,Fs=t=>t/1e3;function o4(t,e){return e?t*(1e3/e):0}const a4=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,O9=1e-7,D9=12;function P9(t,e,n,r,i){let o,a,l=0;do a=e+(n-e)/2,o=a4(a,r,i)-t,o>0?n=a:e=a;while(Math.abs(o)>O9&&++l<D9);return a}function Yg(t,e,n,r){if(t===e&&n===r)return Pi;const i=o=>P9(o,0,1,t,n);return o=>o===0||o===1?o:a4(i(o),e,r)}const c4=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,l4=t=>e=>1-t(1-e),u4=Yg(.33,1.53,.69,.99),H2=l4(u4),f4=c4(H2),h4=t=>(t*=2)<1?.5*H2(t):.5*(2-Math.pow(2,-10*(t-1))),q2=t=>1-Math.sin(Math.acos(t)),d4=l4(q2),p4=c4(q2),N9=Yg(.42,0,1,1),R9=Yg(0,0,.58,1),g4=Yg(.42,0,.58,1),_9=t=>Array.isArray(t)&&typeof t[0]!="number",m4=t=>Array.isArray(t)&&typeof t[0]=="number",I9={linear:Pi,easeIn:N9,easeInOut:g4,easeOut:R9,circIn:q2,circInOut:p4,circOut:d4,backIn:H2,backInOut:f4,backOut:u4,anticipate:h4},B9=t=>typeof t=="string",ID=t=>{if(m4(t)){F2(t.length===4);const[e,n,r,i]=t;return Yg(e,n,r,i)}else if(B9(t))return I9[t];return t},_y=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function M9(t,e){let n=new Set,r=new Set,i=!1,o=!1;const a=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function f(d){a.has(d)&&(h.schedule(d),t()),d(l)}const h={schedule:(d,g=!1,y=!1)=>{const x=y&&i?n:r;return g&&a.add(d),x.has(d)||x.add(d),d},cancel:d=>{r.delete(d),a.delete(d)},process:d=>{if(l=d,i){o=!0;return}i=!0,[n,r]=[r,n],n.forEach(f),n.clear(),i=!1,o&&(o=!1,h.process(d))}};return h}const k9=40;function y4(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,a=_y.reduce((S,R)=>(S[R]=M9(o),S),{}),{setup:l,read:f,resolveKeyframes:h,preUpdate:d,update:g,preRender:y,render:b,postRender:x}=a,w=()=>{const S=zo.useManualTiming?i.timestamp:performance.now();n=!1,zo.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(S-i.timestamp,k9),1)),i.timestamp=S,i.isProcessing=!0,l.process(i),f.process(i),h.process(i),d.process(i),g.process(i),y.process(i),b.process(i),x.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(w))},E=()=>{n=!0,r=!0,i.isProcessing||t(w)};return{schedule:_y.reduce((S,R)=>{const O=a[R];return S[R]=(P,M=!1,I=!1)=>(n||E(),O.schedule(P,M,I)),S},{}),cancel:S=>{for(let R=0;R<_y.length;R++)a[_y[R]].cancel(S)},state:i,steps:a}}const{schedule:Ot,cancel:gc,state:On,steps:V1}=y4(typeof requestAnimationFrame<"u"?requestAnimationFrame:Pi,!0);let w0;function U9(){w0=void 0}const Cr={now:()=>(w0===void 0&&Cr.set(On.isProcessing||zo.useManualTiming?On.timestamp:performance.now()),w0),set:t=>{w0=t,queueMicrotask(U9)}},b4=t=>e=>typeof e=="string"&&e.startsWith(t),G2=b4("--"),L9=b4("var(--"),K2=t=>L9(t)?$9.test(t.split("/*")[0].trim()):!1,$9=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Hh={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},og={...Hh,transform:t=>Fo(0,1,t)},Iy={...Hh,default:1},Fp=t=>Math.round(t*1e5)/1e5,Q2=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function j9(t){return t==null}const F9=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Y2=(t,e)=>n=>!!(typeof n=="string"&&F9.test(n)&&n.startsWith(t)||e&&!j9(n)&&Object.prototype.hasOwnProperty.call(n,e)),w4=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,o,a,l]=r.match(Q2);return{[t]:parseFloat(i),[e]:parseFloat(o),[n]:parseFloat(a),alpha:l!==void 0?parseFloat(l):1}},z9=t=>Fo(0,255,t),H1={...Hh,transform:t=>Math.round(z9(t))},fl={test:Y2("rgb","red"),parse:w4("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+H1.transform(t)+", "+H1.transform(e)+", "+H1.transform(n)+", "+Fp(og.transform(r))+")"};function V9(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const CE={test:Y2("#"),parse:V9,transform:fl.transform},Wg=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Ua=Wg("deg"),zs=Wg("%"),Ue=Wg("px"),H9=Wg("vh"),q9=Wg("vw"),BD={...zs,parse:t=>zs.parse(t)/100,transform:t=>zs.transform(t*100)},Cf={test:Y2("hsl","hue"),parse:w4("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+zs.transform(Fp(e))+", "+zs.transform(Fp(n))+", "+Fp(og.transform(r))+")"},Yt={test:t=>fl.test(t)||CE.test(t)||Cf.test(t),parse:t=>fl.test(t)?fl.parse(t):Cf.test(t)?Cf.parse(t):CE.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?fl.transform(t):Cf.transform(t),getAnimatableNone:t=>{const e=Yt.parse(t);return e.alpha=0,Yt.transform(e)}},G9=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function K9(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(Q2))==null?void 0:e.length)||0)+(((n=t.match(G9))==null?void 0:n.length)||0)>0}const v4="number",x4="color",Q9="var",Y9="var(",MD="${}",W9=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ag(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let o=0;const l=e.replace(W9,f=>(Yt.test(f)?(r.color.push(o),i.push(x4),n.push(Yt.parse(f))):f.startsWith(Y9)?(r.var.push(o),i.push(Q9),n.push(f)):(r.number.push(o),i.push(v4),n.push(parseFloat(f))),++o,MD)).split(MD);return{values:n,split:l,indexes:r,types:i}}function E4(t){return ag(t).values}function A4(t){const{split:e,types:n}=ag(t),r=e.length;return i=>{let o="";for(let a=0;a<r;a++)if(o+=e[a],i[a]!==void 0){const l=n[a];l===v4?o+=Fp(i[a]):l===x4?o+=Yt.transform(i[a]):o+=i[a]}return o}}const X9=t=>typeof t=="number"?0:Yt.test(t)?Yt.getAnimatableNone(t):t;function Z9(t){const e=E4(t);return A4(t)(e.map(X9))}const mc={test:K9,parse:E4,createTransformer:A4,getAnimatableNone:Z9};function q1(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function J9({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,o=0,a=0;if(!e)i=o=a=n;else{const l=n<.5?n*(1+e):n+e-n*e,f=2*n-l;i=q1(f,l,t+1/3),o=q1(f,l,t),a=q1(f,l,t-1/3)}return{red:Math.round(i*255),green:Math.round(o*255),blue:Math.round(a*255),alpha:r}}function V0(t,e){return n=>n>0?e:t}const Nt=(t,e,n)=>t+(e-t)*n,G1=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},e7=[CE,fl,Cf],t7=t=>e7.find(e=>e.test(t));function kD(t){const e=t7(t);if(!e)return!1;let n=e.parse(t);return e===Cf&&(n=J9(n)),n}const UD=(t,e)=>{const n=kD(t),r=kD(e);if(!n||!r)return V0(t,e);const i={...n};return o=>(i.red=G1(n.red,r.red,o),i.green=G1(n.green,r.green,o),i.blue=G1(n.blue,r.blue,o),i.alpha=Nt(n.alpha,r.alpha,o),fl.transform(i))},OE=new Set(["none","hidden"]);function n7(t,e){return OE.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function r7(t,e){return n=>Nt(t,e,n)}function W2(t){return typeof t=="number"?r7:typeof t=="string"?K2(t)?V0:Yt.test(t)?UD:o7:Array.isArray(t)?S4:typeof t=="object"?Yt.test(t)?UD:i7:V0}function S4(t,e){const n=[...t],r=n.length,i=t.map((o,a)=>W2(o)(o,e[a]));return o=>{for(let a=0;a<r;a++)n[a]=i[a](o);return n}}function i7(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=W2(t[i])(t[i],e[i]));return i=>{for(const o in r)n[o]=r[o](i);return n}}function s7(t,e){const n=[],r={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const o=e.types[i],a=t.indexes[o][r[o]],l=t.values[a]??0;n[i]=l,r[o]++}return n}const o7=(t,e)=>{const n=mc.createTransformer(e),r=ag(t),i=ag(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?OE.has(t)&&!i.values.length||OE.has(e)&&!r.values.length?n7(t,e):Qg(S4(s7(r,i),i.values),n):V0(t,e)};function T4(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Nt(t,e,n):W2(t)(t,e)}const a7=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Ot.update(e,n),stop:()=>gc(e),now:()=>On.isProcessing?On.timestamp:Cr.now()}},C4=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let o=0;o<i;o++)r+=Math.round(t(o/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},H0=2e4;function X2(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<H0;)e+=n,r=t.next(e);return e>=H0?1/0:e}function c7(t,e=100,n){const r=n({...t,keyframes:[0,e]}),i=Math.min(X2(r),H0);return{type:"keyframes",ease:o=>r.next(i*o).value/e,duration:Fs(i)}}const l7=5;function O4(t,e,n){const r=Math.max(e-l7,0);return o4(n-t(r),e-r)}const Bt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},K1=.001;function u7({duration:t=Bt.duration,bounce:e=Bt.bounce,velocity:n=Bt.velocity,mass:r=Bt.mass}){let i,o,a=1-e;a=Fo(Bt.minDamping,Bt.maxDamping,a),t=Fo(Bt.minDuration,Bt.maxDuration,Fs(t)),a<1?(i=h=>{const d=h*a,g=d*t,y=d-n,b=DE(h,a),x=Math.exp(-g);return K1-y/b*x},o=h=>{const g=h*a*t,y=g*n+n,b=Math.pow(a,2)*Math.pow(h,2)*t,x=Math.exp(-g),w=DE(Math.pow(h,2),a);return(-i(h)+K1>0?-1:1)*((y-b)*x)/w}):(i=h=>{const d=Math.exp(-h*t),g=(h-n)*t+1;return-K1+d*g},o=h=>{const d=Math.exp(-h*t),g=(n-h)*(t*t);return d*g});const l=5/t,f=h7(i,o,l);if(t=js(t),isNaN(f))return{stiffness:Bt.stiffness,damping:Bt.damping,duration:t};{const h=Math.pow(f,2)*r;return{stiffness:h,damping:a*2*Math.sqrt(r*h),duration:t}}}const f7=12;function h7(t,e,n){let r=n;for(let i=1;i<f7;i++)r=r-t(r)/e(r);return r}function DE(t,e){return t*Math.sqrt(1-e*e)}const d7=["duration","bounce"],p7=["stiffness","damping","mass"];function LD(t,e){return e.some(n=>t[n]!==void 0)}function g7(t){let e={velocity:Bt.velocity,stiffness:Bt.stiffness,damping:Bt.damping,mass:Bt.mass,isResolvedFromDuration:!1,...t};if(!LD(t,p7)&&LD(t,d7))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,o=2*Fo(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:Bt.mass,stiffness:i,damping:o}}else{const n=u7(t);e={...e,...n,mass:Bt.mass},e.isResolvedFromDuration=!0}return e}function q0(t=Bt.visualDuration,e=Bt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const o=n.keyframes[0],a=n.keyframes[n.keyframes.length-1],l={done:!1,value:o},{stiffness:f,damping:h,mass:d,duration:g,velocity:y,isResolvedFromDuration:b}=g7({...n,velocity:-Fs(n.velocity||0)}),x=y||0,w=h/(2*Math.sqrt(f*d)),E=a-o,A=Fs(Math.sqrt(f/d)),C=Math.abs(E)<5;r||(r=C?Bt.restSpeed.granular:Bt.restSpeed.default),i||(i=C?Bt.restDelta.granular:Bt.restDelta.default);let S;if(w<1){const O=DE(A,w);S=P=>{const M=Math.exp(-w*A*P);return a-M*((x+w*A*E)/O*Math.sin(O*P)+E*Math.cos(O*P))}}else if(w===1)S=O=>a-Math.exp(-A*O)*(E+(x+A*E)*O);else{const O=A*Math.sqrt(w*w-1);S=P=>{const M=Math.exp(-w*A*P),I=Math.min(O*P,300);return a-M*((x+w*A*E)*Math.sinh(I)+O*E*Math.cosh(I))/O}}const R={calculatedDuration:b&&g||null,next:O=>{const P=S(O);if(b)l.done=O>=g;else{let M=O===0?x:0;w<1&&(M=O===0?js(x):O4(S,O,P));const I=Math.abs(M)<=r,k=Math.abs(a-P)<=i;l.done=I&&k}return l.value=l.done?a:P,l},toString:()=>{const O=Math.min(X2(R),H0),P=C4(M=>R.next(O*M).value,O,30);return O+"ms "+P},toTransition:()=>{}};return R}q0.applyToOptions=t=>{const e=c7(t,100,q0);return t.ease=e.ease,t.duration=js(e.duration),t.type="keyframes",t};function PE({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:o=500,modifyTarget:a,min:l,max:f,restDelta:h=.5,restSpeed:d}){const g=t[0],y={done:!1,value:g},b=I=>l!==void 0&&I<l||f!==void 0&&I>f,x=I=>l===void 0?f:f===void 0||Math.abs(l-I)<Math.abs(f-I)?l:f;let w=n*e;const E=g+w,A=a===void 0?E:a(E);A!==E&&(w=A-g);const C=I=>-w*Math.exp(-I/r),S=I=>A+C(I),R=I=>{const k=C(I),z=S(I);y.done=Math.abs(k)<=h,y.value=y.done?A:z};let O,P;const M=I=>{b(y.value)&&(O=I,P=q0({keyframes:[y.value,x(y.value)],velocity:O4(S,I,y.value),damping:i,stiffness:o,restDelta:h,restSpeed:d}))};return M(0),{calculatedDuration:null,next:I=>{let k=!1;return!P&&O===void 0&&(k=!0,R(I),M(I)),O!==void 0&&I>=O?P.next(I-O):(!k&&R(I),y)}}}function m7(t,e,n){const r=[],i=n||zo.mix||T4,o=t.length-1;for(let a=0;a<o;a++){let l=i(t[a],t[a+1]);if(e){const f=Array.isArray(e)?e[a]||Pi:e;l=Qg(f,l)}r.push(l)}return r}function y7(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const o=t.length;if(F2(o===e.length),o===1)return()=>e[0];if(o===2&&e[0]===e[1])return()=>e[1];const a=t[0]===t[1];t[0]>t[o-1]&&(t=[...t].reverse(),e=[...e].reverse());const l=m7(e,r,i),f=l.length,h=d=>{if(a&&d<t[0])return e[0];let g=0;if(f>1)for(;g<t.length-2&&!(d<t[g+1]);g++);const y=sg(t[g],t[g+1],d);return l[g](y)};return n?d=>h(Fo(t[0],t[o-1],d)):h}function b7(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=sg(0,e,r);t.push(Nt(n,1,i))}}function w7(t){const e=[0];return b7(e,t.length-1),e}function v7(t,e){return t.map(n=>n*e)}function x7(t,e){return t.map(()=>e||g4).splice(0,t.length-1)}function zp({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=_9(r)?r.map(ID):ID(r),o={done:!1,value:e[0]},a=v7(n&&n.length===e.length?n:w7(e),t),l=y7(a,e,{ease:Array.isArray(i)?i:x7(e,i)});return{calculatedDuration:t,next:f=>(o.value=l(f),o.done=f>=t,o)}}const E7=t=>t!==null;function Z2(t,{repeat:e,repeatType:n="loop"},r,i=1){const o=t.filter(E7),l=i<0||e&&n!=="loop"&&e%2===1?0:o.length-1;return!l||r===void 0?o[l]:r}const A7={decay:PE,inertia:PE,tween:zp,keyframes:zp,spring:q0};function D4(t){typeof t.type=="string"&&(t.type=A7[t.type])}class J2{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const S7=t=>t/100;class eS extends J2{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,i;const{motionValue:n}=this.options;n&&n.updatedAt!==Cr.now()&&this.tick(Cr.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(r=this.options).onStop)==null||i.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;D4(e);const{type:n=zp,repeat:r=0,repeatDelay:i=0,repeatType:o,velocity:a=0}=e;let{keyframes:l}=e;const f=n||zp;f!==zp&&typeof l[0]!="number"&&(this.mixKeyframes=Qg(S7,T4(l[0],l[1])),l=[0,100]);const h=f({...e,keyframes:l});o==="mirror"&&(this.mirroredGenerator=f({...e,keyframes:[...l].reverse(),velocity:-a})),h.calculatedDuration===null&&(h.calculatedDuration=X2(h));const{calculatedDuration:d}=h;this.calculatedDuration=d,this.resolvedDuration=d+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=h}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:i,mixKeyframes:o,mirroredGenerator:a,resolvedDuration:l,calculatedDuration:f}=this;if(this.startTime===null)return r.next(0);const{delay:h=0,keyframes:d,repeat:g,repeatType:y,repeatDelay:b,type:x,onUpdate:w,finalKeyframe:E}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const A=this.currentTime-h*(this.playbackSpeed>=0?1:-1),C=this.playbackSpeed>=0?A<0:A>i;this.currentTime=Math.max(A,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let S=this.currentTime,R=r;if(g){const I=Math.min(this.currentTime,i)/l;let k=Math.floor(I),z=I%1;!z&&I>=1&&(z=1),z===1&&k--,k=Math.min(k,g+1),!!(k%2)&&(y==="reverse"?(z=1-z,b&&(z-=b/l)):y==="mirror"&&(R=a)),S=Fo(0,1,z)*l}const O=C?{done:!1,value:d[0]}:R.next(S);o&&(O.value=o(O.value));let{done:P}=O;!C&&f!==null&&(P=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const M=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&P);return M&&x!==PE&&(O.value=Z2(d,this.options,E,this.speed)),w&&w(O.value),M&&this.finish(),O}then(e,n){return this.finished.then(e,n)}get duration(){return Fs(this.calculatedDuration)}get time(){return Fs(this.currentTime)}set time(e){var n;e=js(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Cr.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Fs(this.currentTime))}play(){var i,o;if(this.isStopped)return;const{driver:e=a7,startTime:n}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),(o=(i=this.options).onPlay)==null||o.call(i);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Cr.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function T7(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const hl=t=>t*180/Math.PI,NE=t=>{const e=hl(Math.atan2(t[1],t[0]));return RE(e)},C7={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:NE,rotateZ:NE,skewX:t=>hl(Math.atan(t[1])),skewY:t=>hl(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},RE=t=>(t=t%360,t<0&&(t+=360),t),$D=NE,jD=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),FD=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),O7={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:jD,scaleY:FD,scale:t=>(jD(t)+FD(t))/2,rotateX:t=>RE(hl(Math.atan2(t[6],t[5]))),rotateY:t=>RE(hl(Math.atan2(-t[2],t[0]))),rotateZ:$D,rotate:$D,skewX:t=>hl(Math.atan(t[4])),skewY:t=>hl(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function _E(t){return t.includes("scale")?1:0}function IE(t,e){if(!t||t==="none")return _E(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=O7,i=n;else{const l=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=C7,i=l}if(!i)return _E(e);const o=r[e],a=i[1].split(",").map(P7);return typeof o=="function"?o(a):a[o]}const D7=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return IE(n,e)};function P7(t){return parseFloat(t.trim())}const qh=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Gh=new Set(qh),zD=t=>t===Hh||t===Ue,N7=new Set(["x","y","z"]),R7=qh.filter(t=>!N7.has(t));function _7(t){const e=[];return R7.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const jl={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>IE(e,"x"),y:(t,{transform:e})=>IE(e,"y")};jl.translateX=jl.x;jl.translateY=jl.y;const Fl=new Set;let BE=!1,ME=!1,kE=!1;function P4(){if(ME){const t=Array.from(Fl).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=_7(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([o,a])=>{var l;(l=r.getValue(o))==null||l.set(a)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}ME=!1,BE=!1,Fl.forEach(t=>t.complete(kE)),Fl.clear()}function N4(){Fl.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(ME=!0)})}function I7(){kE=!0,N4(),P4(),kE=!1}class tS{constructor(e,n,r,i,o,a=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=o,this.isAsync=a}scheduleResolve(){this.state="scheduled",this.isAsync?(Fl.add(this),BE||(BE=!0,Ot.read(N4),Ot.resolveKeyframes(P4))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;if(e[0]===null){const o=i==null?void 0:i.get(),a=e[e.length-1];if(o!==void 0)e[0]=o;else if(r&&n){const l=r.readValue(n,a);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=a),i&&o===void 0&&i.set(e[0])}T7(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Fl.delete(this)}cancel(){this.state==="scheduled"&&(Fl.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const B7=t=>t.startsWith("--");function M7(t,e,n){B7(e)?t.style.setProperty(e,n):t.style[e]=n}const k7=z2(()=>window.ScrollTimeline!==void 0),U7={};function L7(t,e){const n=z2(t);return()=>U7[e]??n()}const R4=L7(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Np=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,VD={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Np([0,.65,.55,1]),circOut:Np([.55,0,1,.45]),backIn:Np([.31,.01,.66,-.59]),backOut:Np([.33,1.53,.69,.99])};function _4(t,e){if(t)return typeof t=="function"?R4()?C4(t,e):"ease-out":m4(t)?Np(t):Array.isArray(t)?t.map(n=>_4(n,e)||VD.easeOut):VD[t]}function $7(t,e,n,{delay:r=0,duration:i=300,repeat:o=0,repeatType:a="loop",ease:l="easeOut",times:f}={},h=void 0){const d={[e]:n};f&&(d.offset=f);const g=_4(l,i);Array.isArray(g)&&(d.easing=g);const y={delay:r,duration:i,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:o+1,direction:a==="reverse"?"alternate":"normal"};return h&&(y.pseudoElement=h),t.animate(d,y)}function I4(t){return typeof t=="function"&&"applyToOptions"in t}function j7({type:t,...e}){return I4(t)&&R4()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class F7 extends J2{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:i,pseudoElement:o,allowFlatten:a=!1,finalKeyframe:l,onComplete:f}=e;this.isPseudoElement=!!o,this.allowFlatten=a,this.options=e,F2(typeof e.type!="string");const h=j7(e);this.animation=$7(n,r,i,h,o),h.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!o){const d=Z2(i,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(d):M7(n,r,d),this.animation.cancel()}f==null||f(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,r;const e=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return Fs(Number(e))}get time(){return Fs(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=js(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&k7()?(this.animation.timeline=e,Pi):n(this)}}const B4={anticipate:h4,backInOut:f4,circInOut:p4};function z7(t){return t in B4}function V7(t){typeof t.ease=="string"&&z7(t.ease)&&(t.ease=B4[t.ease])}const HD=10;class H7 extends F7{constructor(e){V7(e),D4(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:i,element:o,...a}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const l=new eS({...a,autoplay:!1}),f=js(this.finishedTime??this.time);n.setWithVelocity(l.sample(f-HD).value,l.sample(f).value,HD),l.stop()}}const qD=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(mc.test(t)||t==="0")&&!t.startsWith("url("));function q7(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function G7(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const o=t[t.length-1],a=qD(i,e),l=qD(o,e);return!a||!l?!1:q7(t)||(n==="spring"||I4(n))&&r}function UE(t){t.duration=0,t.type}const K7=new Set(["opacity","clipPath","filter","transform"]),Q7=z2(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Y7(t){var d;const{motionValue:e,name:n,repeatDelay:r,repeatType:i,damping:o,type:a}=t;if(!(((d=e==null?void 0:e.owner)==null?void 0:d.current)instanceof HTMLElement))return!1;const{onUpdate:f,transformTemplate:h}=e.owner.getProps();return Q7()&&n&&K7.has(n)&&(n!=="transform"||!h)&&!f&&!r&&i!=="mirror"&&o!==0&&a!=="inertia"}const W7=40;class X7 extends J2{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:a="loop",keyframes:l,name:f,motionValue:h,element:d,...g}){var x;super(),this.stop=()=>{var w,E;this._animation&&(this._animation.stop(),(w=this.stopTimeline)==null||w.call(this)),(E=this.keyframeResolver)==null||E.cancel()},this.createdAt=Cr.now();const y={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:o,repeatType:a,name:f,motionValue:h,element:d,...g},b=(d==null?void 0:d.KeyframeResolver)||tS;this.keyframeResolver=new b(l,(w,E,A)=>this.onKeyframesResolved(w,E,y,!A),f,h,d),(x=this.keyframeResolver)==null||x.scheduleResolve()}onKeyframesResolved(e,n,r,i){this.keyframeResolver=void 0;const{name:o,type:a,velocity:l,delay:f,isHandoff:h,onUpdate:d}=r;this.resolvedAt=Cr.now(),G7(e,o,a,l)||((zo.instantAnimations||!f)&&(d==null||d(Z2(e,r,n))),e[0]=e[e.length-1],UE(r),r.repeat=0);const y={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>W7?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},b=!h&&Y7(y)?new H7({...y,element:y.motionValue.owner.current}):new eS(y);b.finished.then(()=>this.notifyFinished()).catch(Pi),this.pendingTimeline&&(this.stopTimeline=b.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=b}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),I7()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const Z7=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function J7(t){const e=Z7.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function M4(t,e,n=1){const[r,i]=J7(t);if(!r)return;const o=window.getComputedStyle(e).getPropertyValue(r);if(o){const a=o.trim();return r4(a)?parseFloat(a):a}return K2(i)?M4(i,e,n+1):i}function nS(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const k4=new Set(["width","height","top","left","right","bottom",...qh]),eF={test:t=>t==="auto",parse:t=>t},U4=t=>e=>e.test(t),L4=[Hh,Ue,zs,Ua,q9,H9,eF],GD=t=>L4.find(U4(t));function tF(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||s4(t):!0}const nF=new Set(["brightness","contrast","saturate","opacity"]);function rF(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(Q2)||[];if(!r)return t;const i=n.replace(r,"");let o=nF.has(e)?1:0;return r!==n&&(o*=100),e+"("+o+i+")"}const iF=/\b([a-z-]*)\(.*?\)/gu,LE={...mc,getAnimatableNone:t=>{const e=t.match(iF);return e?e.map(rF).join(" "):t}},KD={...Hh,transform:Math.round},sF={rotate:Ua,rotateX:Ua,rotateY:Ua,rotateZ:Ua,scale:Iy,scaleX:Iy,scaleY:Iy,scaleZ:Iy,skew:Ua,skewX:Ua,skewY:Ua,distance:Ue,translateX:Ue,translateY:Ue,translateZ:Ue,x:Ue,y:Ue,z:Ue,perspective:Ue,transformPerspective:Ue,opacity:og,originX:BD,originY:BD,originZ:Ue},rS={borderWidth:Ue,borderTopWidth:Ue,borderRightWidth:Ue,borderBottomWidth:Ue,borderLeftWidth:Ue,borderRadius:Ue,radius:Ue,borderTopLeftRadius:Ue,borderTopRightRadius:Ue,borderBottomRightRadius:Ue,borderBottomLeftRadius:Ue,width:Ue,maxWidth:Ue,height:Ue,maxHeight:Ue,top:Ue,right:Ue,bottom:Ue,left:Ue,padding:Ue,paddingTop:Ue,paddingRight:Ue,paddingBottom:Ue,paddingLeft:Ue,margin:Ue,marginTop:Ue,marginRight:Ue,marginBottom:Ue,marginLeft:Ue,backgroundPositionX:Ue,backgroundPositionY:Ue,...sF,zIndex:KD,fillOpacity:og,strokeOpacity:og,numOctaves:KD},oF={...rS,color:Yt,backgroundColor:Yt,outlineColor:Yt,fill:Yt,stroke:Yt,borderColor:Yt,borderTopColor:Yt,borderRightColor:Yt,borderBottomColor:Yt,borderLeftColor:Yt,filter:LE,WebkitFilter:LE},$4=t=>oF[t];function j4(t,e){let n=$4(t);return n!==LE&&(n=mc),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const aF=new Set(["auto","none","0"]);function cF(t,e,n){let r=0,i;for(;r<t.length&&!i;){const o=t[r];typeof o=="string"&&!aF.has(o)&&ag(o).values.length&&(i=t[r]),r++}if(i&&n)for(const o of e)t[o]=j4(n,i)}class lF extends tS{constructor(e,n,r,i,o){super(e,n,r,i,o,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let f=0;f<e.length;f++){let h=e[f];if(typeof h=="string"&&(h=h.trim(),K2(h))){const d=M4(h,n.current);d!==void 0&&(e[f]=d),f===e.length-1&&(this.finalKeyframe=h)}}if(this.resolveNoneKeyframes(),!k4.has(r)||e.length!==2)return;const[i,o]=e,a=GD(i),l=GD(o);if(a!==l)if(zD(a)&&zD(l))for(let f=0;f<e.length;f++){const h=e[f];typeof h=="string"&&(e[f]=parseFloat(h))}else jl[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)(e[i]===null||tF(e[i]))&&r.push(i);r.length&&cF(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=jl[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var l;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const i=e.getValue(n);i&&i.jump(this.measuredOrigin,!1);const o=r.length-1,a=r[o];r[o]=jl[n](e.measureViewportBox(),window.getComputedStyle(e.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),(l=this.removedTransforms)!=null&&l.length&&this.removedTransforms.forEach(([f,h])=>{e.getValue(f).set(h)}),this.resolveNoneKeyframes()}}function uF(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const i=(n==null?void 0:n[t])??r.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}const F4=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function z4(t){return i4(t)&&"offsetHeight"in t}const QD=30,fF=t=>!isNaN(parseFloat(t));class hF{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var o;const i=Cr.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((o=this.events.change)==null||o.notify(this.current),this.dependents))for(const a of this.dependents)a.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Cr.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=fF(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new V2);const r=this.events[e].add(n);return e==="change"?()=>{r(),Ot.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Cr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>QD)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,QD);return o4(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Rh(t,e){return new hF(t,e)}const{schedule:iS}=y4(queueMicrotask,!1),Fi={x:!1,y:!1};function V4(){return Fi.x||Fi.y}function dF(t){return t==="x"||t==="y"?Fi[t]?null:(Fi[t]=!0,()=>{Fi[t]=!1}):Fi.x||Fi.y?null:(Fi.x=Fi.y=!0,()=>{Fi.x=Fi.y=!1})}function H4(t,e){const n=uF(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function YD(t){return!(t.pointerType==="touch"||V4())}function pF(t,e,n={}){const[r,i,o]=H4(t,n),a=l=>{if(!YD(l))return;const{target:f}=l,h=e(f,l);if(typeof h!="function"||!f)return;const d=g=>{YD(g)&&(h(g),f.removeEventListener("pointerleave",d))};f.addEventListener("pointerleave",d,i)};return r.forEach(l=>{l.addEventListener("pointerenter",a,i)}),o}const q4=(t,e)=>e?t===e?!0:q4(t,e.parentElement):!1,sS=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,gF=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function mF(t){return gF.has(t.tagName)||t.tabIndex!==-1}const v0=new WeakSet;function WD(t){return e=>{e.key==="Enter"&&t(e)}}function Q1(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const yF=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=WD(()=>{if(v0.has(n))return;Q1(n,"down");const i=WD(()=>{Q1(n,"up")}),o=()=>Q1(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",o,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function XD(t){return sS(t)&&!V4()}function bF(t,e,n={}){const[r,i,o]=H4(t,n),a=l=>{const f=l.currentTarget;if(!XD(l))return;v0.add(f);const h=e(f,l),d=(b,x)=>{window.removeEventListener("pointerup",g),window.removeEventListener("pointercancel",y),v0.has(f)&&v0.delete(f),XD(b)&&typeof h=="function"&&h(b,{success:x})},g=b=>{d(b,f===window||f===document||n.useGlobalTarget||q4(f,b.target))},y=b=>{d(b,!1)};window.addEventListener("pointerup",g,i),window.addEventListener("pointercancel",y,i)};return r.forEach(l=>{(n.useGlobalTarget?window:l).addEventListener("pointerdown",a,i),z4(l)&&(l.addEventListener("focus",h=>yF(h,i)),!mF(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),o}function G4(t){return i4(t)&&"ownerSVGElement"in t}function wF(t){return G4(t)&&t.tagName==="svg"}const Gn=t=>!!(t&&t.getVelocity),vF=[...L4,Yt,mc],xF=t=>vF.find(U4(t)),oS=F.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class EF extends F.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,i=z4(r)&&r.offsetWidth||0,o=this.props.sizeRef.current;o.height=n.offsetHeight||0,o.width=n.offsetWidth||0,o.top=n.offsetTop,o.left=n.offsetLeft,o.right=i-o.width-o.left}return null}componentDidUpdate(){}render(){return this.props.children}}function AF({children:t,isPresent:e,anchorX:n,root:r}){const i=F.useId(),o=F.useRef(null),a=F.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=F.useContext(oS);return F.useInsertionEffect(()=>{const{width:f,height:h,top:d,left:g,right:y}=a.current;if(e||!o.current||!f||!h)return;const b=n==="left"?`left: ${g}`:`right: ${y}`;o.current.dataset.motionPopId=i;const x=document.createElement("style");l&&(x.nonce=l);const w=r??document.head;return w.appendChild(x),x.sheet&&x.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${f}px !important;
            height: ${h}px !important;
            ${b}px !important;
            top: ${d}px !important;
          }
        `),()=>{w.contains(x)&&w.removeChild(x)}},[e]),j.jsx(EF,{isPresent:e,childRef:o,sizeRef:a,children:F.cloneElement(t,{ref:o})})}const SF=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:o,mode:a,anchorX:l,root:f})=>{const h=U2(TF),d=F.useId();let g=!0,y=F.useMemo(()=>(g=!1,{id:d,initial:e,isPresent:n,custom:i,onExitComplete:b=>{h.set(b,!0);for(const x of h.values())if(!x)return;r&&r()},register:b=>(h.set(b,!1),()=>h.delete(b))}),[n,h,r]);return o&&g&&(y={...y}),F.useMemo(()=>{h.forEach((b,x)=>h.set(x,!1))},[n]),F.useEffect(()=>{!n&&!h.size&&r&&r()},[n]),a==="popLayout"&&(t=j.jsx(AF,{isPresent:n,anchorX:l,root:f,children:t})),j.jsx(Bb.Provider,{value:y,children:t})};function TF(){return new Map}function K4(t=!0){const e=F.useContext(Bb);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,o=F.useId();F.useEffect(()=>{if(t)return i(o)},[t]);const a=F.useCallback(()=>t&&r&&r(o),[o,r,t]);return!n&&r?[!1,a]:[!0]}const By=t=>t.key||"";function ZD(t){const e=[];return F.Children.forEach(t,n=>{F.isValidElement(n)&&e.push(n)}),e}const CF=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:o="sync",propagate:a=!1,anchorX:l="left",root:f})=>{const[h,d]=K4(a),g=F.useMemo(()=>ZD(t),[t]),y=a&&!h?[]:g.map(By),b=F.useRef(!0),x=F.useRef(g),w=U2(()=>new Map),[E,A]=F.useState(g),[C,S]=F.useState(g);n4(()=>{b.current=!1,x.current=g;for(let P=0;P<C.length;P++){const M=By(C[P]);y.includes(M)?w.delete(M):w.get(M)!==!0&&w.set(M,!1)}},[C,y.length,y.join("-")]);const R=[];if(g!==E){let P=[...g];for(let M=0;M<C.length;M++){const I=C[M],k=By(I);y.includes(k)||(P.splice(M,0,I),R.push(I))}return o==="wait"&&R.length&&(P=R),S(ZD(P)),A(g),null}const{forceRender:O}=F.useContext(k2);return j.jsx(j.Fragment,{children:C.map(P=>{const M=By(P),I=a&&!h?!1:g===C||y.includes(M),k=()=>{if(w.has(M))w.set(M,!0);else return;let z=!0;w.forEach(V=>{V||(z=!1)}),z&&(O==null||O(),S(x.current),a&&(d==null||d()),r&&r())};return j.jsx(SF,{isPresent:I,initial:!b.current||n?void 0:!1,custom:e,presenceAffectsLayout:i,mode:o,root:f,onExitComplete:I?void 0:k,anchorX:l,children:P},M)})})},Q4=F.createContext({strict:!1}),JD={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},_h={};for(const t in JD)_h[t]={isEnabled:e=>JD[t].some(n=>!!e[n])};function OF(t){for(const e in t)_h[e]={..._h[e],...t[e]}}const DF=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function G0(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||DF.has(t)}let Y4=t=>!G0(t);function PF(t){typeof t=="function"&&(Y4=e=>e.startsWith("on")?!G0(e):t(e))}try{PF(require("@emotion/is-prop-valid").default)}catch{}function NF(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(Y4(i)||n===!0&&G0(i)||!e&&!G0(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}const Mb=F.createContext({});function kb(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function cg(t){return typeof t=="string"||Array.isArray(t)}const aS=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],cS=["initial",...aS];function Ub(t){return kb(t.animate)||cS.some(e=>cg(t[e]))}function W4(t){return!!(Ub(t)||t.variants)}function RF(t,e){if(Ub(t)){const{initial:n,animate:r}=t;return{initial:n===!1||cg(n)?n:void 0,animate:cg(r)?r:void 0}}return t.inherit!==!1?e:{}}function _F(t){const{initial:e,animate:n}=RF(t,F.useContext(Mb));return F.useMemo(()=>({initial:e,animate:n}),[eP(e),eP(n)])}function eP(t){return Array.isArray(t)?t.join(" "):t}const lg={};function IF(t){for(const e in t)lg[e]=t[e],G2(e)&&(lg[e].isCSSVariable=!0)}function X4(t,{layout:e,layoutId:n}){return Gh.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!lg[t]||t==="opacity")}const BF={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},MF=qh.length;function kF(t,e,n){let r="",i=!0;for(let o=0;o<MF;o++){const a=qh[o],l=t[a];if(l===void 0)continue;let f=!0;if(typeof l=="number"?f=l===(a.startsWith("scale")?1:0):f=parseFloat(l)===0,!f||n){const h=F4(l,rS[a]);if(!f){i=!1;const d=BF[a]||a;r+=`${d}(${h}) `}n&&(e[a]=h)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function lS(t,e,n){const{style:r,vars:i,transformOrigin:o}=t;let a=!1,l=!1;for(const f in e){const h=e[f];if(Gh.has(f)){a=!0;continue}else if(G2(f)){i[f]=h;continue}else{const d=F4(h,rS[f]);f.startsWith("origin")?(l=!0,o[f]=d):r[f]=d}}if(e.transform||(a||n?r.transform=kF(e,t.transform,n):r.transform&&(r.transform="none")),l){const{originX:f="50%",originY:h="50%",originZ:d=0}=o;r.transformOrigin=`${f} ${h} ${d}`}}const uS=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Z4(t,e,n){for(const r in e)!Gn(e[r])&&!X4(r,n)&&(t[r]=e[r])}function UF({transformTemplate:t},e){return F.useMemo(()=>{const n=uS();return lS(n,e,t),Object.assign({},n.vars,n.style)},[e])}function LF(t,e){const n=t.style||{},r={};return Z4(r,n,t),Object.assign(r,UF(t,e)),r}function $F(t,e){const n={},r=LF(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const jF={offset:"stroke-dashoffset",array:"stroke-dasharray"},FF={offset:"strokeDashoffset",array:"strokeDasharray"};function zF(t,e,n=1,r=0,i=!0){t.pathLength=1;const o=i?jF:FF;t[o.offset]=Ue.transform(-r);const a=Ue.transform(e),l=Ue.transform(n);t[o.array]=`${a} ${l}`}function J4(t,{attrX:e,attrY:n,attrScale:r,pathLength:i,pathSpacing:o=1,pathOffset:a=0,...l},f,h,d){if(lS(t,l,h),f){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:g,style:y}=t;g.transform&&(y.transform=g.transform,delete g.transform),(y.transform||g.transformOrigin)&&(y.transformOrigin=g.transformOrigin??"50% 50%",delete g.transformOrigin),y.transform&&(y.transformBox=(d==null?void 0:d.transformBox)??"fill-box",delete g.transformBox),e!==void 0&&(g.x=e),n!==void 0&&(g.y=n),r!==void 0&&(g.scale=r),i!==void 0&&zF(g,i,o,a,!1)}const eB=()=>({...uS(),attrs:{}}),tB=t=>typeof t=="string"&&t.toLowerCase()==="svg";function VF(t,e,n,r){const i=F.useMemo(()=>{const o=eB();return J4(o,e,tB(r),t.transformTemplate,t.style),{...o.attrs,style:{...o.style}}},[e]);if(t.style){const o={};Z4(o,t.style,t),i.style={...o,...i.style}}return i}const HF=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function fS(t){return typeof t!="string"||t.includes("-")?!1:!!(HF.indexOf(t)>-1||/[A-Z]/u.test(t))}function qF(t,e,n,{latestValues:r},i,o=!1){const l=(fS(t)?VF:$F)(e,r,i,t),f=NF(e,typeof t=="string",o),h=t!==F.Fragment?{...f,...l,ref:n}:{},{children:d}=e,g=F.useMemo(()=>Gn(d)?d.get():d,[d]);return F.createElement(t,{...h,children:g})}function tP(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function hS(t,e,n,r){if(typeof e=="function"){const[i,o]=tP(r);e=e(n!==void 0?n:t.custom,i,o)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,o]=tP(r);e=e(n!==void 0?n:t.custom,i,o)}return e}function x0(t){return Gn(t)?t.get():t}function GF({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,i){return{latestValues:KF(n,r,i,t),renderState:e()}}function KF(t,e,n,r){const i={},o=r(t,{});for(const y in o)i[y]=x0(o[y]);let{initial:a,animate:l}=t;const f=Ub(t),h=W4(t);e&&h&&!f&&t.inherit!==!1&&(a===void 0&&(a=e.initial),l===void 0&&(l=e.animate));let d=n?n.initial===!1:!1;d=d||a===!1;const g=d?l:a;if(g&&typeof g!="boolean"&&!kb(g)){const y=Array.isArray(g)?g:[g];for(let b=0;b<y.length;b++){const x=hS(t,y[b]);if(x){const{transitionEnd:w,transition:E,...A}=x;for(const C in A){let S=A[C];if(Array.isArray(S)){const R=d?S.length-1:0;S=S[R]}S!==null&&(i[C]=S)}for(const C in w)i[C]=w[C]}}}return i}const nB=t=>(e,n)=>{const r=F.useContext(Mb),i=F.useContext(Bb),o=()=>GF(t,e,r,i);return n?o():U2(o)};function dS(t,e,n){var o;const{style:r}=t,i={};for(const a in r)(Gn(r[a])||e.style&&Gn(e.style[a])||X4(a,t)||((o=n==null?void 0:n.getValue(a))==null?void 0:o.liveStyle)!==void 0)&&(i[a]=r[a]);return i}const QF=nB({scrapeMotionValuesFromProps:dS,createRenderState:uS});function rB(t,e,n){const r=dS(t,e,n);for(const i in t)if(Gn(t[i])||Gn(e[i])){const o=qh.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[o]=t[i]}return r}const YF=nB({scrapeMotionValuesFromProps:rB,createRenderState:eB}),WF=Symbol.for("motionComponentSymbol");function Of(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function XF(t,e,n){return F.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Of(n)&&(n.current=r))},[e])}const pS=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),ZF="framerAppearId",iB="data-"+pS(ZF),sB=F.createContext({});function JF(t,e,n,r,i){var w,E;const{visualElement:o}=F.useContext(Mb),a=F.useContext(Q4),l=F.useContext(Bb),f=F.useContext(oS).reducedMotion,h=F.useRef(null);r=r||a.renderer,!h.current&&r&&(h.current=r(t,{visualState:e,parent:o,props:n,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:f}));const d=h.current,g=F.useContext(sB);d&&!d.projection&&i&&(d.type==="html"||d.type==="svg")&&ez(h.current,n,i,g);const y=F.useRef(!1);F.useInsertionEffect(()=>{d&&y.current&&d.update(n,l)});const b=n[iB],x=F.useRef(!!b&&!((w=window.MotionHandoffIsComplete)!=null&&w.call(window,b))&&((E=window.MotionHasOptimisedAnimation)==null?void 0:E.call(window,b)));return n4(()=>{d&&(y.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),d.scheduleRenderMicrotask(),x.current&&d.animationState&&d.animationState.animateChanges())}),F.useEffect(()=>{d&&(!x.current&&d.animationState&&d.animationState.animateChanges(),x.current&&(queueMicrotask(()=>{var A;(A=window.MotionHandoffMarkAsComplete)==null||A.call(window,b)}),x.current=!1),d.enteringChildren=void 0)}),d}function ez(t,e,n,r){const{layoutId:i,layout:o,drag:a,dragConstraints:l,layoutScroll:f,layoutRoot:h,layoutCrossfade:d}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:oB(t.parent)),t.projection.setOptions({layoutId:i,layout:o,alwaysMeasureLayout:!!a||l&&Of(l),visualElement:t,animationType:typeof o=="string"?o:"both",initialPromotionConfig:r,crossfade:d,layoutScroll:f,layoutRoot:h})}function oB(t){if(t)return t.options.allowProjection!==!1?t.projection:oB(t.parent)}function Y1(t,{forwardMotionProps:e=!1}={},n,r){n&&OF(n);const i=fS(t)?YF:QF;function o(l,f){let h;const d={...F.useContext(oS),...l,layoutId:tz(l)},{isStatic:g}=d,y=_F(l),b=i(l,g);if(!g&&L2){nz();const x=rz(d);h=x.MeasureLayout,y.visualElement=JF(t,b,d,r,x.ProjectionNode)}return j.jsxs(Mb.Provider,{value:y,children:[h&&y.visualElement?j.jsx(h,{visualElement:y.visualElement,...d}):null,qF(t,l,XF(b,y.visualElement,f),b,g,e)]})}o.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const a=F.forwardRef(o);return a[WF]=t,a}function tz({layoutId:t}){const e=F.useContext(k2).id;return e&&t!==void 0?e+"-"+t:t}function nz(t,e){F.useContext(Q4).strict}function rz(t){const{drag:e,layout:n}=_h;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function iz(t,e){if(typeof Proxy>"u")return Y1;const n=new Map,r=(o,a)=>Y1(o,a,t,e),i=(o,a)=>r(o,a);return new Proxy(i,{get:(o,a)=>a==="create"?r:(n.has(a)||n.set(a,Y1(a,void 0,t,e)),n.get(a))})}function aB({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function sz({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function oz(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function W1(t){return t===void 0||t===1}function $E({scale:t,scaleX:e,scaleY:n}){return!W1(t)||!W1(e)||!W1(n)}function Jc(t){return $E(t)||cB(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function cB(t){return nP(t.x)||nP(t.y)}function nP(t){return t&&t!=="0%"}function K0(t,e,n){const r=t-n,i=e*r;return n+i}function rP(t,e,n,r,i){return i!==void 0&&(t=K0(t,i,r)),K0(t,n,r)+e}function jE(t,e=0,n=1,r,i){t.min=rP(t.min,e,n,r,i),t.max=rP(t.max,e,n,r,i)}function lB(t,{x:e,y:n}){jE(t.x,e.translate,e.scale,e.originPoint),jE(t.y,n.translate,n.scale,n.originPoint)}const iP=.999999999999,sP=1.0000000000001;function az(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let o,a;for(let l=0;l<i;l++){o=n[l],a=o.projectionDelta;const{visualElement:f}=o.options;f&&f.props.style&&f.props.style.display==="contents"||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&Pf(t,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,lB(t,a)),r&&Jc(o.latestValues)&&Pf(t,o.latestValues))}e.x<sP&&e.x>iP&&(e.x=1),e.y<sP&&e.y>iP&&(e.y=1)}function Df(t,e){t.min=t.min+e,t.max=t.max+e}function oP(t,e,n,r,i=.5){const o=Nt(t.min,t.max,i);jE(t,e,n,o,r)}function Pf(t,e){oP(t.x,e.x,e.scaleX,e.scale,e.originX),oP(t.y,e.y,e.scaleY,e.scale,e.originY)}function uB(t,e){return aB(oz(t.getBoundingClientRect(),e))}function cz(t,e,n){const r=uB(t,n),{scroll:i}=e;return i&&(Df(r.x,i.offset.x),Df(r.y,i.offset.y)),r}const aP=()=>({translate:0,scale:1,origin:0,originPoint:0}),Nf=()=>({x:aP(),y:aP()}),cP=()=>({min:0,max:0}),jt=()=>({x:cP(),y:cP()}),FE={current:null},fB={current:!1};function lz(){if(fB.current=!0,!!L2)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>FE.current=t.matches;t.addEventListener("change",e),e()}else FE.current=!1}const uz=new WeakMap;function fz(t,e,n){for(const r in e){const i=e[r],o=n[r];if(Gn(i))t.addValue(r,i);else if(Gn(o))t.addValue(r,Rh(i,{owner:t}));else if(o!==i)if(t.hasValue(r)){const a=t.getValue(r);a.liveStyle===!0?a.jump(i):a.hasAnimated||a.set(i)}else{const a=t.getStaticValue(r);t.addValue(r,Rh(a!==void 0?a:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const lP=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class hz{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:o,visualState:a},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=tS,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const y=Cr.now();this.renderScheduledAt<y&&(this.renderScheduledAt=y,Ot.render(this.render,!1,!0))};const{latestValues:f,renderState:h}=a;this.latestValues=f,this.baseTarget={...f},this.initialValues=n.initial?{...f}:{},this.renderState=h,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=l,this.blockInitialAnimation=!!o,this.isControllingVariants=Ub(n),this.isVariantNode=W4(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:d,...g}=this.scrapeMotionValuesFromProps(n,{},this);for(const y in g){const b=g[y];f[y]!==void 0&&Gn(b)&&b.set(f[y])}}mount(e){var n;this.current=e,uz.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,i)=>this.bindToMotionValue(i,r)),fB.current||lz(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:FE.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),gc(this.notifyUpdate),gc(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Gh.has(e);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&Ot.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in _h){const n=_h[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const o=this.features[e];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):jt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<lP.length;r++){const i=lP[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const o="on"+i,a=e[o];a&&(this.propEventSubscriptions[i]=this.on(i,a))}this.prevMotionValues=fz(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Rh(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(r4(r)||s4(r))?r=parseFloat(r):!xF(r)&&mc.test(n)&&(r=j4(e,n)),this.setBaseTarget(e,Gn(r)?r.get():r)),Gn(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var o;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const a=hS(this.props,n,(o=this.presenceContext)==null?void 0:o.custom);a&&(r=a[e])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!Gn(i)?i:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new V2),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){iS.render(this.render)}}class hB extends hz{constructor(){super(...arguments),this.KeyframeResolver=lF}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Gn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function dB(t,{style:e,vars:n},r,i){const o=t.style;let a;for(a in e)o[a]=e[a];i==null||i.applyProjectionStyles(o,r);for(a in n)o.setProperty(a,n[a])}function dz(t){return window.getComputedStyle(t)}class pz extends hB{constructor(){super(...arguments),this.type="html",this.renderInstance=dB}readValueFromInstance(e,n){var r;if(Gh.has(n))return(r=this.projection)!=null&&r.isProjecting?_E(n):D7(e,n);{const i=dz(e),o=(G2(n)?i.getPropertyValue(n):i[n])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(e,{transformPagePoint:n}){return uB(e,n)}build(e,n,r){lS(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return dS(e,n,r)}}const pB=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function gz(t,e,n,r){dB(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(pB.has(i)?i:pS(i),e.attrs[i])}class mz extends hB{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=jt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Gh.has(n)){const r=$4(n);return r&&r.default||0}return n=pB.has(n)?n:pS(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return rB(e,n,r)}build(e,n,r){J4(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,i){gz(e,n,r,i)}mount(e){this.isSVGTag=tB(e.tagName),super.mount(e)}}const yz=(t,e)=>fS(t)?new mz(e):new pz(e,{allowProjection:t!==F.Fragment});function $f(t,e,n){const r=t.getProps();return hS(r,e,n!==void 0?n:r.custom,t)}const zE=t=>Array.isArray(t);function bz(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Rh(n))}function wz(t){return zE(t)?t[t.length-1]||0:t}function vz(t,e){const n=$f(t,e);let{transitionEnd:r={},transition:i={},...o}=n||{};o={...o,...r};for(const a in o){const l=wz(o[a]);bz(t,a,l)}}function xz(t){return!!(Gn(t)&&t.add)}function VE(t,e){const n=t.getValue("willChange");if(xz(n))return n.add(e);if(!n&&zo.WillChange){const r=new zo.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function gB(t){return t.props[iB]}const Ez=t=>t!==null;function Az(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(Ez),o=e&&n!=="loop"&&e%2===1?0:i.length-1;return i[o]}const Sz={type:"spring",stiffness:500,damping:25,restSpeed:10},Tz=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),Cz={type:"keyframes",duration:.8},Oz={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Dz=(t,{keyframes:e})=>e.length>2?Cz:Gh.has(t)?t.startsWith("scale")?Tz(e[1]):Sz:Oz;function Pz({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:o,repeatType:a,repeatDelay:l,from:f,elapsed:h,...d}){return!!Object.keys(d).length}const gS=(t,e,n,r={},i,o)=>a=>{const l=nS(r,t)||{},f=l.delay||r.delay||0;let{elapsed:h=0}=r;h=h-js(f);const d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...l,delay:-h,onUpdate:y=>{e.set(y),l.onUpdate&&l.onUpdate(y)},onComplete:()=>{a(),l.onComplete&&l.onComplete()},name:t,motionValue:e,element:o?void 0:i};Pz(l)||Object.assign(d,Dz(t,d)),d.duration&&(d.duration=js(d.duration)),d.repeatDelay&&(d.repeatDelay=js(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let g=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(UE(d),d.delay===0&&(g=!0)),(zo.instantAnimations||zo.skipAnimations)&&(g=!0,UE(d),d.delay=0),d.allowFlatten=!l.type&&!l.ease,g&&!o&&e.get()!==void 0){const y=Az(d.keyframes,l);if(y!==void 0){Ot.update(()=>{d.onUpdate(y),d.onComplete()});return}}return l.isSync?new eS(d):new X7(d)};function Nz({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function mB(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:o=t.getDefaultTransition(),transitionEnd:a,...l}=e;r&&(o=r);const f=[],h=i&&t.animationState&&t.animationState.getState()[i];for(const d in l){const g=t.getValue(d,t.latestValues[d]??null),y=l[d];if(y===void 0||h&&Nz(h,d))continue;const b={delay:n,...nS(o||{},d)},x=g.get();if(x!==void 0&&!g.isAnimating&&!Array.isArray(y)&&y===x&&!b.velocity)continue;let w=!1;if(window.MotionHandoffAnimation){const A=gB(t);if(A){const C=window.MotionHandoffAnimation(A,d,Ot);C!==null&&(b.startTime=C,w=!0)}}VE(t,d),g.start(gS(d,g,y,t.shouldReduceMotion&&k4.has(d)?{type:!1}:b,t,w));const E=g.animation;E&&f.push(E)}return a&&Promise.all(f).then(()=>{Ot.update(()=>{a&&vz(t,a)})}),f}function yB(t,e,n,r=0,i=1){const o=Array.from(t).sort((h,d)=>h.sortNodePosition(d)).indexOf(e),a=t.size,l=(a-1)*r;return typeof n=="function"?n(o,a):i===1?o*r:l-o*r}function HE(t,e,n={}){var f;const r=$f(t,e,n.type==="exit"?(f=t.presenceContext)==null?void 0:f.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const o=r?()=>Promise.all(mB(t,r,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(h=0)=>{const{delayChildren:d=0,staggerChildren:g,staggerDirection:y}=i;return Rz(t,e,h,d,g,y,n)}:()=>Promise.resolve(),{when:l}=i;if(l){const[h,d]=l==="beforeChildren"?[o,a]:[a,o];return h().then(()=>d())}else return Promise.all([o(),a(n.delay)])}function Rz(t,e,n=0,r=0,i=0,o=1,a){const l=[];for(const f of t.variantChildren)f.notify("AnimationStart",e),l.push(HE(f,e,{...a,delay:n+(typeof r=="function"?0:r)+yB(t.variantChildren,f,r,i,o)}).then(()=>f.notify("AnimationComplete",e)));return Promise.all(l)}function _z(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(o=>HE(t,o,n));r=Promise.all(i)}else if(typeof e=="string")r=HE(t,e,n);else{const i=typeof e=="function"?$f(t,e,n.custom):e;r=Promise.all(mB(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function bB(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const Iz=cS.length;function wB(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?wB(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<Iz;n++){const r=cS[n],i=t.props[r];(cg(i)||i===!1)&&(e[r]=i)}return e}const Bz=[...aS].reverse(),Mz=aS.length;function kz(t){return e=>Promise.all(e.map(({animation:n,options:r})=>_z(t,n,r)))}function Uz(t){let e=kz(t),n=uP(),r=!0;const i=f=>(h,d)=>{var y;const g=$f(t,d,f==="exit"?(y=t.presenceContext)==null?void 0:y.custom:void 0);if(g){const{transition:b,transitionEnd:x,...w}=g;h={...h,...w,...x}}return h};function o(f){e=f(t)}function a(f){const{props:h}=t,d=wB(t.parent)||{},g=[],y=new Set;let b={},x=1/0;for(let E=0;E<Mz;E++){const A=Bz[E],C=n[A],S=h[A]!==void 0?h[A]:d[A],R=cg(S),O=A===f?C.isActive:null;O===!1&&(x=E);let P=S===d[A]&&S!==h[A]&&R;if(P&&r&&t.manuallyAnimateOnMount&&(P=!1),C.protectedKeys={...b},!C.isActive&&O===null||!S&&!C.prevProp||kb(S)||typeof S=="boolean")continue;const M=Lz(C.prevProp,S);let I=M||A===f&&C.isActive&&!P&&R||E>x&&R,k=!1;const z=Array.isArray(S)?S:[S];let V=z.reduce(i(A),{});O===!1&&(V={});const{prevResolvedValues:G={}}=C,Z={...G,...V},Y=U=>{I=!0,y.has(U)&&(k=!0,y.delete(U)),C.needsAnimating[U]=!0;const $=t.getValue(U);$&&($.liveStyle=!1)};for(const U in Z){const $=V[U],H=G[U];if(b.hasOwnProperty(U))continue;let _=!1;zE($)&&zE(H)?_=!bB($,H):_=$!==H,_?$!=null?Y(U):y.add(U):$!==void 0&&y.has(U)?Y(U):C.protectedKeys[U]=!0}C.prevProp=S,C.prevResolvedValues=V,C.isActive&&(b={...b,...V}),r&&t.blockInitialAnimation&&(I=!1);const D=P&&M;I&&(!D||k)&&g.push(...z.map(U=>{const $={type:A};if(typeof U=="string"&&r&&!D&&t.manuallyAnimateOnMount&&t.parent){const{parent:H}=t,_=$f(H,U);if(H.enteringChildren&&_){const{delayChildren:K}=_.transition||{};$.delay=yB(H.enteringChildren,t,K)}}return{animation:U,options:$}}))}if(y.size){const E={};if(typeof h.initial!="boolean"){const A=$f(t,Array.isArray(h.initial)?h.initial[0]:h.initial);A&&A.transition&&(E.transition=A.transition)}y.forEach(A=>{const C=t.getBaseTarget(A),S=t.getValue(A);S&&(S.liveStyle=!0),E[A]=C??null}),g.push({animation:E})}let w=!!g.length;return r&&(h.initial===!1||h.initial===h.animate)&&!t.manuallyAnimateOnMount&&(w=!1),r=!1,w?e(g):Promise.resolve()}function l(f,h){var g;if(n[f].isActive===h)return Promise.resolve();(g=t.variantChildren)==null||g.forEach(y=>{var b;return(b=y.animationState)==null?void 0:b.setActive(f,h)}),n[f].isActive=h;const d=a(f);for(const y in n)n[y].protectedKeys={};return d}return{animateChanges:a,setActive:l,setAnimateFunction:o,getState:()=>n,reset:()=>{n=uP(),r=!0}}}function Lz(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!bB(e,t):!1}function Kc(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function uP(){return{animate:Kc(!0),whileInView:Kc(),whileHover:Kc(),whileTap:Kc(),whileDrag:Kc(),whileFocus:Kc(),exit:Kc()}}class Sc{constructor(e){this.isMounted=!1,this.node=e}update(){}}class $z extends Sc{constructor(e){super(e),e.animationState||(e.animationState=Uz(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();kb(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let jz=0;class Fz extends Sc{constructor(){super(...arguments),this.id=jz++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const zz={animation:{Feature:$z},exit:{Feature:Fz}};function ug(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Xg(t){return{point:{x:t.pageX,y:t.pageY}}}const Vz=t=>e=>sS(e)&&t(e,Xg(e));function Vp(t,e,n,r){return ug(t,e,Vz(n),r)}const vB=1e-4,Hz=1-vB,qz=1+vB,xB=.01,Gz=0-xB,Kz=0+xB;function tr(t){return t.max-t.min}function Qz(t,e,n){return Math.abs(t-e)<=n}function fP(t,e,n,r=.5){t.origin=r,t.originPoint=Nt(e.min,e.max,t.origin),t.scale=tr(n)/tr(e),t.translate=Nt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=Hz&&t.scale<=qz||isNaN(t.scale))&&(t.scale=1),(t.translate>=Gz&&t.translate<=Kz||isNaN(t.translate))&&(t.translate=0)}function Hp(t,e,n,r){fP(t.x,e.x,n.x,r?r.originX:void 0),fP(t.y,e.y,n.y,r?r.originY:void 0)}function hP(t,e,n){t.min=n.min+e.min,t.max=t.min+tr(e)}function Yz(t,e,n){hP(t.x,e.x,n.x),hP(t.y,e.y,n.y)}function dP(t,e,n){t.min=e.min-n.min,t.max=t.min+tr(e)}function qp(t,e,n){dP(t.x,e.x,n.x),dP(t.y,e.y,n.y)}function mi(t){return[t("x"),t("y")]}const EB=({current:t})=>t?t.ownerDocument.defaultView:null,pP=(t,e)=>Math.abs(t-e);function Wz(t,e){const n=pP(t.x,e.x),r=pP(t.y,e.y);return Math.sqrt(n**2+r**2)}class AB{constructor(e,n,{transformPagePoint:r,contextWindow:i=window,dragSnapToOrigin:o=!1,distanceThreshold:a=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=Z1(this.lastMoveEventInfo,this.history),b=this.startEvent!==null,x=Wz(y.offset,{x:0,y:0})>=this.distanceThreshold;if(!b&&!x)return;const{point:w}=y,{timestamp:E}=On;this.history.push({...w,timestamp:E});const{onStart:A,onMove:C}=this.handlers;b||(A&&A(this.lastMoveEvent,y),this.startEvent=this.lastMoveEvent),C&&C(this.lastMoveEvent,y)},this.handlePointerMove=(y,b)=>{this.lastMoveEvent=y,this.lastMoveEventInfo=X1(b,this.transformPagePoint),Ot.update(this.updatePoint,!0)},this.handlePointerUp=(y,b)=>{this.end();const{onEnd:x,onSessionEnd:w,resumeAnimation:E}=this.handlers;if(this.dragSnapToOrigin&&E&&E(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const A=Z1(y.type==="pointercancel"?this.lastMoveEventInfo:X1(b,this.transformPagePoint),this.history);this.startEvent&&x&&x(y,A),w&&w(y,A)},!sS(e))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=a,this.contextWindow=i||window;const l=Xg(e),f=X1(l,this.transformPagePoint),{point:h}=f,{timestamp:d}=On;this.history=[{...h,timestamp:d}];const{onSessionStart:g}=n;g&&g(e,Z1(f,this.history)),this.removeListeners=Qg(Vp(this.contextWindow,"pointermove",this.handlePointerMove),Vp(this.contextWindow,"pointerup",this.handlePointerUp),Vp(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),gc(this.updatePoint)}}function X1(t,e){return e?{point:e(t.point)}:t}function gP(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Z1({point:t},e){return{point:t,delta:gP(t,SB(e)),offset:gP(t,Xz(e)),velocity:Zz(e,.1)}}function Xz(t){return t[0]}function SB(t){return t[t.length-1]}function Zz(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=SB(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>js(e)));)n--;if(!r)return{x:0,y:0};const o=Fs(i.timestamp-r.timestamp);if(o===0)return{x:0,y:0};const a={x:(i.x-r.x)/o,y:(i.y-r.y)/o};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function Jz(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Nt(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Nt(n,t,r.max):Math.min(t,n)),t}function mP(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function eV(t,{top:e,left:n,bottom:r,right:i}){return{x:mP(t.x,n,i),y:mP(t.y,e,r)}}function yP(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function tV(t,e){return{x:yP(t.x,e.x),y:yP(t.y,e.y)}}function nV(t,e){let n=.5;const r=tr(t),i=tr(e);return i>r?n=sg(e.min,e.max-r,t.min):r>i&&(n=sg(t.min,t.max-i,e.min)),Fo(0,1,n)}function rV(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const qE=.35;function iV(t=qE){return t===!1?t=0:t===!0&&(t=qE),{x:bP(t,"left","right"),y:bP(t,"top","bottom")}}function bP(t,e,n){return{min:wP(t,e),max:wP(t,n)}}function wP(t,e){return typeof t=="number"?t:t[e]||0}const sV=new WeakMap;class oV{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=jt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const o=g=>{const{dragSnapToOrigin:y}=this.getProps();y?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Xg(g).point)},a=(g,y)=>{const{drag:b,dragPropagation:x,onDragStart:w}=this.getProps();if(b&&!x&&(this.openDragLock&&this.openDragLock(),this.openDragLock=dF(b),!this.openDragLock))return;this.latestPointerEvent=g,this.latestPanInfo=y,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),mi(A=>{let C=this.getAxisMotionValue(A).get()||0;if(zs.test(C)){const{projection:S}=this.visualElement;if(S&&S.layout){const R=S.layout.layoutBox[A];R&&(C=tr(R)*(parseFloat(C)/100))}}this.originPoint[A]=C}),w&&Ot.postRender(()=>w(g,y)),VE(this.visualElement,"transform");const{animationState:E}=this.visualElement;E&&E.setActive("whileDrag",!0)},l=(g,y)=>{this.latestPointerEvent=g,this.latestPanInfo=y;const{dragPropagation:b,dragDirectionLock:x,onDirectionLock:w,onDrag:E}=this.getProps();if(!b&&!this.openDragLock)return;const{offset:A}=y;if(x&&this.currentDirection===null){this.currentDirection=aV(A),this.currentDirection!==null&&w&&w(this.currentDirection);return}this.updateAxis("x",y.point,A),this.updateAxis("y",y.point,A),this.visualElement.render(),E&&E(g,y)},f=(g,y)=>{this.latestPointerEvent=g,this.latestPanInfo=y,this.stop(g,y),this.latestPointerEvent=null,this.latestPanInfo=null},h=()=>mi(g=>{var y;return this.getAnimationState(g)==="paused"&&((y=this.getAxisMotionValue(g).animation)==null?void 0:y.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new AB(e,{onSessionStart:o,onStart:a,onMove:l,onSessionEnd:f,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,distanceThreshold:r,contextWindow:EB(this.visualElement)})}stop(e,n){const r=e||this.latestPointerEvent,i=n||this.latestPanInfo,o=this.isDragging;if(this.cancel(),!o||!i||!r)return;const{velocity:a}=i;this.startAnimation(a);const{onDragEnd:l}=this.getProps();l&&Ot.postRender(()=>l(r,i))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!My(e,i,this.currentDirection))return;const o=this.getAxisMotionValue(e);let a=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(a=Jz(a,this.constraints[e],this.elastic[e])),o.set(a)}resolveConstraints(){var o;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(o=this.visualElement.projection)==null?void 0:o.layout,i=this.constraints;e&&Of(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=eV(r.layoutBox,e):this.constraints=!1,this.elastic=iV(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&mi(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=rV(r.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Of(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const o=cz(r,i.root,this.visualElement.getTransformPagePoint());let a=tV(i.layout.layoutBox,o);if(n){const l=n(sz(a));this.hasMutatedConstraints=!!l,l&&(a=aB(l))}return a}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:o,dragSnapToOrigin:a,onDragTransitionEnd:l}=this.getProps(),f=this.constraints||{},h=mi(d=>{if(!My(d,n,this.currentDirection))return;let g=f&&f[d]||{};a&&(g={min:0,max:0});const y=i?200:1e6,b=i?40:1e7,x={type:"inertia",velocity:r?e[d]:0,bounceStiffness:y,bounceDamping:b,timeConstant:750,restDelta:1,restSpeed:10,...o,...g};return this.startAxisValueAnimation(d,x)});return Promise.all(h).then(l)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return VE(this.visualElement,e),r.start(gS(e,r,0,n,this.visualElement,!1))}stopAnimation(){mi(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){mi(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){mi(n=>{const{drag:r}=this.getProps();if(!My(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,o=this.getAxisMotionValue(n);if(i&&i.layout){const{min:a,max:l}=i.layout.layoutBox[n];o.set(e[n]-Nt(a,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Of(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};mi(a=>{const l=this.getAxisMotionValue(a);if(l&&this.constraints!==!1){const f=l.get();i[a]=nV({min:f,max:f},this.constraints[a])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),mi(a=>{if(!My(a,e,null))return;const l=this.getAxisMotionValue(a),{min:f,max:h}=this.constraints[a];l.set(Nt(f,h,i[a]))})}addListeners(){if(!this.visualElement.current)return;sV.set(this.visualElement,this);const e=this.visualElement.current,n=Vp(e,"pointerdown",f=>{const{drag:h,dragListener:d=!0}=this.getProps();h&&d&&this.start(f)}),r=()=>{const{dragConstraints:f}=this.getProps();Of(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,o=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Ot.read(r);const a=ug(window,"resize",()=>this.scalePositionWithinConstraints()),l=i.addEventListener("didUpdate",({delta:f,hasLayoutChanged:h})=>{this.isDragging&&h&&(mi(d=>{const g=this.getAxisMotionValue(d);g&&(this.originPoint[d]+=f[d].translate,g.set(g.get()+f[d].translate))}),this.visualElement.render())});return()=>{a(),n(),o(),l&&l()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:o=!1,dragElastic:a=qE,dragMomentum:l=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:o,dragElastic:a,dragMomentum:l}}}function My(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function aV(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class cV extends Sc{constructor(e){super(e),this.removeGroupControls=Pi,this.removeListeners=Pi,this.controls=new oV(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Pi}unmount(){this.removeGroupControls(),this.removeListeners()}}const vP=t=>(e,n)=>{t&&Ot.postRender(()=>t(e,n))};class lV extends Sc{constructor(){super(...arguments),this.removePointerDownListener=Pi}onPointerDown(e){this.session=new AB(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:EB(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:vP(e),onStart:vP(n),onMove:r,onEnd:(o,a)=>{delete this.session,i&&Ot.postRender(()=>i(o,a))}}}mount(){this.removePointerDownListener=Vp(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const E0={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function xP(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const lp={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Ue.test(t))t=parseFloat(t);else return t;const n=xP(t,e.target.x),r=xP(t,e.target.y);return`${n}% ${r}%`}},uV={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=mc.parse(t);if(i.length>5)return r;const o=mc.createTransformer(t),a=typeof i[0]!="number"?1:0,l=n.x.scale*e.x,f=n.y.scale*e.y;i[0+a]/=l,i[1+a]/=f;const h=Nt(l,f,.5);return typeof i[2+a]=="number"&&(i[2+a]/=h),typeof i[3+a]=="number"&&(i[3+a]/=h),o(i)}};let J1=!1;class fV extends F.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:o}=e;IF(hV),o&&(n.group&&n.group.add(o),r&&r.register&&i&&r.register(o),J1&&o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),E0.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:o}=this.props,{projection:a}=r;return a&&(a.isPresent=o,J1=!0,i||e.layoutDependency!==n||n===void 0||e.isPresent!==o?a.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?a.promote():a.relegate()||Ot.postRender(()=>{const l=a.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),iS.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;J1=!0,i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function TB(t){const[e,n]=K4(),r=F.useContext(k2);return j.jsx(fV,{...t,layoutGroup:r,switchLayoutGroup:F.useContext(sB),isPresent:e,safeToRemove:n})}const hV={borderRadius:{...lp,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:lp,borderTopRightRadius:lp,borderBottomLeftRadius:lp,borderBottomRightRadius:lp,boxShadow:uV};function dV(t,e,n){const r=Gn(t)?t:Rh(t);return r.start(gS("",r,e,n)),r.animation}const pV=(t,e)=>t.depth-e.depth;class gV{constructor(){this.children=[],this.isDirty=!1}add(e){$2(this.children,e),this.isDirty=!0}remove(e){j2(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(pV),this.isDirty=!1,this.children.forEach(e)}}function mV(t,e){const n=Cr.now(),r=({timestamp:i})=>{const o=i-n;o>=e&&(gc(r),t(o-e))};return Ot.setup(r,!0),()=>gc(r)}const CB=["TopLeft","TopRight","BottomLeft","BottomRight"],yV=CB.length,EP=t=>typeof t=="string"?parseFloat(t):t,AP=t=>typeof t=="number"||Ue.test(t);function bV(t,e,n,r,i,o){i?(t.opacity=Nt(0,n.opacity??1,wV(r)),t.opacityExit=Nt(e.opacity??1,0,vV(r))):o&&(t.opacity=Nt(e.opacity??1,n.opacity??1,r));for(let a=0;a<yV;a++){const l=`border${CB[a]}Radius`;let f=SP(e,l),h=SP(n,l);if(f===void 0&&h===void 0)continue;f||(f=0),h||(h=0),f===0||h===0||AP(f)===AP(h)?(t[l]=Math.max(Nt(EP(f),EP(h),r),0),(zs.test(h)||zs.test(f))&&(t[l]+="%")):t[l]=h}(e.rotate||n.rotate)&&(t.rotate=Nt(e.rotate||0,n.rotate||0,r))}function SP(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const wV=OB(0,.5,d4),vV=OB(.5,.95,Pi);function OB(t,e,n){return r=>r<t?0:r>e?1:n(sg(t,e,r))}function TP(t,e){t.min=e.min,t.max=e.max}function fi(t,e){TP(t.x,e.x),TP(t.y,e.y)}function CP(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function OP(t,e,n,r,i){return t-=e,t=K0(t,1/n,r),i!==void 0&&(t=K0(t,1/i,r)),t}function xV(t,e=0,n=1,r=.5,i,o=t,a=t){if(zs.test(e)&&(e=parseFloat(e),e=Nt(a.min,a.max,e/100)-a.min),typeof e!="number")return;let l=Nt(o.min,o.max,r);t===o&&(l-=e),t.min=OP(t.min,e,n,l,i),t.max=OP(t.max,e,n,l,i)}function DP(t,e,[n,r,i],o,a){xV(t,e[n],e[r],e[i],e.scale,o,a)}const EV=["x","scaleX","originX"],AV=["y","scaleY","originY"];function PP(t,e,n,r){DP(t.x,e,EV,n?n.x:void 0,r?r.x:void 0),DP(t.y,e,AV,n?n.y:void 0,r?r.y:void 0)}function NP(t){return t.translate===0&&t.scale===1}function DB(t){return NP(t.x)&&NP(t.y)}function RP(t,e){return t.min===e.min&&t.max===e.max}function SV(t,e){return RP(t.x,e.x)&&RP(t.y,e.y)}function _P(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function PB(t,e){return _P(t.x,e.x)&&_P(t.y,e.y)}function IP(t){return tr(t.x)/tr(t.y)}function BP(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class TV{constructor(){this.members=[]}add(e){$2(this.members,e),e.scheduleRender()}remove(e){if(j2(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const o=this.members[i];if(o.isPresent!==!1){r=o;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function CV(t,e,n){let r="";const i=t.x.translate/e.x,o=t.y.translate/e.y,a=(n==null?void 0:n.z)||0;if((i||o||a)&&(r=`translate3d(${i}px, ${o}px, ${a}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:h,rotate:d,rotateX:g,rotateY:y,skewX:b,skewY:x}=n;h&&(r=`perspective(${h}px) ${r}`),d&&(r+=`rotate(${d}deg) `),g&&(r+=`rotateX(${g}deg) `),y&&(r+=`rotateY(${y}deg) `),b&&(r+=`skewX(${b}deg) `),x&&(r+=`skewY(${x}deg) `)}const l=t.x.scale*e.x,f=t.y.scale*e.y;return(l!==1||f!==1)&&(r+=`scale(${l}, ${f})`),r||"none"}const ex=["","X","Y","Z"],OV=1e3;let DV=0;function tx(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function NB(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=gB(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:o}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Ot,!(i||o))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&NB(r)}function RB({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(a={},l=e==null?void 0:e()){this.id=DV++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(RV),this.nodes.forEach(MV),this.nodes.forEach(kV),this.nodes.forEach(_V)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new gV)}addEventListener(a,l){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new V2),this.eventHandlers.get(a).add(l)}notifyListeners(a,...l){const f=this.eventHandlers.get(a);f&&f.notify(...l)}hasListeners(a){return this.eventHandlers.has(a)}mount(a){if(this.instance)return;this.isSVG=G4(a)&&!wF(a),this.instance=a;const{layoutId:l,layout:f,visualElement:h}=this.options;if(h&&!h.current&&h.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(f||l)&&(this.isLayoutDirty=!0),t){let d,g=0;const y=()=>this.root.updateBlockedByResize=!1;Ot.read(()=>{g=window.innerWidth}),t(a,()=>{const b=window.innerWidth;b!==g&&(g=b,this.root.updateBlockedByResize=!0,d&&d(),d=mV(y,250),E0.hasAnimatedSinceResize&&(E0.hasAnimatedSinceResize=!1,this.nodes.forEach(UP)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&h&&(l||f)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:g,hasRelativeLayoutChanged:y,layout:b})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||h.getDefaultTransition()||FV,{onLayoutAnimationStart:w,onLayoutAnimationComplete:E}=h.getProps(),A=!this.targetLayout||!PB(this.targetLayout,b),C=!g&&y;if(this.options.layoutRoot||this.resumeFrom||C||g&&(A||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const S={...nS(x,"layout"),onPlay:w,onComplete:E};(h.shouldReduceMotion||this.options.layoutRoot)&&(S.delay=0,S.type=!1),this.startAnimation(S),this.setAnimationOrigin(d,C)}else g||UP(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=b})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),gc(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(UV),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&NB(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const g=this.path[d];g.shouldResetTransform=!0,g.updateScroll("snapshot"),g.options.layoutRoot&&g.willUpdate(!1)}const{layoutId:l,layout:f}=this.options;if(l===void 0&&!f)return;const h=this.getTransformTemplate();this.prevTransformTemplateValue=h?h(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(MP);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(kP);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(BV),this.nodes.forEach(PV),this.nodes.forEach(NV)):this.nodes.forEach(kP),this.clearAllSnapshots();const l=Cr.now();On.delta=Fo(0,1e3/60,l-On.timestamp),On.timestamp=l,On.isProcessing=!0,V1.update.process(On),V1.preRender.process(On),V1.render.process(On),On.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,iS.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(IV),this.sharedNodes.forEach(LV)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ot.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ot.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!tr(this.snapshot.measuredBox.x)&&!tr(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=jt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(l=!1),l&&this.instance){const f=r(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:f,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!i)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!DB(this.projectionDelta),f=this.getTransformTemplate(),h=f?f(this.latestValues,""):void 0,d=h!==this.prevTransformTemplateValue;a&&this.instance&&(l||Jc(this.latestValues)||d)&&(i(this.instance,h),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const l=this.measurePageBox();let f=this.removeElementScroll(l);return a&&(f=this.removeTransform(f)),zV(f),{animationId:this.root.animationId,measuredBox:l,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){var h;const{visualElement:a}=this.options;if(!a)return jt();const l=a.measureViewportBox();if(!(((h=this.scroll)==null?void 0:h.wasRoot)||this.path.some(VV))){const{scroll:d}=this.root;d&&(Df(l.x,d.offset.x),Df(l.y,d.offset.y))}return l}removeElementScroll(a){var f;const l=jt();if(fi(l,a),(f=this.scroll)!=null&&f.wasRoot)return l;for(let h=0;h<this.path.length;h++){const d=this.path[h],{scroll:g,options:y}=d;d!==this.root&&g&&y.layoutScroll&&(g.wasRoot&&fi(l,a),Df(l.x,g.offset.x),Df(l.y,g.offset.y))}return l}applyTransform(a,l=!1){const f=jt();fi(f,a);for(let h=0;h<this.path.length;h++){const d=this.path[h];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Pf(f,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Jc(d.latestValues)&&Pf(f,d.latestValues)}return Jc(this.latestValues)&&Pf(f,this.latestValues),f}removeTransform(a){const l=jt();fi(l,a);for(let f=0;f<this.path.length;f++){const h=this.path[f];if(!h.instance||!Jc(h.latestValues))continue;$E(h.latestValues)&&h.updateSnapshot();const d=jt(),g=h.measurePageBox();fi(d,g),PP(l,h.latestValues,h.snapshot?h.snapshot.layoutBox:void 0,d)}return Jc(this.latestValues)&&PP(l,this.latestValues),l}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==On.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var y;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const f=!!this.resumingFrom||this!==l;if(!(a||f&&this.isSharedProjectionDirty||this.isProjectionDirty||(y=this.parent)!=null&&y.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:g}=this.options;if(!(!this.layout||!(d||g))){if(this.resolvedRelativeTargetAt=On.timestamp,!this.targetDelta&&!this.relativeTarget){const b=this.getClosestProjectingParent();b&&b.layout&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=jt(),this.relativeTargetOrigin=jt(),qp(this.relativeTargetOrigin,this.layout.layoutBox,b.layout.layoutBox),fi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=jt(),this.targetWithTransforms=jt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Yz(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):fi(this.target,this.layout.layoutBox),lB(this.target,this.targetDelta)):fi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const b=this.getClosestProjectingParent();b&&!!b.resumingFrom==!!this.resumingFrom&&!b.options.layoutScroll&&b.target&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=jt(),this.relativeTargetOrigin=jt(),qp(this.relativeTargetOrigin,this.target,b.target),fi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||$E(this.parent.latestValues)||cB(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var x;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let f=!0;if((this.isProjectionDirty||(x=this.parent)!=null&&x.isProjectionDirty)&&(f=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(f=!1),this.resolvedRelativeTargetAt===On.timestamp&&(f=!1),f)return;const{layout:h,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||d))return;fi(this.layoutCorrected,this.layout.layoutBox);const g=this.treeScale.x,y=this.treeScale.y;az(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=jt());const{target:b}=a;if(!b){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(CP(this.prevProjectionDelta.x,this.projectionDelta.x),CP(this.prevProjectionDelta.y,this.projectionDelta.y)),Hp(this.projectionDelta,this.layoutCorrected,b,this.latestValues),(this.treeScale.x!==g||this.treeScale.y!==y||!BP(this.projectionDelta.x,this.prevProjectionDelta.x)||!BP(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",b))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){var l;if((l=this.options.visualElement)==null||l.scheduleRender(),a){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Nf(),this.projectionDelta=Nf(),this.projectionDeltaWithTransform=Nf()}setAnimationOrigin(a,l=!1){const f=this.snapshot,h=f?f.latestValues:{},d={...this.latestValues},g=Nf();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const y=jt(),b=f?f.source:void 0,x=this.layout?this.layout.source:void 0,w=b!==x,E=this.getStack(),A=!E||E.members.length<=1,C=!!(w&&!A&&this.options.crossfade===!0&&!this.path.some(jV));this.animationProgress=0;let S;this.mixTargetDelta=R=>{const O=R/1e3;LP(g.x,a.x,O),LP(g.y,a.y,O),this.setTargetDelta(g),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(qp(y,this.layout.layoutBox,this.relativeParent.layout.layoutBox),$V(this.relativeTarget,this.relativeTargetOrigin,y,O),S&&SV(this.relativeTarget,S)&&(this.isProjectionDirty=!1),S||(S=jt()),fi(S,this.relativeTarget)),w&&(this.animationValues=d,bV(d,h,this.latestValues,O,C,A)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=O},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){var l,f,h;this.notifyListeners("animationStart"),(l=this.currentAnimation)==null||l.stop(),(h=(f=this.resumingFrom)==null?void 0:f.currentAnimation)==null||h.stop(),this.pendingAnimation&&(gc(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ot.update(()=>{E0.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Rh(0)),this.currentAnimation=dV(this.motionValue,[0,1e3],{...a,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),a.onUpdate&&a.onUpdate(d)},onStop:()=>{},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(OV),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:l,target:f,layout:h,latestValues:d}=a;if(!(!l||!f||!h)){if(this!==a&&this.layout&&h&&_B(this.options.animationType,this.layout.layoutBox,h.layoutBox)){f=this.target||jt();const g=tr(this.layout.layoutBox.x);f.x.min=a.target.x.min,f.x.max=f.x.min+g;const y=tr(this.layout.layoutBox.y);f.y.min=a.target.y.min,f.y.max=f.y.min+y}fi(l,f),Pf(l,d),Hp(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(a,l){this.sharedNodes.has(a)||this.sharedNodes.set(a,new TV),this.sharedNodes.get(a).add(l);const h=l.options.initialPromotionConfig;l.promote({transition:h?h.transition:void 0,preserveFollowOpacity:h&&h.shouldPreserveFollowOpacity?h.shouldPreserveFollowOpacity(l):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var l;const{layoutId:a}=this.options;return a?((l=this.getStack())==null?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:a}=this.options;return a?(l=this.getStack())==null?void 0:l.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:l,preserveFollowOpacity:f}={}){const h=this.getStack();h&&h.promote(this,f),a&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let l=!1;const{latestValues:f}=a;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(l=!0),!l)return;const h={};f.z&&tx("z",a,h,this.animationValues);for(let d=0;d<ex.length;d++)tx(`rotate${ex[d]}`,a,h,this.animationValues),tx(`skew${ex[d]}`,a,h,this.animationValues);a.render();for(const d in h)a.setStaticValue(d,h[d]),this.animationValues&&(this.animationValues[d]=h[d]);a.scheduleRender()}applyProjectionStyles(a,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){a.visibility="hidden";return}const f=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,a.visibility="",a.opacity="",a.pointerEvents=x0(l==null?void 0:l.pointerEvents)||"",a.transform=f?f(this.latestValues,""):"none";return}const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){this.options.layoutId&&(a.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,a.pointerEvents=x0(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!Jc(this.latestValues)&&(a.transform=f?f({},""):"none",this.hasProjected=!1);return}a.visibility="";const d=h.animationValues||h.latestValues;this.applyTransformsToTarget();let g=CV(this.projectionDeltaWithTransform,this.treeScale,d);f&&(g=f(d,g)),a.transform=g;const{x:y,y:b}=this.projectionDelta;a.transformOrigin=`${y.origin*100}% ${b.origin*100}% 0`,h.animationValues?a.opacity=h===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:a.opacity=h===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const x in lg){if(d[x]===void 0)continue;const{correct:w,applyTo:E,isCSSVariable:A}=lg[x],C=g==="none"?d[x]:w(d[x],h);if(E){const S=E.length;for(let R=0;R<S;R++)a[E[R]]=C}else A?this.options.visualElement.renderState.vars[x]=C:a[x]=C}this.options.layoutId&&(a.pointerEvents=h===this?x0(l==null?void 0:l.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var l;return(l=a.currentAnimation)==null?void 0:l.stop()}),this.root.nodes.forEach(MP),this.root.sharedNodes.clear()}}}function PV(t){t.updateLayout()}function NV(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:o}=t.options,a=e.source!==t.layout.source;o==="size"?mi(g=>{const y=a?e.measuredBox[g]:e.layoutBox[g],b=tr(y);y.min=r[g].min,y.max=y.min+b}):_B(o,e.layoutBox,r)&&mi(g=>{const y=a?e.measuredBox[g]:e.layoutBox[g],b=tr(r[g]);y.max=y.min+b,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[g].max=t.relativeTarget[g].min+b)});const l=Nf();Hp(l,r,e.layoutBox);const f=Nf();a?Hp(f,t.applyTransform(i,!0),e.measuredBox):Hp(f,r,e.layoutBox);const h=!DB(l);let d=!1;if(!t.resumeFrom){const g=t.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:y,layout:b}=g;if(y&&b){const x=jt();qp(x,e.layoutBox,y.layoutBox);const w=jt();qp(w,r,b.layoutBox),PB(x,w)||(d=!0),g.options.layoutRoot&&(t.relativeTarget=w,t.relativeTargetOrigin=x,t.relativeParent=g)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:f,layoutDelta:l,hasLayoutChanged:h,hasRelativeLayoutChanged:d})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function RV(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function _V(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function IV(t){t.clearSnapshot()}function MP(t){t.clearMeasurements()}function kP(t){t.isLayoutDirty=!1}function BV(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function UP(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function MV(t){t.resolveTargetDelta()}function kV(t){t.calcProjection()}function UV(t){t.resetSkewAndRotation()}function LV(t){t.removeLeadSnapshot()}function LP(t,e,n){t.translate=Nt(e.translate,0,n),t.scale=Nt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function $P(t,e,n,r){t.min=Nt(e.min,n.min,r),t.max=Nt(e.max,n.max,r)}function $V(t,e,n,r){$P(t.x,e.x,n.x,r),$P(t.y,e.y,n.y,r)}function jV(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const FV={duration:.45,ease:[.4,0,.1,1]},jP=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),FP=jP("applewebkit/")&&!jP("chrome/")?Math.round:Pi;function zP(t){t.min=FP(t.min),t.max=FP(t.max)}function zV(t){zP(t.x),zP(t.y)}function _B(t,e,n){return t==="position"||t==="preserve-aspect"&&!Qz(IP(e),IP(n),.2)}function VV(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const HV=RB({attachResizeListener:(t,e)=>ug(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),nx={current:void 0},IB=RB({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!nx.current){const t=new HV({});t.mount(window),t.setOptions({layoutScroll:!0}),nx.current=t}return nx.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),qV={pan:{Feature:lV},drag:{Feature:cV,ProjectionNode:IB,MeasureLayout:TB}};function VP(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,o=r[i];o&&Ot.postRender(()=>o(e,Xg(e)))}class GV extends Sc{mount(){const{current:e}=this.node;e&&(this.unmount=pF(e,(n,r)=>(VP(this.node,r,"Start"),i=>VP(this.node,i,"End"))))}unmount(){}}class KV extends Sc{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Qg(ug(this.node.current,"focus",()=>this.onFocus()),ug(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function HP(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),o=r[i];o&&Ot.postRender(()=>o(e,Xg(e)))}class QV extends Sc{mount(){const{current:e}=this.node;e&&(this.unmount=bF(e,(n,r)=>(HP(this.node,r,"Start"),(i,{success:o})=>HP(this.node,i,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const GE=new WeakMap,rx=new WeakMap,YV=t=>{const e=GE.get(t.target);e&&e(t)},WV=t=>{t.forEach(YV)};function XV({root:t,...e}){const n=t||document;rx.has(n)||rx.set(n,{});const r=rx.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(WV,{root:t,...e})),r[i]}function ZV(t,e,n){const r=XV(e);return GE.set(t,n),r.observe(t),()=>{GE.delete(t),r.unobserve(t)}}const JV={some:0,all:1};class eH extends Sc{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:o}=e,a={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:JV[i]},l=f=>{const{isIntersecting:h}=f;if(this.isInView===h||(this.isInView=h,o&&!h&&this.hasEnteredView))return;h&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",h);const{onViewportEnter:d,onViewportLeave:g}=this.node.getProps(),y=h?d:g;y&&y(f)};return ZV(this.node.current,a,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(tH(e,n))&&this.startObserver()}unmount(){}}function tH({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const nH={inView:{Feature:eH},tap:{Feature:QV},focus:{Feature:KV},hover:{Feature:GV}},rH={layout:{ProjectionNode:IB,MeasureLayout:TB}},iH={...zz,...nH,...qV,...rH},vr=iz(iH,yz);function qP(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function BB(...t){return e=>{let n=!1;const r=t.map(i=>{const o=qP(i,e);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let i=0;i<r.length;i++){const o=r[i];typeof o=="function"?o():qP(t[i],null)}}}}function Rn(...t){return F.useCallback(BB(...t),t)}function fg(t){const e=sH(t),n=F.forwardRef((r,i)=>{const{children:o,...a}=r,l=F.Children.toArray(o),f=l.find(aH);if(f){const h=f.props.children,d=l.map(g=>g===f?F.Children.count(h)>1?F.Children.only(null):F.isValidElement(h)?h.props.children:null:g);return j.jsx(e,{...a,ref:i,children:F.isValidElement(h)?F.cloneElement(h,void 0,d):null})}return j.jsx(e,{...a,ref:i,children:o})});return n.displayName=`${t}.Slot`,n}var MB=fg("Slot");function sH(t){const e=F.forwardRef((n,r)=>{const{children:i,...o}=n;if(F.isValidElement(i)){const a=lH(i),l=cH(o,i.props);return i.type!==F.Fragment&&(l.ref=r?BB(r,a):a),F.cloneElement(i,l)}return F.Children.count(i)>1?F.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var oH=Symbol("radix.slottable");function aH(t){return F.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===oH}function cH(t,e){const n={...e};for(const r in e){const i=t[r],o=e[r];/^on[A-Z]/.test(r)?i&&o?n[r]=(...l)=>{const f=o(...l);return i(...l),f}:i&&(n[r]=i):r==="style"?n[r]={...i,...o}:r==="className"&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...t,...n}}function lH(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function kB(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=kB(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function UB(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=kB(t))&&(r&&(r+=" "),r+=e);return r}const GP=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,KP=UB,LB=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return KP(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:o}=e,a=Object.keys(i).map(h=>{const d=n==null?void 0:n[h],g=o==null?void 0:o[h];if(d===null)return null;const y=GP(d)||GP(g);return i[h][y]}),l=n&&Object.entries(n).reduce((h,d)=>{let[g,y]=d;return y===void 0||(h[g]=y),h},{}),f=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((h,d)=>{let{class:g,className:y,...b}=d;return Object.entries(b).every(x=>{let[w,E]=x;return Array.isArray(E)?E.includes({...o,...l}[w]):{...o,...l}[w]===E})?[...h,g,y]:h},[]);return KP(t,a,f,n==null?void 0:n.class,n==null?void 0:n.className)},mS="-",uH=t=>{const e=hH(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:a=>{const l=a.split(mS);return l[0]===""&&l.length!==1&&l.shift(),$B(l,e)||fH(a)},getConflictingClassGroupIds:(a,l)=>{const f=n[a]||[];return l&&r[a]?[...f,...r[a]]:f}}},$B=(t,e)=>{var a;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?$B(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const o=t.join(mS);return(a=e.validators.find(({validator:l})=>l(o)))==null?void 0:a.classGroupId},QP=/^\[(.+)\]$/,fH=t=>{if(QP.test(t)){const e=QP.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},hH=t=>{const{theme:e,classGroups:n}=t,r={nextPart:new Map,validators:[]};for(const i in n)KE(n[i],r,i,e);return r},KE=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const o=i===""?e:YP(e,i);o.classGroupId=n;return}if(typeof i=="function"){if(dH(i)){KE(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([o,a])=>{KE(a,YP(e,o),n,r)})})},YP=(t,e)=>{let n=t;return e.split(mS).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},dH=t=>t.isThemeGetter,pH=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(o,a)=>{n.set(o,a),e++,e>t&&(e=0,r=n,n=new Map)};return{get(o){let a=n.get(o);if(a!==void 0)return a;if((a=r.get(o))!==void 0)return i(o,a),a},set(o,a){n.has(o)?n.set(o,a):i(o,a)}}},QE="!",YE=":",gH=YE.length,mH=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=i=>{const o=[];let a=0,l=0,f=0,h;for(let x=0;x<i.length;x++){let w=i[x];if(a===0&&l===0){if(w===YE){o.push(i.slice(f,x)),f=x+gH;continue}if(w==="/"){h=x;continue}}w==="["?a++:w==="]"?a--:w==="("?l++:w===")"&&l--}const d=o.length===0?i:i.substring(f),g=yH(d),y=g!==d,b=h&&h>f?h-f:void 0;return{modifiers:o,hasImportantModifier:y,baseClassName:g,maybePostfixModifierPosition:b}};if(e){const i=e+YE,o=r;r=a=>a.startsWith(i)?o(a.substring(i.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:a,maybePostfixModifierPosition:void 0}}if(n){const i=r;r=o=>n({className:o,parseClassName:i})}return r},yH=t=>t.endsWith(QE)?t.substring(0,t.length-1):t.startsWith(QE)?t.substring(1):t,bH=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const i=[];let o=[];return r.forEach(a=>{a[0]==="["||e[a]?(i.push(...o.sort(),a),o=[]):o.push(a)}),i.push(...o.sort()),i}},wH=t=>({cache:pH(t.cacheSize),parseClassName:mH(t),sortModifiers:bH(t),...uH(t)}),vH=/\s+/,xH=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i,sortModifiers:o}=e,a=[],l=t.trim().split(vH);let f="";for(let h=l.length-1;h>=0;h-=1){const d=l[h],{isExternal:g,modifiers:y,hasImportantModifier:b,baseClassName:x,maybePostfixModifierPosition:w}=n(d);if(g){f=d+(f.length>0?" "+f:f);continue}let E=!!w,A=r(E?x.substring(0,w):x);if(!A){if(!E){f=d+(f.length>0?" "+f:f);continue}if(A=r(x),!A){f=d+(f.length>0?" "+f:f);continue}E=!1}const C=o(y).join(":"),S=b?C+QE:C,R=S+A;if(a.includes(R))continue;a.push(R);const O=i(A,E);for(let P=0;P<O.length;++P){const M=O[P];a.push(S+M)}f=d+(f.length>0?" "+f:f)}return f};function EH(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=jB(e))&&(r&&(r+=" "),r+=n);return r}const jB=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=jB(t[r]))&&(n&&(n+=" "),n+=e);return n};function AH(t,...e){let n,r,i,o=a;function a(f){const h=e.reduce((d,g)=>g(d),t());return n=wH(h),r=n.cache.get,i=n.cache.set,o=l,l(f)}function l(f){const h=r(f);if(h)return h;const d=xH(f,n);return i(f,d),d}return function(){return o(EH.apply(null,arguments))}}const tn=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},FB=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,zB=/^\((?:(\w[\w-]*):)?(.+)\)$/i,SH=/^\d+\/\d+$/,TH=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,CH=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,OH=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,DH=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,PH=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Wu=t=>SH.test(t),ze=t=>!!t&&!Number.isNaN(Number(t)),Ea=t=>!!t&&Number.isInteger(Number(t)),ix=t=>t.endsWith("%")&&ze(t.slice(0,-1)),fo=t=>TH.test(t),NH=()=>!0,RH=t=>CH.test(t)&&!OH.test(t),VB=()=>!1,_H=t=>DH.test(t),IH=t=>PH.test(t),BH=t=>!De(t)&&!Pe(t),MH=t=>Kh(t,GB,VB),De=t=>FB.test(t),Qc=t=>Kh(t,KB,RH),sx=t=>Kh(t,jH,ze),WP=t=>Kh(t,HB,VB),kH=t=>Kh(t,qB,IH),ky=t=>Kh(t,QB,_H),Pe=t=>zB.test(t),up=t=>Qh(t,KB),UH=t=>Qh(t,FH),XP=t=>Qh(t,HB),LH=t=>Qh(t,GB),$H=t=>Qh(t,qB),Uy=t=>Qh(t,QB,!0),Kh=(t,e,n)=>{const r=FB.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},Qh=(t,e,n=!1)=>{const r=zB.exec(t);return r?r[1]?e(r[1]):n:!1},HB=t=>t==="position"||t==="percentage",qB=t=>t==="image"||t==="url",GB=t=>t==="length"||t==="size"||t==="bg-size",KB=t=>t==="length",jH=t=>t==="number",FH=t=>t==="family-name",QB=t=>t==="shadow",zH=()=>{const t=tn("color"),e=tn("font"),n=tn("text"),r=tn("font-weight"),i=tn("tracking"),o=tn("leading"),a=tn("breakpoint"),l=tn("container"),f=tn("spacing"),h=tn("radius"),d=tn("shadow"),g=tn("inset-shadow"),y=tn("text-shadow"),b=tn("drop-shadow"),x=tn("blur"),w=tn("perspective"),E=tn("aspect"),A=tn("ease"),C=tn("animate"),S=()=>["auto","avoid","all","avoid-page","page","left","right","column"],R=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],O=()=>[...R(),Pe,De],P=()=>["auto","hidden","clip","visible","scroll"],M=()=>["auto","contain","none"],I=()=>[Pe,De,f],k=()=>[Wu,"full","auto",...I()],z=()=>[Ea,"none","subgrid",Pe,De],V=()=>["auto",{span:["full",Ea,Pe,De]},Ea,Pe,De],G=()=>[Ea,"auto",Pe,De],Z=()=>["auto","min","max","fr",Pe,De],Y=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],D=()=>["start","end","center","stretch","center-safe","end-safe"],T=()=>["auto",...I()],U=()=>[Wu,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...I()],$=()=>[t,Pe,De],H=()=>[...R(),XP,WP,{position:[Pe,De]}],_=()=>["no-repeat",{repeat:["","x","y","space","round"]}],K=()=>["auto","cover","contain",LH,MH,{size:[Pe,De]}],te=()=>[ix,up,Qc],X=()=>["","none","full",h,Pe,De],ne=()=>["",ze,up,Qc],fe=()=>["solid","dashed","dotted","double"],ue=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],he=()=>[ze,ix,XP,WP],ye=()=>["","none",x,Pe,De],ve=()=>["none",ze,Pe,De],Ce=()=>["none",ze,Pe,De],Ne=()=>[ze,Pe,De],_e=()=>[Wu,"full",...I()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[fo],breakpoint:[fo],color:[NH],container:[fo],"drop-shadow":[fo],ease:["in","out","in-out"],font:[BH],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[fo],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[fo],shadow:[fo],spacing:["px",ze],text:[fo],"text-shadow":[fo],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Wu,De,Pe,E]}],container:["container"],columns:[{columns:[ze,De,Pe,l]}],"break-after":[{"break-after":S()}],"break-before":[{"break-before":S()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:O()}],overflow:[{overflow:P()}],"overflow-x":[{"overflow-x":P()}],"overflow-y":[{"overflow-y":P()}],overscroll:[{overscroll:M()}],"overscroll-x":[{"overscroll-x":M()}],"overscroll-y":[{"overscroll-y":M()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:k()}],"inset-x":[{"inset-x":k()}],"inset-y":[{"inset-y":k()}],start:[{start:k()}],end:[{end:k()}],top:[{top:k()}],right:[{right:k()}],bottom:[{bottom:k()}],left:[{left:k()}],visibility:["visible","invisible","collapse"],z:[{z:[Ea,"auto",Pe,De]}],basis:[{basis:[Wu,"full","auto",l,...I()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[ze,Wu,"auto","initial","none",De]}],grow:[{grow:["",ze,Pe,De]}],shrink:[{shrink:["",ze,Pe,De]}],order:[{order:[Ea,"first","last","none",Pe,De]}],"grid-cols":[{"grid-cols":z()}],"col-start-end":[{col:V()}],"col-start":[{"col-start":G()}],"col-end":[{"col-end":G()}],"grid-rows":[{"grid-rows":z()}],"row-start-end":[{row:V()}],"row-start":[{"row-start":G()}],"row-end":[{"row-end":G()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":Z()}],"auto-rows":[{"auto-rows":Z()}],gap:[{gap:I()}],"gap-x":[{"gap-x":I()}],"gap-y":[{"gap-y":I()}],"justify-content":[{justify:[...Y(),"normal"]}],"justify-items":[{"justify-items":[...D(),"normal"]}],"justify-self":[{"justify-self":["auto",...D()]}],"align-content":[{content:["normal",...Y()]}],"align-items":[{items:[...D(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...D(),{baseline:["","last"]}]}],"place-content":[{"place-content":Y()}],"place-items":[{"place-items":[...D(),"baseline"]}],"place-self":[{"place-self":["auto",...D()]}],p:[{p:I()}],px:[{px:I()}],py:[{py:I()}],ps:[{ps:I()}],pe:[{pe:I()}],pt:[{pt:I()}],pr:[{pr:I()}],pb:[{pb:I()}],pl:[{pl:I()}],m:[{m:T()}],mx:[{mx:T()}],my:[{my:T()}],ms:[{ms:T()}],me:[{me:T()}],mt:[{mt:T()}],mr:[{mr:T()}],mb:[{mb:T()}],ml:[{ml:T()}],"space-x":[{"space-x":I()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":I()}],"space-y-reverse":["space-y-reverse"],size:[{size:U()}],w:[{w:[l,"screen",...U()]}],"min-w":[{"min-w":[l,"screen","none",...U()]}],"max-w":[{"max-w":[l,"screen","none","prose",{screen:[a]},...U()]}],h:[{h:["screen","lh",...U()]}],"min-h":[{"min-h":["screen","lh","none",...U()]}],"max-h":[{"max-h":["screen","lh",...U()]}],"font-size":[{text:["base",n,up,Qc]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Pe,sx]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",ix,De]}],"font-family":[{font:[UH,De,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,Pe,De]}],"line-clamp":[{"line-clamp":[ze,"none",Pe,sx]}],leading:[{leading:[o,...I()]}],"list-image":[{"list-image":["none",Pe,De]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Pe,De]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:$()}],"text-color":[{text:$()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...fe(),"wavy"]}],"text-decoration-thickness":[{decoration:[ze,"from-font","auto",Pe,Qc]}],"text-decoration-color":[{decoration:$()}],"underline-offset":[{"underline-offset":[ze,"auto",Pe,De]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:I()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Pe,De]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Pe,De]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:H()}],"bg-repeat":[{bg:_()}],"bg-size":[{bg:K()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Ea,Pe,De],radial:["",Pe,De],conic:[Ea,Pe,De]},$H,kH]}],"bg-color":[{bg:$()}],"gradient-from-pos":[{from:te()}],"gradient-via-pos":[{via:te()}],"gradient-to-pos":[{to:te()}],"gradient-from":[{from:$()}],"gradient-via":[{via:$()}],"gradient-to":[{to:$()}],rounded:[{rounded:X()}],"rounded-s":[{"rounded-s":X()}],"rounded-e":[{"rounded-e":X()}],"rounded-t":[{"rounded-t":X()}],"rounded-r":[{"rounded-r":X()}],"rounded-b":[{"rounded-b":X()}],"rounded-l":[{"rounded-l":X()}],"rounded-ss":[{"rounded-ss":X()}],"rounded-se":[{"rounded-se":X()}],"rounded-ee":[{"rounded-ee":X()}],"rounded-es":[{"rounded-es":X()}],"rounded-tl":[{"rounded-tl":X()}],"rounded-tr":[{"rounded-tr":X()}],"rounded-br":[{"rounded-br":X()}],"rounded-bl":[{"rounded-bl":X()}],"border-w":[{border:ne()}],"border-w-x":[{"border-x":ne()}],"border-w-y":[{"border-y":ne()}],"border-w-s":[{"border-s":ne()}],"border-w-e":[{"border-e":ne()}],"border-w-t":[{"border-t":ne()}],"border-w-r":[{"border-r":ne()}],"border-w-b":[{"border-b":ne()}],"border-w-l":[{"border-l":ne()}],"divide-x":[{"divide-x":ne()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ne()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...fe(),"hidden","none"]}],"divide-style":[{divide:[...fe(),"hidden","none"]}],"border-color":[{border:$()}],"border-color-x":[{"border-x":$()}],"border-color-y":[{"border-y":$()}],"border-color-s":[{"border-s":$()}],"border-color-e":[{"border-e":$()}],"border-color-t":[{"border-t":$()}],"border-color-r":[{"border-r":$()}],"border-color-b":[{"border-b":$()}],"border-color-l":[{"border-l":$()}],"divide-color":[{divide:$()}],"outline-style":[{outline:[...fe(),"none","hidden"]}],"outline-offset":[{"outline-offset":[ze,Pe,De]}],"outline-w":[{outline:["",ze,up,Qc]}],"outline-color":[{outline:$()}],shadow:[{shadow:["","none",d,Uy,ky]}],"shadow-color":[{shadow:$()}],"inset-shadow":[{"inset-shadow":["none",g,Uy,ky]}],"inset-shadow-color":[{"inset-shadow":$()}],"ring-w":[{ring:ne()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:$()}],"ring-offset-w":[{"ring-offset":[ze,Qc]}],"ring-offset-color":[{"ring-offset":$()}],"inset-ring-w":[{"inset-ring":ne()}],"inset-ring-color":[{"inset-ring":$()}],"text-shadow":[{"text-shadow":["none",y,Uy,ky]}],"text-shadow-color":[{"text-shadow":$()}],opacity:[{opacity:[ze,Pe,De]}],"mix-blend":[{"mix-blend":[...ue(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ue()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[ze]}],"mask-image-linear-from-pos":[{"mask-linear-from":he()}],"mask-image-linear-to-pos":[{"mask-linear-to":he()}],"mask-image-linear-from-color":[{"mask-linear-from":$()}],"mask-image-linear-to-color":[{"mask-linear-to":$()}],"mask-image-t-from-pos":[{"mask-t-from":he()}],"mask-image-t-to-pos":[{"mask-t-to":he()}],"mask-image-t-from-color":[{"mask-t-from":$()}],"mask-image-t-to-color":[{"mask-t-to":$()}],"mask-image-r-from-pos":[{"mask-r-from":he()}],"mask-image-r-to-pos":[{"mask-r-to":he()}],"mask-image-r-from-color":[{"mask-r-from":$()}],"mask-image-r-to-color":[{"mask-r-to":$()}],"mask-image-b-from-pos":[{"mask-b-from":he()}],"mask-image-b-to-pos":[{"mask-b-to":he()}],"mask-image-b-from-color":[{"mask-b-from":$()}],"mask-image-b-to-color":[{"mask-b-to":$()}],"mask-image-l-from-pos":[{"mask-l-from":he()}],"mask-image-l-to-pos":[{"mask-l-to":he()}],"mask-image-l-from-color":[{"mask-l-from":$()}],"mask-image-l-to-color":[{"mask-l-to":$()}],"mask-image-x-from-pos":[{"mask-x-from":he()}],"mask-image-x-to-pos":[{"mask-x-to":he()}],"mask-image-x-from-color":[{"mask-x-from":$()}],"mask-image-x-to-color":[{"mask-x-to":$()}],"mask-image-y-from-pos":[{"mask-y-from":he()}],"mask-image-y-to-pos":[{"mask-y-to":he()}],"mask-image-y-from-color":[{"mask-y-from":$()}],"mask-image-y-to-color":[{"mask-y-to":$()}],"mask-image-radial":[{"mask-radial":[Pe,De]}],"mask-image-radial-from-pos":[{"mask-radial-from":he()}],"mask-image-radial-to-pos":[{"mask-radial-to":he()}],"mask-image-radial-from-color":[{"mask-radial-from":$()}],"mask-image-radial-to-color":[{"mask-radial-to":$()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":R()}],"mask-image-conic-pos":[{"mask-conic":[ze]}],"mask-image-conic-from-pos":[{"mask-conic-from":he()}],"mask-image-conic-to-pos":[{"mask-conic-to":he()}],"mask-image-conic-from-color":[{"mask-conic-from":$()}],"mask-image-conic-to-color":[{"mask-conic-to":$()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:H()}],"mask-repeat":[{mask:_()}],"mask-size":[{mask:K()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Pe,De]}],filter:[{filter:["","none",Pe,De]}],blur:[{blur:ye()}],brightness:[{brightness:[ze,Pe,De]}],contrast:[{contrast:[ze,Pe,De]}],"drop-shadow":[{"drop-shadow":["","none",b,Uy,ky]}],"drop-shadow-color":[{"drop-shadow":$()}],grayscale:[{grayscale:["",ze,Pe,De]}],"hue-rotate":[{"hue-rotate":[ze,Pe,De]}],invert:[{invert:["",ze,Pe,De]}],saturate:[{saturate:[ze,Pe,De]}],sepia:[{sepia:["",ze,Pe,De]}],"backdrop-filter":[{"backdrop-filter":["","none",Pe,De]}],"backdrop-blur":[{"backdrop-blur":ye()}],"backdrop-brightness":[{"backdrop-brightness":[ze,Pe,De]}],"backdrop-contrast":[{"backdrop-contrast":[ze,Pe,De]}],"backdrop-grayscale":[{"backdrop-grayscale":["",ze,Pe,De]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[ze,Pe,De]}],"backdrop-invert":[{"backdrop-invert":["",ze,Pe,De]}],"backdrop-opacity":[{"backdrop-opacity":[ze,Pe,De]}],"backdrop-saturate":[{"backdrop-saturate":[ze,Pe,De]}],"backdrop-sepia":[{"backdrop-sepia":["",ze,Pe,De]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":I()}],"border-spacing-x":[{"border-spacing-x":I()}],"border-spacing-y":[{"border-spacing-y":I()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Pe,De]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[ze,"initial",Pe,De]}],ease:[{ease:["linear","initial",A,Pe,De]}],delay:[{delay:[ze,Pe,De]}],animate:[{animate:["none",C,Pe,De]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[w,Pe,De]}],"perspective-origin":[{"perspective-origin":O()}],rotate:[{rotate:ve()}],"rotate-x":[{"rotate-x":ve()}],"rotate-y":[{"rotate-y":ve()}],"rotate-z":[{"rotate-z":ve()}],scale:[{scale:Ce()}],"scale-x":[{"scale-x":Ce()}],"scale-y":[{"scale-y":Ce()}],"scale-z":[{"scale-z":Ce()}],"scale-3d":["scale-3d"],skew:[{skew:Ne()}],"skew-x":[{"skew-x":Ne()}],"skew-y":[{"skew-y":Ne()}],transform:[{transform:[Pe,De,"","none","gpu","cpu"]}],"transform-origin":[{origin:O()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:_e()}],"translate-x":[{"translate-x":_e()}],"translate-y":[{"translate-y":_e()}],"translate-z":[{"translate-z":_e()}],"translate-none":["translate-none"],accent:[{accent:$()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:$()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Pe,De]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":I()}],"scroll-mx":[{"scroll-mx":I()}],"scroll-my":[{"scroll-my":I()}],"scroll-ms":[{"scroll-ms":I()}],"scroll-me":[{"scroll-me":I()}],"scroll-mt":[{"scroll-mt":I()}],"scroll-mr":[{"scroll-mr":I()}],"scroll-mb":[{"scroll-mb":I()}],"scroll-ml":[{"scroll-ml":I()}],"scroll-p":[{"scroll-p":I()}],"scroll-px":[{"scroll-px":I()}],"scroll-py":[{"scroll-py":I()}],"scroll-ps":[{"scroll-ps":I()}],"scroll-pe":[{"scroll-pe":I()}],"scroll-pt":[{"scroll-pt":I()}],"scroll-pr":[{"scroll-pr":I()}],"scroll-pb":[{"scroll-pb":I()}],"scroll-pl":[{"scroll-pl":I()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Pe,De]}],fill:[{fill:["none",...$()]}],"stroke-w":[{stroke:[ze,up,Qc,sx]}],stroke:[{stroke:["none",...$()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},VH=AH(zH);function Qn(...t){return VH(UB(t))}const HH=LB("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function zt({className:t,variant:e,size:n,asChild:r=!1,...i}){const o=r?MB:"button";return j.jsx(o,{"data-slot":"button",className:Qn(HH({variant:e,size:n,className:t})),...i})}function Ms({className:t,...e}){return j.jsx("div",{"data-slot":"card",className:Qn("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",t),...e})}function cc({className:t,...e}){return j.jsx("div",{"data-slot":"card-header",className:Qn("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...e})}function lc({className:t,...e}){return j.jsx("div",{"data-slot":"card-title",className:Qn("leading-none font-semibold",t),...e})}function Gp({className:t,...e}){return j.jsx("div",{"data-slot":"card-description",className:Qn("text-muted-foreground text-sm",t),...e})}function ks({className:t,...e}){return j.jsx("div",{"data-slot":"card-content",className:Qn("px-6",t),...e})}function hg({className:t,type:e,...n}){return j.jsx("input",{type:e,"data-slot":"input",className:Qn("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...n})}var Zg=t4();const qH=Kg(Zg);var GH=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Rt=GH.reduce((t,e)=>{const n=fg(`Primitive.${e}`),r=F.forwardRef((i,o)=>{const{asChild:a,...l}=i,f=a?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),j.jsx(f,{...l,ref:o})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function KH(t,e){t&&Zg.flushSync(()=>t.dispatchEvent(e))}var QH="Label",YB=F.forwardRef((t,e)=>j.jsx(Rt.label,{...t,ref:e,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));YB.displayName=QH;var YH=YB;function yS({className:t,...e}){return j.jsx(YH,{"data-slot":"label",className:Qn("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...e})}const WH=LB("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function bS({className:t,variant:e,asChild:n=!1,...r}){const i=n?MB:"span";return j.jsx(i,{"data-slot":"badge",className:Qn(WH({variant:e}),t),...r})}var XH="Separator",ZP="horizontal",ZH=["horizontal","vertical"],WB=F.forwardRef((t,e)=>{const{decorative:n,orientation:r=ZP,...i}=t,o=JH(r)?r:ZP,l=n?{role:"none"}:{"aria-orientation":o==="vertical"?o:void 0,role:"separator"};return j.jsx(Rt.div,{"data-orientation":o,...l,...i,ref:e})});WB.displayName=XH;function JH(t){return ZH.includes(t)}var eq=WB;function XB({className:t,orientation:e="horizontal",decorative:n=!0,...r}){return j.jsx(eq,{"data-slot":"separator-root",decorative:n,orientation:e,className:Qn("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",t),...r})}/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tq=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),nq=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),JP=t=>{const e=nq(t);return e.charAt(0).toUpperCase()+e.slice(1)},ZB=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),rq=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var iq={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sq=F.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:o,iconNode:a,...l},f)=>F.createElement("svg",{ref:f,...iq,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:ZB("lucide",i),...!o&&!rq(l)&&{"aria-hidden":"true"},...l},[...a.map(([h,d])=>F.createElement(h,d)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ut=(t,e)=>{const n=F.forwardRef(({className:r,...i},o)=>F.createElement(sq,{ref:o,iconNode:e,className:ZB(`lucide-${tq(JP(t))}`,`lucide-${t}`,r),...i}));return n.displayName=JP(t),n};/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oq=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],aq=Ut("calendar",oq);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cq=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],lq=Ut("check",cq);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uq=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],JB=Ut("chevron-down",uq);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fq=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],hq=Ut("chevron-up",fq);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dq=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["line",{x1:"21.17",x2:"12",y1:"8",y2:"8",key:"a0cw5f"}],["line",{x1:"3.95",x2:"8.54",y1:"6.06",y2:"14",key:"1kftof"}],["line",{x1:"10.88",x2:"15.46",y1:"21.94",y2:"14",key:"1ymyh8"}]],pq=Ut("chrome",dq);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gq=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],mq=Ut("circle-alert",gq);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yq=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],wS=Ut("circle-check-big",yq);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bq=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],e6=Ut("clock",bq);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wq=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],vq=Ut("copy",wq);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xq=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],Eq=Ut("external-link",xq);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aq=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],eN=Ut("link",Aq);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sq=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],uc=Ut("loader-circle",Sq);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tq=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]],Cq=Ut("lock-open",Tq);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oq=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Dq=Ut("lock",Oq);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pq=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],Nq=Ut("log-out",Pq);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rq=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],_q=Ut("plus",Rq);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iq=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],Ly=Ut("rocket",Iq);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bq=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Mq=Ut("send",Bq);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kq=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Uq=Ut("shield",kq);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lq=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],$q=Ut("smartphone",Lq);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jq=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Fq=Ut("users",jq);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zq=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],t6=Ut("wallet",zq),Vq="6.15.0";function Hq(t,e,n){const r=e.split("|").map(o=>o.trim());for(let o=0;o<r.length;o++)switch(e){case"any":return;case"bigint":case"boolean":case"number":case"string":if(typeof t===e)return}const i=new Error(`invalid value for type ${e}`);throw i.code="INVALID_ARGUMENT",i.argument=`value.${n}`,i.value=t,i}async function Jn(t){const e=Object.keys(t);return(await Promise.all(e.map(r=>Promise.resolve(t[r])))).reduce((r,i,o)=>(r[e[o]]=i,r),{})}function Me(t,e,n){for(let r in e){let i=e[r];const o=n?n[r]:null;o&&Hq(i,o,r),Object.defineProperty(t,r,{enumerable:!0,value:i,writable:!1})}}function Rf(t,e){if(t==null)return"null";if(e==null&&(e=new Set),typeof t=="object"){if(e.has(t))return"[Circular]";e.add(t)}if(Array.isArray(t))return"[ "+t.map(n=>Rf(n,e)).join(", ")+" ]";if(t instanceof Uint8Array){const n="0123456789abcdef";let r="0x";for(let i=0;i<t.length;i++)r+=n[t[i]>>4],r+=n[t[i]&15];return r}if(typeof t=="object"&&typeof t.toJSON=="function")return Rf(t.toJSON(),e);switch(typeof t){case"boolean":case"number":case"symbol":return t.toString();case"bigint":return BigInt(t).toString();case"string":return JSON.stringify(t);case"object":{const n=Object.keys(t);return n.sort(),"{ "+n.map(r=>`${Rf(r,e)}: ${Rf(t[r],e)}`).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function Pn(t,e){return t&&t.code===e}function vS(t){return Pn(t,"CALL_EXCEPTION")}function Ct(t,e,n){let r=t;{const o=[];if(n){if("message"in n||"code"in n||"name"in n)throw new Error(`value will overwrite populated values: ${Rf(n)}`);for(const a in n){if(a==="shortMessage")continue;const l=n[a];o.push(a+"="+Rf(l))}}o.push(`code=${e}`),o.push(`version=${Vq}`),o.length&&(t+=" ("+o.join(", ")+")")}let i;switch(e){case"INVALID_ARGUMENT":i=new TypeError(t);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":i=new RangeError(t);break;default:i=new Error(t)}return Me(i,{code:e}),n&&Object.assign(i,n),i.shortMessage==null&&Me(i,{shortMessage:r}),i}function me(t,e,n,r){if(!t)throw Ct(e,n,r)}function J(t,e,n,r){me(t,e,"INVALID_ARGUMENT",{argument:n,value:r})}function n6(t,e,n){n==null&&(n=""),n&&(n=": "+n),me(t>=e,"missing argument"+n,"MISSING_ARGUMENT",{count:t,expectedCount:e}),me(t<=e,"too many arguments"+n,"UNEXPECTED_ARGUMENT",{count:t,expectedCount:e})}["NFD","NFC","NFKD","NFKC"].reduce((t,e)=>{try{if("test".normalize(e)!=="test")throw new Error("bad");if(e==="NFD"&&"é".normalize("NFD")!=="é")throw new Error("broken");t.push(e)}catch{}return t},[]);function Lb(t,e,n){if(n==null&&(n=""),t!==e){let r=n,i="new";n&&(r+=".",i+=" "+n),me(!1,`private constructor; use ${r}from* methods`,"UNSUPPORTED_OPERATION",{operation:i})}}function r6(t,e,n){if(t instanceof Uint8Array)return n?new Uint8Array(t):t;if(typeof t=="string"&&t.match(/^0x(?:[0-9a-f][0-9a-f])*$/i)){const r=new Uint8Array((t.length-2)/2);let i=2;for(let o=0;o<r.length;o++)r[o]=parseInt(t.substring(i,i+2),16),i+=2;return r}J(!1,"invalid BytesLike value",e||"value",t)}function qe(t,e){return r6(t,e,!1)}function er(t,e){return r6(t,e,!0)}function Et(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||typeof e=="number"&&t.length!==2+2*e||e===!0&&t.length%2!==0)}function xS(t){return Et(t,!0)||t instanceof Uint8Array}const tN="0123456789abcdef";function Ae(t){const e=qe(t);let n="0x";for(let r=0;r<e.length;r++){const i=e[r];n+=tN[(i&240)>>4]+tN[i&15]}return n}function kt(t){return"0x"+t.map(e=>Ae(e).substring(2)).join("")}function jf(t){return Et(t,!0)?(t.length-2)/2:qe(t).length}function Mt(t,e,n){const r=qe(t);return n!=null&&n>r.length&&me(!1,"cannot slice beyond data bounds","BUFFER_OVERRUN",{buffer:r,length:r.length,offset:n}),Ae(r.slice(e??0,n??r.length))}function i6(t,e,n){const r=qe(t);me(e>=r.length,"padding exceeds data length","BUFFER_OVERRUN",{buffer:new Uint8Array(r),length:e,offset:e+1});const i=new Uint8Array(e);return i.fill(0),n?i.set(r,e-r.length):i.set(r,0),Ae(i)}function Vo(t,e){return i6(t,e,!0)}function qq(t,e){return i6(t,e,!1)}const $b=BigInt(0),Zi=BigInt(1),_f=9007199254740991;function Gq(t,e){const n=jb(t,"value"),r=BigInt(Ge(e,"width"));if(me(n>>r===$b,"overflow","NUMERIC_FAULT",{operation:"fromTwos",fault:"overflow",value:t}),n>>r-Zi){const i=(Zi<<r)-Zi;return-((~n&i)+Zi)}return n}function s6(t,e){let n=Te(t,"value");const r=BigInt(Ge(e,"width")),i=Zi<<r-Zi;if(n<$b){n=-n,me(n<=i,"too low","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:t});const o=(Zi<<r)-Zi;return(~n&o)+Zi}else me(n<i,"too high","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:t});return n}function Rp(t,e){const n=jb(t,"value"),r=BigInt(Ge(e,"bits"));return n&(Zi<<r)-Zi}function Te(t,e){switch(typeof t){case"bigint":return t;case"number":return J(Number.isInteger(t),"underflow",e||"value",t),J(t>=-_f&&t<=_f,"overflow",e||"value",t),BigInt(t);case"string":try{if(t==="")throw new Error("empty string");return t[0]==="-"&&t[1]!=="-"?-BigInt(t.substring(1)):BigInt(t)}catch(n){J(!1,`invalid BigNumberish string: ${n.message}`,e||"value",t)}}J(!1,"invalid BigNumberish value",e||"value",t)}function jb(t,e){const n=Te(t,e);return me(n>=$b,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:t}),n}const nN="0123456789abcdef";function ES(t){if(t instanceof Uint8Array){let e="0x0";for(const n of t)e+=nN[n>>4],e+=nN[n&15];return BigInt(e)}return Te(t)}function Ge(t,e){switch(typeof t){case"bigint":return J(t>=-_f&&t<=_f,"overflow",e||"value",t),Number(t);case"number":return J(Number.isInteger(t),"underflow",e||"value",t),J(t>=-_f&&t<=_f,"overflow",e||"value",t),t;case"string":try{if(t==="")throw new Error("empty string");return Ge(BigInt(t),e)}catch(n){J(!1,`invalid numeric string: ${n.message}`,e||"value",t)}}J(!1,"invalid numeric value",e||"value",t)}function Kq(t){return Ge(ES(t))}function yc(t,e){let r=jb(t,"value").toString(16);if(e==null)r.length%2&&(r="0"+r);else{const i=Ge(e,"width");for(me(i*2>=r.length,`value exceeds width (${i} bytes)`,"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:t});r.length<i*2;)r="0"+r}return"0x"+r}function an(t){const e=jb(t,"value");if(e===$b)return new Uint8Array([]);let n=e.toString(16);n.length%2&&(n="0"+n);const r=new Uint8Array(n.length/2);for(let i=0;i<r.length;i++){const o=i*2;r[i]=parseInt(n.substring(o,o+2),16)}return r}function Xi(t){let e=Ae(xS(t)?t:an(t)).substring(2);for(;e.startsWith("0");)e=e.substring(1);return e===""&&(e="0"),"0x"+e}const rN="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";BigInt(0);const iN=BigInt(58);function Qq(t){const e=qe(t);let n=ES(e),r="";for(;n;)r=rN[Number(n%iN)]+r,n/=iN;for(let i=0;i<e.length&&!e[i];i++)r=rN[0]+r;return r}function Yq(t){t=atob(t);const e=new Uint8Array(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return qe(e)}function Wq(t){const e=qe(t);let n="";for(let r=0;r<e.length;r++)n+=String.fromCharCode(e[r]);return btoa(n)}var qf;class o6{constructor(e,n,r){se(this,"filter");se(this,"emitter");ce(this,qf);q(this,qf,n),Me(this,{emitter:e,filter:r})}async removeListener(){B(this,qf)!=null&&await this.emitter.off(this.filter,B(this,qf))}}qf=new WeakMap;function Xq(t,e,n,r,i){J(!1,`invalid codepoint at offset ${e}; ${t}`,"bytes",n)}function a6(t,e,n,r,i){if(t==="BAD_PREFIX"||t==="UNEXPECTED_CONTINUE"){let o=0;for(let a=e+1;a<n.length&&n[a]>>6===2;a++)o++;return o}return t==="OVERRUN"?n.length-e-1:0}function Zq(t,e,n,r,i){return t==="OVERLONG"?(J(typeof i=="number","invalid bad code point for replacement","badCodepoint",i),r.push(i),0):(r.push(65533),a6(t,e,n))}const Jq=Object.freeze({error:Xq,ignore:a6,replace:Zq});function eG(t,e){e==null&&(e=Jq.error);const n=qe(t,"bytes"),r=[];let i=0;for(;i<n.length;){const o=n[i++];if(o>>7===0){r.push(o);continue}let a=null,l=null;if((o&224)===192)a=1,l=127;else if((o&240)===224)a=2,l=2047;else if((o&248)===240)a=3,l=65535;else{(o&192)===128?i+=e("UNEXPECTED_CONTINUE",i-1,n,r):i+=e("BAD_PREFIX",i-1,n,r);continue}if(i-1+a>=n.length){i+=e("OVERRUN",i-1,n,r);continue}let f=o&(1<<8-a-1)-1;for(let h=0;h<a;h++){let d=n[i];if((d&192)!=128){i+=e("MISSING_CONTINUE",i,n,r),f=null;break}f=f<<6|d&63,i++}if(f!==null){if(f>1114111){i+=e("OUT_OF_RANGE",i-1-a,n,r,f);continue}if(f>=55296&&f<=57343){i+=e("UTF16_SURROGATE",i-1-a,n,r,f);continue}if(f<=l){i+=e("OVERLONG",i-1-a,n,r,f);continue}r.push(f)}}return r}function Lo(t,e){J(typeof t=="string","invalid string value","str",t);let n=[];for(let r=0;r<t.length;r++){const i=t.charCodeAt(r);if(i<128)n.push(i);else if(i<2048)n.push(i>>6|192),n.push(i&63|128);else if((i&64512)==55296){r++;const o=t.charCodeAt(r);J(r<t.length&&(o&64512)===56320,"invalid surrogate pair","str",t);const a=65536+((i&1023)<<10)+(o&1023);n.push(a>>18|240),n.push(a>>12&63|128),n.push(a>>6&63|128),n.push(a&63|128)}else n.push(i>>12|224),n.push(i>>6&63|128),n.push(i&63|128)}return new Uint8Array(n)}function tG(t){return t.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function Q0(t,e){return tG(eG(t,e))}function c6(t){async function e(n,r){me(r==null||!r.cancelled,"request cancelled before sending","CANCELLED");const i=n.url.split(":")[0].toLowerCase();me(i==="http"||i==="https",`unsupported protocol ${i}`,"UNSUPPORTED_OPERATION",{info:{protocol:i},operation:"request"}),me(i==="https"||!n.credentials||n.allowInsecureAuthentication,"insecure authorized connections unsupported","UNSUPPORTED_OPERATION",{operation:"request"});let o=null;const a=new AbortController,l=setTimeout(()=>{o=Ct("request timeout","TIMEOUT"),a.abort()},n.timeout);r&&r.addListener(()=>{o=Ct("request cancelled","CANCELLED"),a.abort()});const f=Object.assign({},t,{method:n.method,headers:new Headers(Array.from(n)),body:n.body||void 0,signal:a.signal});let h;try{h=await fetch(n.url,f)}catch(b){throw clearTimeout(l),o||b}clearTimeout(l);const d={};h.headers.forEach((b,x)=>{d[x.toLowerCase()]=b});const g=await h.arrayBuffer(),y=g==null?null:new Uint8Array(g);return{statusCode:h.status,statusMessage:h.statusText,headers:d,body:y}}return e}const nG=12,rG=250;let sN=c6();const iG=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),sG=new RegExp("^ipfs://(ipfs/)?(.*)$","i");let ox=!1;async function l6(t,e){try{const n=t.match(iG);if(!n)throw new Error("invalid data");return new hc(200,"OK",{"content-type":n[1]||"text/plain"},n[2]?Yq(n[3]):aG(n[3]))}catch{return new hc(599,"BAD REQUEST (invalid data: URI)",{},null,new bc(t))}}function u6(t){async function e(n,r){try{const i=n.match(sG);if(!i)throw new Error("invalid link");return new bc(`${t}${i[2]}`)}catch{return new hc(599,"BAD REQUEST (invalid IPFS URI)",{},null,new bc(n))}}return e}const $y={data:l6,ipfs:u6("https://gateway.ipfs.io/ipfs/")},f6=new WeakMap;var vl,qa;class oG{constructor(e){ce(this,vl);ce(this,qa);q(this,vl,[]),q(this,qa,!1),f6.set(e,()=>{if(!B(this,qa)){q(this,qa,!0);for(const n of B(this,vl))setTimeout(()=>{n()},0);q(this,vl,[])}})}addListener(e){me(!B(this,qa),"singal already cancelled","UNSUPPORTED_OPERATION",{operation:"fetchCancelSignal.addCancelListener"}),B(this,vl).push(e)}get cancelled(){return B(this,qa)}checkSignal(){me(!this.cancelled,"cancelled","CANCELLED",{})}}vl=new WeakMap,qa=new WeakMap;function jy(t){if(t==null)throw new Error("missing signal; should not happen");return t.checkSignal(),t}var Gf,Kf,Gi,To,Qf,Yf,gn,qr,Co,xl,El,Al,xs,Ki,Ga,Sl,_p;const Ob=class Ob{constructor(e){ce(this,Sl);ce(this,Gf);ce(this,Kf);ce(this,Gi);ce(this,To);ce(this,Qf);ce(this,Yf);ce(this,gn);ce(this,qr);ce(this,Co);ce(this,xl);ce(this,El);ce(this,Al);ce(this,xs);ce(this,Ki);ce(this,Ga);q(this,Yf,String(e)),q(this,Gf,!1),q(this,Kf,!0),q(this,Gi,{}),q(this,To,""),q(this,Qf,3e5),q(this,Ki,{slotInterval:rG,maxAttempts:nG}),q(this,Ga,null)}get url(){return B(this,Yf)}set url(e){q(this,Yf,String(e))}get body(){return B(this,gn)==null?null:new Uint8Array(B(this,gn))}set body(e){if(e==null)q(this,gn,void 0),q(this,qr,void 0);else if(typeof e=="string")q(this,gn,Lo(e)),q(this,qr,"text/plain");else if(e instanceof Uint8Array)q(this,gn,e),q(this,qr,"application/octet-stream");else if(typeof e=="object")q(this,gn,Lo(JSON.stringify(e))),q(this,qr,"application/json");else throw new Error("invalid body")}hasBody(){return B(this,gn)!=null}get method(){return B(this,To)?B(this,To):this.hasBody()?"POST":"GET"}set method(e){e==null&&(e=""),q(this,To,String(e).toUpperCase())}get headers(){const e=Object.assign({},B(this,Gi));return B(this,Co)&&(e.authorization=`Basic ${Wq(Lo(B(this,Co)))}`),this.allowGzip&&(e["accept-encoding"]="gzip"),e["content-type"]==null&&B(this,qr)&&(e["content-type"]=B(this,qr)),this.body&&(e["content-length"]=String(this.body.length)),e}getHeader(e){return this.headers[e.toLowerCase()]}setHeader(e,n){B(this,Gi)[String(e).toLowerCase()]=String(n)}clearHeaders(){q(this,Gi,{})}[Symbol.iterator](){const e=this.headers,n=Object.keys(e);let r=0;return{next:()=>{if(r<n.length){const i=n[r++];return{value:[i,e[i]],done:!1}}return{value:void 0,done:!0}}}}get credentials(){return B(this,Co)||null}setCredentials(e,n){J(!e.match(/:/),"invalid basic authentication username","username","[REDACTED]"),q(this,Co,`${e}:${n}`)}get allowGzip(){return B(this,Kf)}set allowGzip(e){q(this,Kf,!!e)}get allowInsecureAuthentication(){return!!B(this,Gf)}set allowInsecureAuthentication(e){q(this,Gf,!!e)}get timeout(){return B(this,Qf)}set timeout(e){J(e>=0,"timeout must be non-zero","timeout",e),q(this,Qf,e)}get preflightFunc(){return B(this,xl)||null}set preflightFunc(e){q(this,xl,e)}get processFunc(){return B(this,El)||null}set processFunc(e){q(this,El,e)}get retryFunc(){return B(this,Al)||null}set retryFunc(e){q(this,Al,e)}get getUrlFunc(){return B(this,Ga)||sN}set getUrlFunc(e){q(this,Ga,e)}toString(){return`<FetchRequest method=${JSON.stringify(this.method)} url=${JSON.stringify(this.url)} headers=${JSON.stringify(this.headers)} body=${B(this,gn)?Ae(B(this,gn)):"null"}>`}setThrottleParams(e){e.slotInterval!=null&&(B(this,Ki).slotInterval=e.slotInterval),e.maxAttempts!=null&&(B(this,Ki).maxAttempts=e.maxAttempts)}send(){return me(B(this,xs)==null,"request already sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.send"}),q(this,xs,new oG(this)),xe(this,Sl,_p).call(this,0,oN()+this.timeout,0,this,new hc(0,"",{},null,this))}cancel(){me(B(this,xs)!=null,"request has not been sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.cancel"});const e=f6.get(this);if(!e)throw new Error("missing signal; should not happen");e()}redirect(e){const n=this.url.split(":")[0].toLowerCase(),r=e.split(":")[0].toLowerCase();me(this.method==="GET"&&(n!=="https"||r!=="http")&&e.match(/^https?:/),"unsupported redirect","UNSUPPORTED_OPERATION",{operation:`redirect(${this.method} ${JSON.stringify(this.url)} => ${JSON.stringify(e)})`});const i=new Ob(e);return i.method="GET",i.allowGzip=this.allowGzip,i.timeout=this.timeout,q(i,Gi,Object.assign({},B(this,Gi))),B(this,gn)&&q(i,gn,new Uint8Array(B(this,gn))),q(i,qr,B(this,qr)),i}clone(){const e=new Ob(this.url);return q(e,To,B(this,To)),B(this,gn)&&q(e,gn,B(this,gn)),q(e,qr,B(this,qr)),q(e,Gi,Object.assign({},B(this,Gi))),q(e,Co,B(this,Co)),this.allowGzip&&(e.allowGzip=!0),e.timeout=this.timeout,this.allowInsecureAuthentication&&(e.allowInsecureAuthentication=!0),q(e,xl,B(this,xl)),q(e,El,B(this,El)),q(e,Al,B(this,Al)),q(e,Ki,Object.assign({},B(this,Ki))),q(e,Ga,B(this,Ga)),e}static lockConfig(){ox=!0}static getGateway(e){return $y[e.toLowerCase()]||null}static registerGateway(e,n){if(e=e.toLowerCase(),e==="http"||e==="https")throw new Error(`cannot intercept ${e}; use registerGetUrl`);if(ox)throw new Error("gateways locked");$y[e]=n}static registerGetUrl(e){if(ox)throw new Error("gateways locked");sN=e}static createGetUrlFunc(e){return c6(e)}static createDataGateway(){return l6}static createIpfsGatewayFunc(e){return u6(e)}};Gf=new WeakMap,Kf=new WeakMap,Gi=new WeakMap,To=new WeakMap,Qf=new WeakMap,Yf=new WeakMap,gn=new WeakMap,qr=new WeakMap,Co=new WeakMap,xl=new WeakMap,El=new WeakMap,Al=new WeakMap,xs=new WeakMap,Ki=new WeakMap,Ga=new WeakMap,Sl=new WeakSet,_p=async function(e,n,r,i,o){var d,g,y;if(e>=B(this,Ki).maxAttempts)return o.makeServerError("exceeded maximum retry limit");me(oN()<=n,"timeout","TIMEOUT",{operation:"request.send",reason:"timeout",request:i}),r>0&&await cG(r);let a=this.clone();const l=(a.url.split(":")[0]||"").toLowerCase();if(l in $y){const b=await $y[l](a.url,jy(B(i,xs)));if(b instanceof hc){let x=b;if(this.processFunc){jy(B(i,xs));try{x=await this.processFunc(a,x)}catch(w){(w.throttle==null||typeof w.stall!="number")&&x.makeServerError("error in post-processing function",w).assertOk()}}return x}a=b}this.preflightFunc&&(a=await this.preflightFunc(a));const f=await this.getUrlFunc(a,jy(B(i,xs)));let h=new hc(f.statusCode,f.statusMessage,f.headers,f.body,i);if(h.statusCode===301||h.statusCode===302){try{const b=h.headers.location||"";return xe(d=a.redirect(b),Sl,_p).call(d,e+1,n,0,i,h)}catch{}return h}else if(h.statusCode===429&&(this.retryFunc==null||await this.retryFunc(a,h,e))){const b=h.headers["retry-after"];let x=B(this,Ki).slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return typeof b=="string"&&b.match(/^[1-9][0-9]*$/)&&(x=parseInt(b)),xe(g=a.clone(),Sl,_p).call(g,e+1,n,x,i,h)}if(this.processFunc){jy(B(i,xs));try{h=await this.processFunc(a,h)}catch(b){(b.throttle==null||typeof b.stall!="number")&&h.makeServerError("error in post-processing function",b).assertOk();let x=B(this,Ki).slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return b.stall>=0&&(x=b.stall),xe(y=a.clone(),Sl,_p).call(y,e+1,n,x,i,h)}}return h};let bc=Ob;var Mg,kg,Ug,Gr,Wf,Tl;const NT=class NT{constructor(e,n,r,i,o){ce(this,Mg);ce(this,kg);ce(this,Ug);ce(this,Gr);ce(this,Wf);ce(this,Tl);q(this,Mg,e),q(this,kg,n),q(this,Ug,Object.keys(r).reduce((a,l)=>(a[l.toLowerCase()]=String(r[l]),a),{})),q(this,Gr,i==null?null:new Uint8Array(i)),q(this,Wf,o||null),q(this,Tl,{message:""})}toString(){return`<FetchResponse status=${this.statusCode} body=${B(this,Gr)?Ae(B(this,Gr)):"null"}>`}get statusCode(){return B(this,Mg)}get statusMessage(){return B(this,kg)}get headers(){return Object.assign({},B(this,Ug))}get body(){return B(this,Gr)==null?null:new Uint8Array(B(this,Gr))}get bodyText(){try{return B(this,Gr)==null?"":Q0(B(this,Gr))}catch{me(!1,"response body is not valid UTF-8 data","UNSUPPORTED_OPERATION",{operation:"bodyText",info:{response:this}})}}get bodyJson(){try{return JSON.parse(this.bodyText)}catch{me(!1,"response body is not valid JSON","UNSUPPORTED_OPERATION",{operation:"bodyJson",info:{response:this}})}}[Symbol.iterator](){const e=this.headers,n=Object.keys(e);let r=0;return{next:()=>{if(r<n.length){const i=n[r++];return{value:[i,e[i]],done:!1}}return{value:void 0,done:!0}}}}makeServerError(e,n){let r;e?r=`CLIENT ESCALATED SERVER ERROR (${this.statusCode} ${this.statusMessage}; ${e})`:(e=`${this.statusCode} ${this.statusMessage}`,r=`CLIENT ESCALATED SERVER ERROR (${e})`);const i=new NT(599,r,this.headers,this.body,B(this,Wf)||void 0);return q(i,Tl,{message:e,error:n}),i}throwThrottleError(e,n){n==null?n=-1:J(Number.isInteger(n)&&n>=0,"invalid stall timeout","stall",n);const r=new Error(e||"throttling requests");throw Me(r,{stall:n,throttle:!0}),r}getHeader(e){return this.headers[e.toLowerCase()]}hasBody(){return B(this,Gr)!=null}get request(){return B(this,Wf)}ok(){return B(this,Tl).message===""&&this.statusCode>=200&&this.statusCode<300}assertOk(){if(this.ok())return;let{message:e,error:n}=B(this,Tl);e===""&&(e=`server response ${this.statusCode} ${this.statusMessage}`);let r=null;this.request&&(r=this.request.url);let i=null;try{B(this,Gr)&&(i=Q0(B(this,Gr)))}catch{}me(!1,e,"SERVER_ERROR",{request:this.request||"unknown request",response:this,error:n,info:{requestUrl:r,responseBody:i,responseStatus:`${this.statusCode} ${this.statusMessage}`}})}};Mg=new WeakMap,kg=new WeakMap,Ug=new WeakMap,Gr=new WeakMap,Wf=new WeakMap,Tl=new WeakMap;let hc=NT;function oN(){return new Date().getTime()}function aG(t){return Lo(t.replace(/%([0-9a-f][0-9a-f])/gi,(e,n)=>String.fromCharCode(parseInt(n,16))))}function cG(t){return new Promise(e=>setTimeout(e,t))}function lG(t){let e=t.toString(16);for(;e.length<2;)e="0"+e;return"0x"+e}function aN(t,e,n){let r=0;for(let i=0;i<n;i++)r=r*256+t[e+i];return r}function cN(t,e,n,r){const i=[];for(;n<e+1+r;){const o=h6(t,n);i.push(o.result),n+=o.consumed,me(n<=e+1+r,"child data too short","BUFFER_OVERRUN",{buffer:t,length:r,offset:e})}return{consumed:1+r,result:i}}function h6(t,e){me(t.length!==0,"data too short","BUFFER_OVERRUN",{buffer:t,length:0,offset:1});const n=r=>{me(r<=t.length,"data short segment too short","BUFFER_OVERRUN",{buffer:t,length:t.length,offset:r})};if(t[e]>=248){const r=t[e]-247;n(e+1+r);const i=aN(t,e+1,r);return n(e+1+r+i),cN(t,e,e+1+r,r+i)}else if(t[e]>=192){const r=t[e]-192;return n(e+1+r),cN(t,e,e+1,r)}else if(t[e]>=184){const r=t[e]-183;n(e+1+r);const i=aN(t,e+1,r);n(e+1+r+i);const o=Ae(t.slice(e+1+r,e+1+r+i));return{consumed:1+r+i,result:o}}else if(t[e]>=128){const r=t[e]-128;n(e+1+r);const i=Ae(t.slice(e+1,e+1+r));return{consumed:1+r,result:i}}return{consumed:1,result:lG(t[e])}}function Jg(t){const e=qe(t,"data"),n=h6(e,0);return J(n.consumed===e.length,"unexpected junk after rlp payload","data",t),n.result}function lN(t){const e=[];for(;t;)e.unshift(t&255),t>>=8;return e}function d6(t){if(Array.isArray(t)){let r=[];if(t.forEach(function(o){r=r.concat(d6(o))}),r.length<=55)return r.unshift(192+r.length),r;const i=lN(r.length);return i.unshift(247+i.length),i.concat(r)}const e=Array.prototype.slice.call(qe(t,"object"));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const n=lN(e.length);return n.unshift(183+n.length),n.concat(e)}const uN="0123456789abcdef";function wc(t){let e="0x";for(const n of d6(t))e+=uN[n>>4],e+=uN[n&15];return e}const nr=32,WE=new Uint8Array(nr),uG=["then"],Fy={},p6=new WeakMap;function rl(t){return p6.get(t)}function fN(t,e){p6.set(t,e)}function fp(t,e){const n=new Error(`deferred error during ABI decoding triggered accessing ${t}`);throw n.error=e,n}function XE(t,e,n){return t.indexOf(null)>=0?e.map((r,i)=>r instanceof Ih?XE(rl(r),r,n):r):t.reduce((r,i,o)=>{let a=e.getValue(i);return i in r||(n&&a instanceof Ih&&(a=XE(rl(a),a,n)),r[i]=a),r},{})}var Xf;const kf=class kf extends Array{constructor(...n){const r=n[0];let i=n[1],o=(n[2]||[]).slice(),a=!0;r!==Fy&&(i=n,o=[],a=!1);super(i.length);ce(this,Xf);i.forEach((h,d)=>{this[d]=h});const l=o.reduce((h,d)=>(typeof d=="string"&&h.set(d,(h.get(d)||0)+1),h),new Map);if(fN(this,Object.freeze(i.map((h,d)=>{const g=o[d];return g!=null&&l.get(g)===1?g:null}))),q(this,Xf,[]),B(this,Xf)==null&&B(this,Xf),!a)return;Object.freeze(this);const f=new Proxy(this,{get:(h,d,g)=>{if(typeof d=="string"){if(d.match(/^[0-9]+$/)){const b=Ge(d,"%index");if(b<0||b>=this.length)throw new RangeError("out of result range");const x=h[b];return x instanceof Error&&fp(`index ${b}`,x),x}if(uG.indexOf(d)>=0)return Reflect.get(h,d,g);const y=h[d];if(y instanceof Function)return function(...b){return y.apply(this===g?h:this,b)};if(!(d in h))return h.getValue.apply(this===g?h:this,[d])}return Reflect.get(h,d,g)}});return fN(f,rl(this)),f}toArray(n){const r=[];return this.forEach((i,o)=>{i instanceof Error&&fp(`index ${o}`,i),n&&i instanceof kf&&(i=i.toArray(n)),r.push(i)}),r}toObject(n){const r=rl(this);return r.reduce((i,o,a)=>(me(o!=null,`value at index ${a} unnamed`,"UNSUPPORTED_OPERATION",{operation:"toObject()"}),XE(r,this,n)),{})}slice(n,r){n==null&&(n=0),n<0&&(n+=this.length,n<0&&(n=0)),r==null&&(r=this.length),r<0&&(r+=this.length,r<0&&(r=0)),r>this.length&&(r=this.length);const i=rl(this),o=[],a=[];for(let l=n;l<r;l++)o.push(this[l]),a.push(i[l]);return new kf(Fy,o,a)}filter(n,r){const i=rl(this),o=[],a=[];for(let l=0;l<this.length;l++){const f=this[l];f instanceof Error&&fp(`index ${l}`,f),n.call(r,f,l,this)&&(o.push(f),a.push(i[l]))}return new kf(Fy,o,a)}map(n,r){const i=[];for(let o=0;o<this.length;o++){const a=this[o];a instanceof Error&&fp(`index ${o}`,a),i.push(n.call(r,a,o,this))}return i}getValue(n){const r=rl(this).indexOf(n);if(r===-1)return;const i=this[r];return i instanceof Error&&fp(`property ${JSON.stringify(n)}`,i.error),i}static fromItems(n,r){return new kf(Fy,n,r)}};Xf=new WeakMap;let Ih=kf;function hN(t){let e=an(t);return me(e.length<=nr,"value out-of-bounds","BUFFER_OVERRUN",{buffer:e,length:nr,offset:e.length}),e.length!==nr&&(e=er(kt([WE.slice(e.length%nr),e]))),e}class Wo{constructor(e,n,r,i){se(this,"name");se(this,"type");se(this,"localName");se(this,"dynamic");Me(this,{name:e,type:n,localName:r,dynamic:i},{name:"string",type:"string",localName:"string",dynamic:"boolean"})}_throwError(e,n){J(!1,e,this.localName,n)}}var Oo,Cl,Zf,A0;class ZE{constructor(){ce(this,Zf);ce(this,Oo);ce(this,Cl);q(this,Oo,[]),q(this,Cl,0)}get data(){return kt(B(this,Oo))}get length(){return B(this,Cl)}appendWriter(e){return xe(this,Zf,A0).call(this,er(e.data))}writeBytes(e){let n=er(e);const r=n.length%nr;return r&&(n=er(kt([n,WE.slice(r)]))),xe(this,Zf,A0).call(this,n)}writeValue(e){return xe(this,Zf,A0).call(this,hN(e))}writeUpdatableValue(){const e=B(this,Oo).length;return B(this,Oo).push(WE),q(this,Cl,B(this,Cl)+nr),n=>{B(this,Oo)[e]=hN(n)}}}Oo=new WeakMap,Cl=new WeakMap,Zf=new WeakSet,A0=function(e){return B(this,Oo).push(e),q(this,Cl,B(this,Cl)+e.length),e.length};var br,Kr,Ol,Dl,Ka,ru,eA,g6;const RT=class RT{constructor(e,n,r){ce(this,ru);se(this,"allowLoose");ce(this,br);ce(this,Kr);ce(this,Ol);ce(this,Dl);ce(this,Ka);Me(this,{allowLoose:!!n}),q(this,br,er(e)),q(this,Ol,0),q(this,Dl,null),q(this,Ka,r??1024),q(this,Kr,0)}get data(){return Ae(B(this,br))}get dataLength(){return B(this,br).length}get consumed(){return B(this,Kr)}get bytes(){return new Uint8Array(B(this,br))}subReader(e){const n=new RT(B(this,br).slice(B(this,Kr)+e),this.allowLoose,B(this,Ka));return q(n,Dl,this),n}readBytes(e,n){let r=xe(this,ru,g6).call(this,0,e,!!n);return xe(this,ru,eA).call(this,e),q(this,Kr,B(this,Kr)+r.length),r.slice(0,e)}readValue(){return ES(this.readBytes(nr))}readIndex(){return Kq(this.readBytes(nr))}};br=new WeakMap,Kr=new WeakMap,Ol=new WeakMap,Dl=new WeakMap,Ka=new WeakMap,ru=new WeakSet,eA=function(e){var n;if(B(this,Dl))return xe(n=B(this,Dl),ru,eA).call(n,e);q(this,Ol,B(this,Ol)+e),me(B(this,Ka)<1||B(this,Ol)<=B(this,Ka)*this.dataLength,`compressed ABI data exceeds inflation ratio of ${B(this,Ka)} ( see: https://github.com/ethers-io/ethers.js/issues/4537 )`,"BUFFER_OVERRUN",{buffer:er(B(this,br)),offset:B(this,Kr),length:e,info:{bytesRead:B(this,Ol),dataLength:this.dataLength}})},g6=function(e,n,r){let i=Math.ceil(n/nr)*nr;return B(this,Kr)+i>B(this,br).length&&(this.allowLoose&&r&&B(this,Kr)+n<=B(this,br).length?i=n:me(!1,"data out-of-bounds","BUFFER_OVERRUN",{buffer:er(B(this,br)),length:B(this,br).length,offset:B(this,Kr)+i})),B(this,br).slice(B(this,Kr),B(this,Kr)+i)};let JE=RT;function Y0(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function AS(t,...e){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function fG(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Y0(t.outputLen),Y0(t.blockLen)}function Bh(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function m6(t,e){AS(t);const n=e.outputLen;if(t.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const ax=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const y6=t=>t instanceof Uint8Array,hG=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),cx=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),hs=(t,e)=>t<<32-e|t>>>e,dG=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!dG)throw new Error("Non little-endian hardware is not supported");function pG(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function Fb(t){if(typeof t=="string"&&(t=pG(t)),!y6(t))throw new Error(`expected Uint8Array, got ${typeof t}`);return t}function gG(...t){const e=new Uint8Array(t.reduce((r,i)=>r+i.length,0));let n=0;return t.forEach(r=>{if(!y6(r))throw new Error("Uint8Array expected");e.set(r,n),n+=r.length}),e}let SS=class{clone(){return this._cloneInto()}};function TS(t){const e=r=>t().update(Fb(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function mG(t=32){if(ax&&typeof ax.getRandomValues=="function")return ax.getRandomValues(new Uint8Array(t));throw new Error("crypto.getRandomValues must be defined")}class b6 extends SS{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,fG(e);const r=Fb(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,o=new Uint8Array(i);o.set(r.length>i?e.create().update(r).digest():r);for(let a=0;a<o.length;a++)o[a]^=54;this.iHash.update(o),this.oHash=e.create();for(let a=0;a<o.length;a++)o[a]^=106;this.oHash.update(o),o.fill(0)}update(e){return Bh(this),this.iHash.update(e),this}digestInto(e){Bh(this),AS(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:o,blockLen:a,outputLen:l}=this;return e=e,e.finished=i,e.destroyed=o,e.blockLen=a,e.outputLen=l,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const w6=(t,e,n)=>new b6(t,e).update(n).digest();w6.create=(t,e)=>new b6(t,e);function yG(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),o=BigInt(4294967295),a=Number(n>>i&o),l=Number(n&o),f=r?4:0,h=r?0:4;t.setUint32(e+f,a,r),t.setUint32(e+h,l,r)}class v6 extends SS{constructor(e,n,r,i){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=cx(this.buffer)}update(e){Bh(this);const{view:n,buffer:r,blockLen:i}=this;e=Fb(e);const o=e.length;for(let a=0;a<o;){const l=Math.min(i-this.pos,o-a);if(l===i){const f=cx(e);for(;i<=o-a;a+=i)this.process(f,a);continue}r.set(e.subarray(a,a+l),this.pos),this.pos+=l,a+=l,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Bh(this),m6(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:o}=this;let{pos:a}=this;n[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>i-a&&(this.process(r,0),a=0);for(let g=a;g<i;g++)n[g]=0;yG(r,i-8,BigInt(this.length*8),o),this.process(r,0);const l=cx(e),f=this.outputLen;if(f%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const h=f/4,d=this.get();if(h>d.length)throw new Error("_sha2: outputLen bigger than state");for(let g=0;g<h;g++)l.setUint32(4*g,d[g],o)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:o,destroyed:a,pos:l}=this;return e.length=i,e.pos=l,e.finished=o,e.destroyed=a,i%n&&e.buffer.set(r),e}}const bG=(t,e,n)=>t&e^~t&n,wG=(t,e,n)=>t&e^t&n^e&n,vG=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Aa=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Sa=new Uint32Array(64);class xG extends v6{constructor(){super(64,32,8,!1),this.A=Aa[0]|0,this.B=Aa[1]|0,this.C=Aa[2]|0,this.D=Aa[3]|0,this.E=Aa[4]|0,this.F=Aa[5]|0,this.G=Aa[6]|0,this.H=Aa[7]|0}get(){const{A:e,B:n,C:r,D:i,E:o,F:a,G:l,H:f}=this;return[e,n,r,i,o,a,l,f]}set(e,n,r,i,o,a,l,f){this.A=e|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=o|0,this.F=a|0,this.G=l|0,this.H=f|0}process(e,n){for(let g=0;g<16;g++,n+=4)Sa[g]=e.getUint32(n,!1);for(let g=16;g<64;g++){const y=Sa[g-15],b=Sa[g-2],x=hs(y,7)^hs(y,18)^y>>>3,w=hs(b,17)^hs(b,19)^b>>>10;Sa[g]=w+Sa[g-7]+x+Sa[g-16]|0}let{A:r,B:i,C:o,D:a,E:l,F:f,G:h,H:d}=this;for(let g=0;g<64;g++){const y=hs(l,6)^hs(l,11)^hs(l,25),b=d+y+bG(l,f,h)+vG[g]+Sa[g]|0,w=(hs(r,2)^hs(r,13)^hs(r,22))+wG(r,i,o)|0;d=h,h=f,f=l,l=a+b|0,a=o,o=i,i=r,r=b+w|0}r=r+this.A|0,i=i+this.B|0,o=o+this.C|0,a=a+this.D|0,l=l+this.E|0,f=f+this.F|0,h=h+this.G|0,d=d+this.H|0,this.set(r,i,o,a,l,f,h,d)}roundClean(){Sa.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const x6=TS(()=>new xG),zy=BigInt(2**32-1),tA=BigInt(32);function E6(t,e=!1){return e?{h:Number(t&zy),l:Number(t>>tA&zy)}:{h:Number(t>>tA&zy)|0,l:Number(t&zy)|0}}function A6(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:o,l:a}=E6(t[i],e);[n[i],r[i]]=[o,a]}return[n,r]}const EG=(t,e)=>BigInt(t>>>0)<<tA|BigInt(e>>>0),AG=(t,e,n)=>t>>>n,SG=(t,e,n)=>t<<32-n|e>>>n,TG=(t,e,n)=>t>>>n|e<<32-n,CG=(t,e,n)=>t<<32-n|e>>>n,OG=(t,e,n)=>t<<64-n|e>>>n-32,DG=(t,e,n)=>t>>>n-32|e<<64-n,PG=(t,e)=>e,NG=(t,e)=>t,S6=(t,e,n)=>t<<n|e>>>32-n,T6=(t,e,n)=>e<<n|t>>>32-n,C6=(t,e,n)=>e<<n-32|t>>>64-n,O6=(t,e,n)=>t<<n-32|e>>>64-n;function RG(t,e,n,r){const i=(e>>>0)+(r>>>0);return{h:t+n+(i/2**32|0)|0,l:i|0}}const _G=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),IG=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,BG=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),MG=(t,e,n,r,i)=>e+n+r+i+(t/2**32|0)|0,kG=(t,e,n,r,i)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(i>>>0),UG=(t,e,n,r,i,o)=>e+n+r+i+o+(t/2**32|0)|0,$e={fromBig:E6,split:A6,toBig:EG,shrSH:AG,shrSL:SG,rotrSH:TG,rotrSL:CG,rotrBH:OG,rotrBL:DG,rotr32H:PG,rotr32L:NG,rotlSH:S6,rotlSL:T6,rotlBH:C6,rotlBL:O6,add:RG,add3L:_G,add3H:IG,add4L:BG,add4H:MG,add5H:UG,add5L:kG},[LG,$G]=$e.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),Ta=new Uint32Array(80),Ca=new Uint32Array(80);class jG extends v6{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:n,Bh:r,Bl:i,Ch:o,Cl:a,Dh:l,Dl:f,Eh:h,El:d,Fh:g,Fl:y,Gh:b,Gl:x,Hh:w,Hl:E}=this;return[e,n,r,i,o,a,l,f,h,d,g,y,b,x,w,E]}set(e,n,r,i,o,a,l,f,h,d,g,y,b,x,w,E){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=i|0,this.Ch=o|0,this.Cl=a|0,this.Dh=l|0,this.Dl=f|0,this.Eh=h|0,this.El=d|0,this.Fh=g|0,this.Fl=y|0,this.Gh=b|0,this.Gl=x|0,this.Hh=w|0,this.Hl=E|0}process(e,n){for(let S=0;S<16;S++,n+=4)Ta[S]=e.getUint32(n),Ca[S]=e.getUint32(n+=4);for(let S=16;S<80;S++){const R=Ta[S-15]|0,O=Ca[S-15]|0,P=$e.rotrSH(R,O,1)^$e.rotrSH(R,O,8)^$e.shrSH(R,O,7),M=$e.rotrSL(R,O,1)^$e.rotrSL(R,O,8)^$e.shrSL(R,O,7),I=Ta[S-2]|0,k=Ca[S-2]|0,z=$e.rotrSH(I,k,19)^$e.rotrBH(I,k,61)^$e.shrSH(I,k,6),V=$e.rotrSL(I,k,19)^$e.rotrBL(I,k,61)^$e.shrSL(I,k,6),G=$e.add4L(M,V,Ca[S-7],Ca[S-16]),Z=$e.add4H(G,P,z,Ta[S-7],Ta[S-16]);Ta[S]=Z|0,Ca[S]=G|0}let{Ah:r,Al:i,Bh:o,Bl:a,Ch:l,Cl:f,Dh:h,Dl:d,Eh:g,El:y,Fh:b,Fl:x,Gh:w,Gl:E,Hh:A,Hl:C}=this;for(let S=0;S<80;S++){const R=$e.rotrSH(g,y,14)^$e.rotrSH(g,y,18)^$e.rotrBH(g,y,41),O=$e.rotrSL(g,y,14)^$e.rotrSL(g,y,18)^$e.rotrBL(g,y,41),P=g&b^~g&w,M=y&x^~y&E,I=$e.add5L(C,O,M,$G[S],Ca[S]),k=$e.add5H(I,A,R,P,LG[S],Ta[S]),z=I|0,V=$e.rotrSH(r,i,28)^$e.rotrBH(r,i,34)^$e.rotrBH(r,i,39),G=$e.rotrSL(r,i,28)^$e.rotrBL(r,i,34)^$e.rotrBL(r,i,39),Z=r&o^r&l^o&l,Y=i&a^i&f^a&f;A=w|0,C=E|0,w=b|0,E=x|0,b=g|0,x=y|0,{h:g,l:y}=$e.add(h|0,d|0,k|0,z|0),h=l|0,d=f|0,l=o|0,f=a|0,o=r|0,a=i|0;const D=$e.add3L(z,G,Y);r=$e.add3H(D,k,V,Z),i=D|0}({h:r,l:i}=$e.add(this.Ah|0,this.Al|0,r|0,i|0)),{h:o,l:a}=$e.add(this.Bh|0,this.Bl|0,o|0,a|0),{h:l,l:f}=$e.add(this.Ch|0,this.Cl|0,l|0,f|0),{h,l:d}=$e.add(this.Dh|0,this.Dl|0,h|0,d|0),{h:g,l:y}=$e.add(this.Eh|0,this.El|0,g|0,y|0),{h:b,l:x}=$e.add(this.Fh|0,this.Fl|0,b|0,x|0),{h:w,l:E}=$e.add(this.Gh|0,this.Gl|0,w|0,E|0),{h:A,l:C}=$e.add(this.Hh|0,this.Hl|0,A|0,C|0),this.set(r,i,o,a,l,f,h,d,g,y,b,x,w,E,A,C)}roundClean(){Ta.fill(0),Ca.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const FG=TS(()=>new jG);function zG(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}const dN=zG();dN.crypto||dN.msCrypto;function VG(t){switch(t){case"sha256":return x6.create();case"sha512":return FG.create()}J(!1,"invalid hashing algorithm name","algorithm",t)}const[D6,P6,N6]=[[],[],[]],HG=BigInt(0),hp=BigInt(1),qG=BigInt(2),GG=BigInt(7),KG=BigInt(256),QG=BigInt(113);for(let t=0,e=hp,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],D6.push(2*(5*r+n)),P6.push((t+1)*(t+2)/2%64);let i=HG;for(let o=0;o<7;o++)e=(e<<hp^(e>>GG)*QG)%KG,e&qG&&(i^=hp<<(hp<<BigInt(o))-hp);N6.push(i)}const[YG,WG]=A6(N6,!0),pN=(t,e,n)=>n>32?C6(t,e,n):S6(t,e,n),gN=(t,e,n)=>n>32?O6(t,e,n):T6(t,e,n);function XG(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let a=0;a<10;a++)n[a]=t[a]^t[a+10]^t[a+20]^t[a+30]^t[a+40];for(let a=0;a<10;a+=2){const l=(a+8)%10,f=(a+2)%10,h=n[f],d=n[f+1],g=pN(h,d,1)^n[l],y=gN(h,d,1)^n[l+1];for(let b=0;b<50;b+=10)t[a+b]^=g,t[a+b+1]^=y}let i=t[2],o=t[3];for(let a=0;a<24;a++){const l=P6[a],f=pN(i,o,l),h=gN(i,o,l),d=D6[a];i=t[d],o=t[d+1],t[d]=f,t[d+1]=h}for(let a=0;a<50;a+=10){for(let l=0;l<10;l++)n[l]=t[a+l];for(let l=0;l<10;l++)t[a+l]^=~n[(l+2)%10]&n[(l+4)%10]}t[0]^=YG[r],t[1]^=WG[r]}n.fill(0)}let ZG=class R6 extends SS{constructor(e,n,r,i=!1,o=24){if(super(),this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=i,this.rounds=o,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,Y0(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=hG(this.state)}keccak(){XG(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){Bh(this);const{blockLen:n,state:r}=this;e=Fb(e);const i=e.length;for(let o=0;o<i;){const a=Math.min(n-this.pos,i-o);for(let l=0;l<a;l++)r[this.pos++]^=e[o++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:i}=this;e[r]^=n,(n&128)!==0&&r===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){Bh(this,!1),AS(e),this.finish();const n=this.state,{blockLen:r}=this;for(let i=0,o=e.length;i<o;){this.posOut>=r&&this.keccak();const a=Math.min(r-this.posOut,o-i);e.set(n.subarray(this.posOut,this.posOut+a),i),this.posOut+=a,i+=a}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Y0(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(m6(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:i,rounds:o,enableXOF:a}=this;return e||(e=new R6(n,r,i,a,o)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=o,e.suffix=r,e.outputLen=i,e.enableXOF=a,e.destroyed=this.destroyed,e}};const JG=(t,e,n)=>TS(()=>new ZG(e,t,n)),eK=JG(1,136,256/8);let _6=!1;const I6=function(t){return eK(t)};let B6=I6;function Zt(t){const e=qe(t,"data");return Ae(B6(e))}Zt._=I6;Zt.lock=function(){_6=!0};Zt.register=function(t){if(_6)throw new TypeError("keccak256 is locked");B6=t};Object.freeze(Zt);const M6=function(t){return VG("sha256").update(t).digest()};let k6=M6,U6=!1;function Yh(t){const e=qe(t,"data");return Ae(k6(e))}Yh._=M6;Yh.lock=function(){U6=!0};Yh.register=function(t){if(U6)throw new Error("sha256 is locked");k6=t};Object.freeze(Yh);Object.freeze(Yh);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const L6=BigInt(0),zb=BigInt(1),tK=BigInt(2),Vb=t=>t instanceof Uint8Array,nK=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Mh(t){if(!Vb(t))throw new Error("Uint8Array expected");let e="";for(let n=0;n<t.length;n++)e+=nK[t[n]];return e}function $6(t){const e=t.toString(16);return e.length&1?`0${e}`:e}function CS(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return BigInt(t===""?"0":`0x${t}`)}function kh(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const n=new Uint8Array(e/2);for(let r=0;r<n.length;r++){const i=r*2,o=t.slice(i,i+2),a=Number.parseInt(o,16);if(Number.isNaN(a)||a<0)throw new Error("Invalid byte sequence");n[r]=a}return n}function zl(t){return CS(Mh(t))}function OS(t){if(!Vb(t))throw new Error("Uint8Array expected");return CS(Mh(Uint8Array.from(t).reverse()))}function Uh(t,e){return kh(t.toString(16).padStart(e*2,"0"))}function DS(t,e){return Uh(t,e).reverse()}function rK(t){return kh($6(t))}function qi(t,e,n){let r;if(typeof e=="string")try{r=kh(e)}catch(o){throw new Error(`${t} must be valid hex string, got "${e}". Cause: ${o}`)}else if(Vb(e))r=Uint8Array.from(e);else throw new Error(`${t} must be hex string or Uint8Array`);const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(`${t} expected ${n} bytes, got ${i}`);return r}function dg(...t){const e=new Uint8Array(t.reduce((r,i)=>r+i.length,0));let n=0;return t.forEach(r=>{if(!Vb(r))throw new Error("Uint8Array expected");e.set(r,n),n+=r.length}),e}function iK(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function sK(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function oK(t){let e;for(e=0;t>L6;t>>=zb,e+=1);return e}function aK(t,e){return t>>BigInt(e)&zb}const cK=(t,e,n)=>t|(n?zb:L6)<<BigInt(e),PS=t=>(tK<<BigInt(t-1))-zb,lx=t=>new Uint8Array(t),mN=t=>Uint8Array.from(t);function j6(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=lx(t),i=lx(t),o=0;const a=()=>{r.fill(1),i.fill(0),o=0},l=(...g)=>n(i,r,...g),f=(g=lx())=>{i=l(mN([0]),g),r=l(),g.length!==0&&(i=l(mN([1]),g),r=l())},h=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let g=0;const y=[];for(;g<e;){r=l();const b=r.slice();y.push(b),g+=r.length}return dg(...y)};return(g,y)=>{a(),f(g);let b;for(;!(b=y(h()));)f();return a(),b}}const lK={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||t instanceof Uint8Array,isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function em(t,e,n={}){const r=(i,o,a)=>{const l=lK[o];if(typeof l!="function")throw new Error(`Invalid validator "${o}", expected function`);const f=t[i];if(!(a&&f===void 0)&&!l(f,t))throw new Error(`Invalid param ${String(i)}=${f} (${typeof f}), expected ${o}`)};for(const[i,o]of Object.entries(e))r(i,o,!1);for(const[i,o]of Object.entries(n))r(i,o,!0);return t}const uK=Object.freeze(Object.defineProperty({__proto__:null,bitGet:aK,bitLen:oK,bitMask:PS,bitSet:cK,bytesToHex:Mh,bytesToNumberBE:zl,bytesToNumberLE:OS,concatBytes:dg,createHmacDrbg:j6,ensureBytes:qi,equalBytes:iK,hexToBytes:kh,hexToNumber:CS,numberToBytesBE:Uh,numberToBytesLE:DS,numberToHexUnpadded:$6,numberToVarBytesBE:rK,utf8ToBytes:sK,validateObject:em},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const yn=BigInt(0),Ht=BigInt(1),il=BigInt(2),fK=BigInt(3),nA=BigInt(4),yN=BigInt(5),bN=BigInt(8);BigInt(9);BigInt(16);function Er(t,e){const n=t%e;return n>=yn?n:e+n}function hK(t,e,n){if(n<=yn||e<yn)throw new Error("Expected power/modulo > 0");if(n===Ht)return yn;let r=Ht;for(;e>yn;)e&Ht&&(r=r*t%n),t=t*t%n,e>>=Ht;return r}function hi(t,e,n){let r=t;for(;e-- >yn;)r*=r,r%=n;return r}function rA(t,e){if(t===yn||e<=yn)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let n=Er(t,e),r=e,i=yn,o=Ht;for(;n!==yn;){const l=r/n,f=r%n,h=i-o*l;r=n,n=f,i=o,o=h}if(r!==Ht)throw new Error("invert: does not exist");return Er(i,e)}function dK(t){const e=(t-Ht)/il;let n,r,i;for(n=t-Ht,r=0;n%il===yn;n/=il,r++);for(i=il;i<t&&hK(i,e,t)!==t-Ht;i++);if(r===1){const a=(t+Ht)/nA;return function(f,h){const d=f.pow(h,a);if(!f.eql(f.sqr(d),h))throw new Error("Cannot find square root");return d}}const o=(n+Ht)/il;return function(l,f){if(l.pow(f,e)===l.neg(l.ONE))throw new Error("Cannot find square root");let h=r,d=l.pow(l.mul(l.ONE,i),n),g=l.pow(f,o),y=l.pow(f,n);for(;!l.eql(y,l.ONE);){if(l.eql(y,l.ZERO))return l.ZERO;let b=1;for(let w=l.sqr(y);b<h&&!l.eql(w,l.ONE);b++)w=l.sqr(w);const x=l.pow(d,Ht<<BigInt(h-b-1));d=l.sqr(x),g=l.mul(g,x),y=l.mul(y,d),h=b}return g}}function pK(t){if(t%nA===fK){const e=(t+Ht)/nA;return function(r,i){const o=r.pow(i,e);if(!r.eql(r.sqr(o),i))throw new Error("Cannot find square root");return o}}if(t%bN===yN){const e=(t-yN)/bN;return function(r,i){const o=r.mul(i,il),a=r.pow(o,e),l=r.mul(i,a),f=r.mul(r.mul(l,il),a),h=r.mul(l,r.sub(f,r.ONE));if(!r.eql(r.sqr(h),i))throw new Error("Cannot find square root");return h}}return dK(t)}const gK=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function mK(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=gK.reduce((r,i)=>(r[i]="function",r),e);return em(t,n)}function yK(t,e,n){if(n<yn)throw new Error("Expected power > 0");if(n===yn)return t.ONE;if(n===Ht)return e;let r=t.ONE,i=e;for(;n>yn;)n&Ht&&(r=t.mul(r,i)),i=t.sqr(i),n>>=Ht;return r}function bK(t,e){const n=new Array(e.length),r=e.reduce((o,a,l)=>t.is0(a)?o:(n[l]=o,t.mul(o,a)),t.ONE),i=t.inv(r);return e.reduceRight((o,a,l)=>t.is0(a)?o:(n[l]=t.mul(o,n[l]),t.mul(o,a)),i),n}function F6(t,e){const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function wK(t,e,n=!1,r={}){if(t<=yn)throw new Error(`Expected Field ORDER > 0, got ${t}`);const{nBitLength:i,nByteLength:o}=F6(t,e);if(o>2048)throw new Error("Field lengths over 2048 bytes are not supported");const a=pK(t),l=Object.freeze({ORDER:t,BITS:i,BYTES:o,MASK:PS(i),ZERO:yn,ONE:Ht,create:f=>Er(f,t),isValid:f=>{if(typeof f!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof f}`);return yn<=f&&f<t},is0:f=>f===yn,isOdd:f=>(f&Ht)===Ht,neg:f=>Er(-f,t),eql:(f,h)=>f===h,sqr:f=>Er(f*f,t),add:(f,h)=>Er(f+h,t),sub:(f,h)=>Er(f-h,t),mul:(f,h)=>Er(f*h,t),pow:(f,h)=>yK(l,f,h),div:(f,h)=>Er(f*rA(h,t),t),sqrN:f=>f*f,addN:(f,h)=>f+h,subN:(f,h)=>f-h,mulN:(f,h)=>f*h,inv:f=>rA(f,t),sqrt:r.sqrt||(f=>a(l,f)),invertBatch:f=>bK(l,f),cmov:(f,h,d)=>d?h:f,toBytes:f=>n?DS(f,o):Uh(f,o),fromBytes:f=>{if(f.length!==o)throw new Error(`Fp.fromBytes: expected ${o}, got ${f.length}`);return n?OS(f):zl(f)}});return Object.freeze(l)}function z6(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function V6(t){const e=z6(t);return e+Math.ceil(e/2)}function vK(t,e,n=!1){const r=t.length,i=z6(e),o=V6(e);if(r<16||r<o||r>1024)throw new Error(`expected ${o}-1024 bytes of input, got ${r}`);const a=n?zl(t):OS(t),l=Er(a,e-Ht)+Ht;return n?DS(l,i):Uh(l,i)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const xK=BigInt(0),ux=BigInt(1);function EK(t,e){const n=(i,o)=>{const a=o.negate();return i?a:o},r=i=>{const o=Math.ceil(e/i)+1,a=2**(i-1);return{windows:o,windowSize:a}};return{constTimeNegate:n,unsafeLadder(i,o){let a=t.ZERO,l=i;for(;o>xK;)o&ux&&(a=a.add(l)),l=l.double(),o>>=ux;return a},precomputeWindow(i,o){const{windows:a,windowSize:l}=r(o),f=[];let h=i,d=h;for(let g=0;g<a;g++){d=h,f.push(d);for(let y=1;y<l;y++)d=d.add(h),f.push(d);h=d.double()}return f},wNAF(i,o,a){const{windows:l,windowSize:f}=r(i);let h=t.ZERO,d=t.BASE;const g=BigInt(2**i-1),y=2**i,b=BigInt(i);for(let x=0;x<l;x++){const w=x*f;let E=Number(a&g);a>>=b,E>f&&(E-=y,a+=ux);const A=w,C=w+Math.abs(E)-1,S=x%2!==0,R=E<0;E===0?d=d.add(n(S,o[A])):h=h.add(n(R,o[C]))}return{p:h,f:d}},wNAFCached(i,o,a,l){const f=i._WINDOW_SIZE||1;let h=o.get(i);return h||(h=this.precomputeWindow(i,f),f!==1&&o.set(i,l(h))),this.wNAF(f,h,a)}}}function H6(t){return mK(t.Fp),em(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...F6(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function AK(t){const e=H6(t);em(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:i}=e;if(n){if(!r.eql(i,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:SK,hexToBytes:TK}=uK,dl={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(t){const{Err:e}=dl;if(t.length<2||t[0]!==2)throw new e("Invalid signature integer tag");const n=t[1],r=t.subarray(2,n+2);if(!n||r.length!==n)throw new e("Invalid signature integer: wrong length");if(r[0]&128)throw new e("Invalid signature integer: negative");if(r[0]===0&&!(r[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:SK(r),l:t.subarray(n+2)}},toSig(t){const{Err:e}=dl,n=typeof t=="string"?TK(t):t;if(!(n instanceof Uint8Array))throw new Error("ui8a expected");let r=n.length;if(r<2||n[0]!=48)throw new e("Invalid signature tag");if(n[1]!==r-2)throw new e("Invalid signature: incorrect length");const{d:i,l:o}=dl._parseInt(n.subarray(2)),{d:a,l}=dl._parseInt(o);if(l.length)throw new e("Invalid signature: left bytes after parsing");return{r:i,s:a}},hexFromSig(t){const e=h=>Number.parseInt(h[0],16)&8?"00"+h:h,n=h=>{const d=h.toString(16);return d.length&1?`0${d}`:d},r=e(n(t.s)),i=e(n(t.r)),o=r.length/2,a=i.length/2,l=n(o),f=n(a);return`30${n(a+o+4)}02${f}${i}02${l}${r}`}},ko=BigInt(0),Si=BigInt(1);BigInt(2);const wN=BigInt(3);BigInt(4);function CK(t){const e=AK(t),{Fp:n}=e,r=e.toBytes||((x,w,E)=>{const A=w.toAffine();return dg(Uint8Array.from([4]),n.toBytes(A.x),n.toBytes(A.y))}),i=e.fromBytes||(x=>{const w=x.subarray(1),E=n.fromBytes(w.subarray(0,n.BYTES)),A=n.fromBytes(w.subarray(n.BYTES,2*n.BYTES));return{x:E,y:A}});function o(x){const{a:w,b:E}=e,A=n.sqr(x),C=n.mul(A,x);return n.add(n.add(C,n.mul(x,w)),E)}if(!n.eql(n.sqr(e.Gy),o(e.Gx)))throw new Error("bad generator point: equation left != right");function a(x){return typeof x=="bigint"&&ko<x&&x<e.n}function l(x){if(!a(x))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function f(x){const{allowedPrivateKeyLengths:w,nByteLength:E,wrapPrivateKey:A,n:C}=e;if(w&&typeof x!="bigint"){if(x instanceof Uint8Array&&(x=Mh(x)),typeof x!="string"||!w.includes(x.length))throw new Error("Invalid key");x=x.padStart(E*2,"0")}let S;try{S=typeof x=="bigint"?x:zl(qi("private key",x,E))}catch{throw new Error(`private key must be ${E} bytes, hex or bigint, not ${typeof x}`)}return A&&(S=Er(S,C)),l(S),S}const h=new Map;function d(x){if(!(x instanceof g))throw new Error("ProjectivePoint expected")}class g{constructor(w,E,A){if(this.px=w,this.py=E,this.pz=A,w==null||!n.isValid(w))throw new Error("x required");if(E==null||!n.isValid(E))throw new Error("y required");if(A==null||!n.isValid(A))throw new Error("z required")}static fromAffine(w){const{x:E,y:A}=w||{};if(!w||!n.isValid(E)||!n.isValid(A))throw new Error("invalid affine point");if(w instanceof g)throw new Error("projective point not allowed");const C=S=>n.eql(S,n.ZERO);return C(E)&&C(A)?g.ZERO:new g(E,A,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(w){const E=n.invertBatch(w.map(A=>A.pz));return w.map((A,C)=>A.toAffine(E[C])).map(g.fromAffine)}static fromHex(w){const E=g.fromAffine(i(qi("pointHex",w)));return E.assertValidity(),E}static fromPrivateKey(w){return g.BASE.multiply(f(w))}_setWindowSize(w){this._WINDOW_SIZE=w,h.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint&&!n.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:w,y:E}=this.toAffine();if(!n.isValid(w)||!n.isValid(E))throw new Error("bad point: x or y not FE");const A=n.sqr(E),C=o(w);if(!n.eql(A,C))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:w}=this.toAffine();if(n.isOdd)return!n.isOdd(w);throw new Error("Field doesn't support isOdd")}equals(w){d(w);const{px:E,py:A,pz:C}=this,{px:S,py:R,pz:O}=w,P=n.eql(n.mul(E,O),n.mul(S,C)),M=n.eql(n.mul(A,O),n.mul(R,C));return P&&M}negate(){return new g(this.px,n.neg(this.py),this.pz)}double(){const{a:w,b:E}=e,A=n.mul(E,wN),{px:C,py:S,pz:R}=this;let O=n.ZERO,P=n.ZERO,M=n.ZERO,I=n.mul(C,C),k=n.mul(S,S),z=n.mul(R,R),V=n.mul(C,S);return V=n.add(V,V),M=n.mul(C,R),M=n.add(M,M),O=n.mul(w,M),P=n.mul(A,z),P=n.add(O,P),O=n.sub(k,P),P=n.add(k,P),P=n.mul(O,P),O=n.mul(V,O),M=n.mul(A,M),z=n.mul(w,z),V=n.sub(I,z),V=n.mul(w,V),V=n.add(V,M),M=n.add(I,I),I=n.add(M,I),I=n.add(I,z),I=n.mul(I,V),P=n.add(P,I),z=n.mul(S,R),z=n.add(z,z),I=n.mul(z,V),O=n.sub(O,I),M=n.mul(z,k),M=n.add(M,M),M=n.add(M,M),new g(O,P,M)}add(w){d(w);const{px:E,py:A,pz:C}=this,{px:S,py:R,pz:O}=w;let P=n.ZERO,M=n.ZERO,I=n.ZERO;const k=e.a,z=n.mul(e.b,wN);let V=n.mul(E,S),G=n.mul(A,R),Z=n.mul(C,O),Y=n.add(E,A),D=n.add(S,R);Y=n.mul(Y,D),D=n.add(V,G),Y=n.sub(Y,D),D=n.add(E,C);let T=n.add(S,O);return D=n.mul(D,T),T=n.add(V,Z),D=n.sub(D,T),T=n.add(A,C),P=n.add(R,O),T=n.mul(T,P),P=n.add(G,Z),T=n.sub(T,P),I=n.mul(k,D),P=n.mul(z,Z),I=n.add(P,I),P=n.sub(G,I),I=n.add(G,I),M=n.mul(P,I),G=n.add(V,V),G=n.add(G,V),Z=n.mul(k,Z),D=n.mul(z,D),G=n.add(G,Z),Z=n.sub(V,Z),Z=n.mul(k,Z),D=n.add(D,Z),V=n.mul(G,D),M=n.add(M,V),V=n.mul(T,D),P=n.mul(Y,P),P=n.sub(P,V),V=n.mul(Y,G),I=n.mul(T,I),I=n.add(I,V),new g(P,M,I)}subtract(w){return this.add(w.negate())}is0(){return this.equals(g.ZERO)}wNAF(w){return b.wNAFCached(this,h,w,E=>{const A=n.invertBatch(E.map(C=>C.pz));return E.map((C,S)=>C.toAffine(A[S])).map(g.fromAffine)})}multiplyUnsafe(w){const E=g.ZERO;if(w===ko)return E;if(l(w),w===Si)return this;const{endo:A}=e;if(!A)return b.unsafeLadder(this,w);let{k1neg:C,k1:S,k2neg:R,k2:O}=A.splitScalar(w),P=E,M=E,I=this;for(;S>ko||O>ko;)S&Si&&(P=P.add(I)),O&Si&&(M=M.add(I)),I=I.double(),S>>=Si,O>>=Si;return C&&(P=P.negate()),R&&(M=M.negate()),M=new g(n.mul(M.px,A.beta),M.py,M.pz),P.add(M)}multiply(w){l(w);let E=w,A,C;const{endo:S}=e;if(S){const{k1neg:R,k1:O,k2neg:P,k2:M}=S.splitScalar(E);let{p:I,f:k}=this.wNAF(O),{p:z,f:V}=this.wNAF(M);I=b.constTimeNegate(R,I),z=b.constTimeNegate(P,z),z=new g(n.mul(z.px,S.beta),z.py,z.pz),A=I.add(z),C=k.add(V)}else{const{p:R,f:O}=this.wNAF(E);A=R,C=O}return g.normalizeZ([A,C])[0]}multiplyAndAddUnsafe(w,E,A){const C=g.BASE,S=(O,P)=>P===ko||P===Si||!O.equals(C)?O.multiplyUnsafe(P):O.multiply(P),R=S(this,E).add(S(w,A));return R.is0()?void 0:R}toAffine(w){const{px:E,py:A,pz:C}=this,S=this.is0();w==null&&(w=S?n.ONE:n.inv(C));const R=n.mul(E,w),O=n.mul(A,w),P=n.mul(C,w);if(S)return{x:n.ZERO,y:n.ZERO};if(!n.eql(P,n.ONE))throw new Error("invZ was invalid");return{x:R,y:O}}isTorsionFree(){const{h:w,isTorsionFree:E}=e;if(w===Si)return!0;if(E)return E(g,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:w,clearCofactor:E}=e;return w===Si?this:E?E(g,this):this.multiplyUnsafe(e.h)}toRawBytes(w=!0){return this.assertValidity(),r(g,this,w)}toHex(w=!0){return Mh(this.toRawBytes(w))}}g.BASE=new g(e.Gx,e.Gy,n.ONE),g.ZERO=new g(n.ZERO,n.ONE,n.ZERO);const y=e.nBitLength,b=EK(g,e.endo?Math.ceil(y/2):y);return{CURVE:e,ProjectivePoint:g,normPrivateKeyToScalar:f,weierstrassEquation:o,isWithinCurveOrder:a}}function OK(t){const e=H6(t);return em(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function DK(t){const e=OK(t),{Fp:n,n:r}=e,i=n.BYTES+1,o=2*n.BYTES+1;function a(D){return ko<D&&D<n.ORDER}function l(D){return Er(D,r)}function f(D){return rA(D,r)}const{ProjectivePoint:h,normPrivateKeyToScalar:d,weierstrassEquation:g,isWithinCurveOrder:y}=CK({...e,toBytes(D,T,U){const $=T.toAffine(),H=n.toBytes($.x),_=dg;return U?_(Uint8Array.from([T.hasEvenY()?2:3]),H):_(Uint8Array.from([4]),H,n.toBytes($.y))},fromBytes(D){const T=D.length,U=D[0],$=D.subarray(1);if(T===i&&(U===2||U===3)){const H=zl($);if(!a(H))throw new Error("Point is not on curve");const _=g(H);let K=n.sqrt(_);const te=(K&Si)===Si;return(U&1)===1!==te&&(K=n.neg(K)),{x:H,y:K}}else if(T===o&&U===4){const H=n.fromBytes($.subarray(0,n.BYTES)),_=n.fromBytes($.subarray(n.BYTES,2*n.BYTES));return{x:H,y:_}}else throw new Error(`Point of length ${T} was invalid. Expected ${i} compressed bytes or ${o} uncompressed bytes`)}}),b=D=>Mh(Uh(D,e.nByteLength));function x(D){const T=r>>Si;return D>T}function w(D){return x(D)?l(-D):D}const E=(D,T,U)=>zl(D.slice(T,U));class A{constructor(T,U,$){this.r=T,this.s=U,this.recovery=$,this.assertValidity()}static fromCompact(T){const U=e.nByteLength;return T=qi("compactSignature",T,U*2),new A(E(T,0,U),E(T,U,2*U))}static fromDER(T){const{r:U,s:$}=dl.toSig(qi("DER",T));return new A(U,$)}assertValidity(){if(!y(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!y(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(T){return new A(this.r,this.s,T)}recoverPublicKey(T){const{r:U,s:$,recovery:H}=this,_=M(qi("msgHash",T));if(H==null||![0,1,2,3].includes(H))throw new Error("recovery id invalid");const K=H===2||H===3?U+e.n:U;if(K>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const te=(H&1)===0?"02":"03",X=h.fromHex(te+b(K)),ne=f(K),fe=l(-_*ne),ue=l($*ne),he=h.BASE.multiplyAndAddUnsafe(X,fe,ue);if(!he)throw new Error("point at infinify");return he.assertValidity(),he}hasHighS(){return x(this.s)}normalizeS(){return this.hasHighS()?new A(this.r,l(-this.s),this.recovery):this}toDERRawBytes(){return kh(this.toDERHex())}toDERHex(){return dl.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return kh(this.toCompactHex())}toCompactHex(){return b(this.r)+b(this.s)}}const C={isValidPrivateKey(D){try{return d(D),!0}catch{return!1}},normPrivateKeyToScalar:d,randomPrivateKey:()=>{const D=V6(e.n);return vK(e.randomBytes(D),e.n)},precompute(D=8,T=h.BASE){return T._setWindowSize(D),T.multiply(BigInt(3)),T}};function S(D,T=!0){return h.fromPrivateKey(D).toRawBytes(T)}function R(D){const T=D instanceof Uint8Array,U=typeof D=="string",$=(T||U)&&D.length;return T?$===i||$===o:U?$===2*i||$===2*o:D instanceof h}function O(D,T,U=!0){if(R(D))throw new Error("first arg must be private key");if(!R(T))throw new Error("second arg must be public key");return h.fromHex(T).multiply(d(D)).toRawBytes(U)}const P=e.bits2int||function(D){const T=zl(D),U=D.length*8-e.nBitLength;return U>0?T>>BigInt(U):T},M=e.bits2int_modN||function(D){return l(P(D))},I=PS(e.nBitLength);function k(D){if(typeof D!="bigint")throw new Error("bigint expected");if(!(ko<=D&&D<I))throw new Error(`bigint expected < 2^${e.nBitLength}`);return Uh(D,e.nByteLength)}function z(D,T,U=V){if(["recovered","canonical"].some(ve=>ve in U))throw new Error("sign() legacy options not supported");const{hash:$,randomBytes:H}=e;let{lowS:_,prehash:K,extraEntropy:te}=U;_==null&&(_=!0),D=qi("msgHash",D),K&&(D=qi("prehashed msgHash",$(D)));const X=M(D),ne=d(T),fe=[k(ne),k(X)];if(te!=null){const ve=te===!0?H(n.BYTES):te;fe.push(qi("extraEntropy",ve))}const ue=dg(...fe),he=X;function ye(ve){const Ce=P(ve);if(!y(Ce))return;const Ne=f(Ce),_e=h.BASE.multiply(Ce).toAffine(),Je=l(_e.x);if(Je===ko)return;const ht=l(Ne*l(he+Je*ne));if(ht===ko)return;let cr=(_e.x===Je?0:2)|Number(_e.y&Si),ti=ht;return _&&x(ht)&&(ti=w(ht),cr^=1),new A(Je,ti,cr)}return{seed:ue,k2sig:ye}}const V={lowS:e.lowS,prehash:!1},G={lowS:e.lowS,prehash:!1};function Z(D,T,U=V){const{seed:$,k2sig:H}=z(D,T,U),_=e;return j6(_.hash.outputLen,_.nByteLength,_.hmac)($,H)}h.BASE._setWindowSize(8);function Y(D,T,U,$=G){var _e;const H=D;if(T=qi("msgHash",T),U=qi("publicKey",U),"strict"in $)throw new Error("options.strict was renamed to lowS");const{lowS:_,prehash:K}=$;let te,X;try{if(typeof H=="string"||H instanceof Uint8Array)try{te=A.fromDER(H)}catch(Je){if(!(Je instanceof dl.Err))throw Je;te=A.fromCompact(H)}else if(typeof H=="object"&&typeof H.r=="bigint"&&typeof H.s=="bigint"){const{r:Je,s:ht}=H;te=new A(Je,ht)}else throw new Error("PARSE");X=h.fromHex(U)}catch(Je){if(Je.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(_&&te.hasHighS())return!1;K&&(T=e.hash(T));const{r:ne,s:fe}=te,ue=M(T),he=f(fe),ye=l(ue*he),ve=l(ne*he),Ce=(_e=h.BASE.multiplyAndAddUnsafe(X,ye,ve))==null?void 0:_e.toAffine();return Ce?l(Ce.x)===ne:!1}return{CURVE:e,getPublicKey:S,getSharedSecret:O,sign:Z,verify:Y,ProjectivePoint:h,Signature:A,utils:C}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function PK(t){return{hash:t,hmac:(e,...n)=>w6(t,e,gG(...n)),randomBytes:mG}}function NK(t,e){const n=r=>DK({...t,...PK(r)});return Object.freeze({...n(e),create:n})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const q6=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),vN=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),RK=BigInt(1),iA=BigInt(2),xN=(t,e)=>(t+e/iA)/e;function _K(t){const e=q6,n=BigInt(3),r=BigInt(6),i=BigInt(11),o=BigInt(22),a=BigInt(23),l=BigInt(44),f=BigInt(88),h=t*t*t%e,d=h*h*t%e,g=hi(d,n,e)*d%e,y=hi(g,n,e)*d%e,b=hi(y,iA,e)*h%e,x=hi(b,i,e)*b%e,w=hi(x,o,e)*x%e,E=hi(w,l,e)*w%e,A=hi(E,f,e)*E%e,C=hi(A,l,e)*w%e,S=hi(C,n,e)*d%e,R=hi(S,a,e)*x%e,O=hi(R,r,e)*h%e,P=hi(O,iA,e);if(!sA.eql(sA.sqr(P),t))throw new Error("Cannot find square root");return P}const sA=wK(q6,void 0,void 0,{sqrt:_K}),La=NK({a:BigInt(0),b:BigInt(7),Fp:sA,n:vN,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=vN,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-RK*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=n,a=BigInt("0x100000000000000000000000000000000"),l=xN(o*t,e),f=xN(-r*t,e);let h=Er(t-l*n-f*i,e),d=Er(-l*r-f*o,e);const g=h>a,y=d>a;if(g&&(h=e-h),y&&(d=e-d),h>a||d>a)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:g,k1:h,k2neg:y,k2:d}}}},x6);BigInt(0);La.ProjectivePoint;const pg="0x0000000000000000000000000000000000000000",EN="0x0000000000000000000000000000000000000000000000000000000000000000",AN=BigInt(0),SN=BigInt(1),TN=BigInt(2),CN=BigInt(27),ON=BigInt(28),Vy=BigInt(35),Xu={};function DN(t){return Vo(an(t),32)}var Jf,Es,eh,Pl;const Hi=class Hi{constructor(e,n,r,i){ce(this,Jf);ce(this,Es);ce(this,eh);ce(this,Pl);Lb(e,Xu,"Signature"),q(this,Jf,n),q(this,Es,r),q(this,eh,i),q(this,Pl,null)}get r(){return B(this,Jf)}set r(e){J(jf(e)===32,"invalid r","value",e),q(this,Jf,Ae(e))}get s(){return J(parseInt(B(this,Es).substring(0,3))<8,"non-canonical s; use ._s","s",B(this,Es)),B(this,Es)}set s(e){J(jf(e)===32,"invalid s","value",e),q(this,Es,Ae(e))}get _s(){return B(this,Es)}isValid(){return parseInt(B(this,Es).substring(0,3))<8}get v(){return B(this,eh)}set v(e){const n=Ge(e,"value");J(n===27||n===28,"invalid v","v",e),q(this,eh,n)}get networkV(){return B(this,Pl)}get legacyChainId(){const e=this.networkV;return e==null?null:Hi.getChainId(e)}get yParity(){return this.v===27?0:1}get yParityAndS(){const e=qe(this.s);return this.yParity&&(e[0]|=128),Ae(e)}get compactSerialized(){return kt([this.r,this.yParityAndS])}get serialized(){return kt([this.r,this.s,this.yParity?"0x1c":"0x1b"])}[Symbol.for("nodejs.util.inspect.custom")](){return`Signature { r: "${this.r}", s: "${this._s}"${this.isValid()?"":', valid: "false"'}, yParity: ${this.yParity}, networkV: ${this.networkV} }`}clone(){const e=new Hi(Xu,this.r,this._s,this.v);return this.networkV&&q(e,Pl,this.networkV),e}toJSON(){const e=this.networkV;return{_type:"signature",networkV:e!=null?e.toString():null,r:this.r,s:this._s,v:this.v}}static getChainId(e){const n=Te(e,"v");return n==CN||n==ON?AN:(J(n>=Vy,"invalid EIP-155 v","v",e),(n-Vy)/TN)}static getChainIdV(e,n){return Te(e)*TN+BigInt(35+n-27)}static getNormalizedV(e){const n=Te(e);return n===AN||n===CN?27:n===SN||n===ON?28:(J(n>=Vy,"invalid v","v",e),n&SN?27:28)}static from(e){function n(h,d){J(h,d,"signature",e)}if(e==null)return new Hi(Xu,EN,EN,27);if(typeof e=="string"){const h=qe(e,"signature");if(h.length===64){const d=Ae(h.slice(0,32)),g=h.slice(32,64),y=g[0]&128?28:27;return g[0]&=127,new Hi(Xu,d,Ae(g),y)}if(h.length===65){const d=Ae(h.slice(0,32)),g=Ae(h.slice(32,64)),y=Hi.getNormalizedV(h[64]);return new Hi(Xu,d,g,y)}n(!1,"invalid raw signature length")}if(e instanceof Hi)return e.clone();const r=e.r;n(r!=null,"missing r");const i=DN(r),o=function(h,d){if(h!=null)return DN(h);if(d!=null){n(Et(d,32),"invalid yParityAndS");const g=qe(d);return g[0]&=127,Ae(g)}n(!1,"missing s")}(e.s,e.yParityAndS),{networkV:a,v:l}=function(h,d,g){if(h!=null){const y=Te(h);return{networkV:y>=Vy?y:void 0,v:Hi.getNormalizedV(y)}}if(d!=null)return n(Et(d,32),"invalid yParityAndS"),{v:qe(d)[0]&128?28:27};if(g!=null){switch(Ge(g,"sig.yParity")){case 0:return{v:27};case 1:return{v:28}}n(!1,"invalid yParity")}n(!1,"missing v")}(e.v,e.yParityAndS,e.yParity),f=new Hi(Xu,i,o,l);return a&&q(f,Pl,a),n(e.yParity==null||Ge(e.yParity,"sig.yParity")===f.yParity,"yParity mismatch"),n(e.yParityAndS==null||e.yParityAndS===f.yParityAndS,"yParityAndS mismatch"),f}};Jf=new WeakMap,Es=new WeakMap,eh=new WeakMap,Pl=new WeakMap;let Dr=Hi;var Do;const cl=class cl{constructor(e){ce(this,Do);J(jf(e)===32,"invalid private key","privateKey","[REDACTED]"),q(this,Do,Ae(e))}get privateKey(){return B(this,Do)}get publicKey(){return cl.computePublicKey(B(this,Do))}get compressedPublicKey(){return cl.computePublicKey(B(this,Do),!0)}sign(e){J(jf(e)===32,"invalid digest length","digest",e);const n=La.sign(er(e),er(B(this,Do)),{lowS:!0});return Dr.from({r:yc(n.r,32),s:yc(n.s,32),v:n.recovery?28:27})}computeSharedSecret(e){const n=cl.computePublicKey(e);return Ae(La.getSharedSecret(er(B(this,Do)),qe(n),!1))}static computePublicKey(e,n){let r=qe(e,"key");if(r.length===32){const o=La.getPublicKey(r,!!n);return Ae(o)}if(r.length===64){const o=new Uint8Array(65);o[0]=4,o.set(r,1),r=o}const i=La.ProjectivePoint.fromHex(r);return Ae(i.toRawBytes(n))}static recoverPublicKey(e,n){J(jf(e)===32,"invalid digest length","digest",e);const r=Dr.from(n);let i=La.Signature.fromCompact(er(kt([r.r,r.s])));i=i.addRecoveryBit(r.yParity);const o=i.recoverPublicKey(er(e));return J(o!=null,"invalid signature for digest","signature",n),"0x"+o.toHex(!1)}static addPoints(e,n,r){const i=La.ProjectivePoint.fromHex(cl.computePublicKey(e).substring(2)),o=La.ProjectivePoint.fromHex(cl.computePublicKey(n).substring(2));return"0x"+i.add(o).toHex(!!r)}};Do=new WeakMap;let gg=cl;const IK=BigInt(0),BK=BigInt(36);function PN(t){t=t.toLowerCase();const e=t.substring(2).split(""),n=new Uint8Array(40);for(let i=0;i<40;i++)n[i]=e[i].charCodeAt(0);const r=qe(Zt(n));for(let i=0;i<40;i+=2)r[i>>1]>>4>=8&&(e[i]=e[i].toUpperCase()),(r[i>>1]&15)>=8&&(e[i+1]=e[i+1].toUpperCase());return"0x"+e.join("")}const NS={};for(let t=0;t<10;t++)NS[String(t)]=String(t);for(let t=0;t<26;t++)NS[String.fromCharCode(65+t)]=String(10+t);const NN=15;function MK(t){t=t.toUpperCase(),t=t.substring(4)+t.substring(0,2)+"00";let e=t.split("").map(r=>NS[r]).join("");for(;e.length>=NN;){let r=e.substring(0,NN);e=parseInt(r,10)%97+e.substring(r.length)}let n=String(98-parseInt(e,10)%97);for(;n.length<2;)n="0"+n;return n}const kK=function(){const t={};for(let e=0;e<36;e++){const n="0123456789abcdefghijklmnopqrstuvwxyz"[e];t[n]=BigInt(e)}return t}();function UK(t){t=t.toLowerCase();let e=IK;for(let n=0;n<t.length;n++)e=e*BK+kK[t[n]];return e}function ct(t){if(J(typeof t=="string","invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/)){t.startsWith("0x")||(t="0x"+t);const e=PN(t);return J(!t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||e===t,"bad address checksum","address",t),e}if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){J(t.substring(2,4)===MK(t),"bad icap checksum","address",t);let e=UK(t.substring(4)).toString(16);for(;e.length<40;)e="0"+e;return PN("0x"+e)}J(!1,"invalid address","address",t)}function LK(t){const e=ct(t.from);let r=Te(t.nonce,"tx.nonce").toString(16);return r==="0"?r="0x":r.length%2?r="0x0"+r:r="0x"+r,ct(Mt(Zt(wc([e,r])),12))}function G6(t){return t&&typeof t.getAddress=="function"}async function fx(t,e){const n=await e;return(n==null||n==="0x0000000000000000000000000000000000000000")&&(me(typeof t!="string","unconfigured name","UNCONFIGURED_NAME",{value:t}),J(!1,"invalid AddressLike value; did not resolve to a value address","target",t)),ct(n)}function rr(t,e){if(typeof t=="string")return t.match(/^0x[0-9a-f]{40}$/i)?ct(t):(me(e!=null,"ENS resolution requires a provider","UNSUPPORTED_OPERATION",{operation:"resolveName"}),fx(t,e.resolveName(t)));if(G6(t))return fx(t,t.getAddress());if(t&&typeof t.then=="function")return fx(t,t);J(!1,"unsupported addressable value","target",t)}const xo={};function Se(t,e){let n=!1;return e<0&&(n=!0,e*=-1),new Kn(xo,`${n?"":"u"}int${e}`,t,{signed:n,width:e})}function nt(t,e){return new Kn(xo,`bytes${e||""}`,t,{size:e})}const RN=Symbol.for("_ethers_typed");var Nl;const Eo=class Eo{constructor(e,n,r,i){se(this,"type");se(this,"value");ce(this,Nl);se(this,"_typedSymbol");i==null&&(i=null),Lb(xo,e,"Typed"),Me(this,{_typedSymbol:RN,type:n,value:r}),q(this,Nl,i),this.format()}format(){if(this.type==="array")throw new Error("");if(this.type==="dynamicArray")throw new Error("");return this.type==="tuple"?`tuple(${this.value.map(e=>e.format()).join(",")})`:this.type}defaultValue(){return 0}minValue(){return 0}maxValue(){return 0}isBigInt(){return!!this.type.match(/^u?int[0-9]+$/)}isData(){return this.type.startsWith("bytes")}isString(){return this.type==="string"}get tupleName(){if(this.type!=="tuple")throw TypeError("not a tuple");return B(this,Nl)}get arrayLength(){if(this.type!=="array")throw TypeError("not an array");return B(this,Nl)===!0?-1:B(this,Nl)===!1?this.value.length:null}static from(e,n){return new Eo(xo,e,n)}static uint8(e){return Se(e,8)}static uint16(e){return Se(e,16)}static uint24(e){return Se(e,24)}static uint32(e){return Se(e,32)}static uint40(e){return Se(e,40)}static uint48(e){return Se(e,48)}static uint56(e){return Se(e,56)}static uint64(e){return Se(e,64)}static uint72(e){return Se(e,72)}static uint80(e){return Se(e,80)}static uint88(e){return Se(e,88)}static uint96(e){return Se(e,96)}static uint104(e){return Se(e,104)}static uint112(e){return Se(e,112)}static uint120(e){return Se(e,120)}static uint128(e){return Se(e,128)}static uint136(e){return Se(e,136)}static uint144(e){return Se(e,144)}static uint152(e){return Se(e,152)}static uint160(e){return Se(e,160)}static uint168(e){return Se(e,168)}static uint176(e){return Se(e,176)}static uint184(e){return Se(e,184)}static uint192(e){return Se(e,192)}static uint200(e){return Se(e,200)}static uint208(e){return Se(e,208)}static uint216(e){return Se(e,216)}static uint224(e){return Se(e,224)}static uint232(e){return Se(e,232)}static uint240(e){return Se(e,240)}static uint248(e){return Se(e,248)}static uint256(e){return Se(e,256)}static uint(e){return Se(e,256)}static int8(e){return Se(e,-8)}static int16(e){return Se(e,-16)}static int24(e){return Se(e,-24)}static int32(e){return Se(e,-32)}static int40(e){return Se(e,-40)}static int48(e){return Se(e,-48)}static int56(e){return Se(e,-56)}static int64(e){return Se(e,-64)}static int72(e){return Se(e,-72)}static int80(e){return Se(e,-80)}static int88(e){return Se(e,-88)}static int96(e){return Se(e,-96)}static int104(e){return Se(e,-104)}static int112(e){return Se(e,-112)}static int120(e){return Se(e,-120)}static int128(e){return Se(e,-128)}static int136(e){return Se(e,-136)}static int144(e){return Se(e,-144)}static int152(e){return Se(e,-152)}static int160(e){return Se(e,-160)}static int168(e){return Se(e,-168)}static int176(e){return Se(e,-176)}static int184(e){return Se(e,-184)}static int192(e){return Se(e,-192)}static int200(e){return Se(e,-200)}static int208(e){return Se(e,-208)}static int216(e){return Se(e,-216)}static int224(e){return Se(e,-224)}static int232(e){return Se(e,-232)}static int240(e){return Se(e,-240)}static int248(e){return Se(e,-248)}static int256(e){return Se(e,-256)}static int(e){return Se(e,-256)}static bytes1(e){return nt(e,1)}static bytes2(e){return nt(e,2)}static bytes3(e){return nt(e,3)}static bytes4(e){return nt(e,4)}static bytes5(e){return nt(e,5)}static bytes6(e){return nt(e,6)}static bytes7(e){return nt(e,7)}static bytes8(e){return nt(e,8)}static bytes9(e){return nt(e,9)}static bytes10(e){return nt(e,10)}static bytes11(e){return nt(e,11)}static bytes12(e){return nt(e,12)}static bytes13(e){return nt(e,13)}static bytes14(e){return nt(e,14)}static bytes15(e){return nt(e,15)}static bytes16(e){return nt(e,16)}static bytes17(e){return nt(e,17)}static bytes18(e){return nt(e,18)}static bytes19(e){return nt(e,19)}static bytes20(e){return nt(e,20)}static bytes21(e){return nt(e,21)}static bytes22(e){return nt(e,22)}static bytes23(e){return nt(e,23)}static bytes24(e){return nt(e,24)}static bytes25(e){return nt(e,25)}static bytes26(e){return nt(e,26)}static bytes27(e){return nt(e,27)}static bytes28(e){return nt(e,28)}static bytes29(e){return nt(e,29)}static bytes30(e){return nt(e,30)}static bytes31(e){return nt(e,31)}static bytes32(e){return nt(e,32)}static address(e){return new Eo(xo,"address",e)}static bool(e){return new Eo(xo,"bool",!!e)}static bytes(e){return new Eo(xo,"bytes",e)}static string(e){return new Eo(xo,"string",e)}static array(e,n){throw new Error("not implemented yet")}static tuple(e,n){throw new Error("not implemented yet")}static overrides(e){return new Eo(xo,"overrides",Object.assign({},e))}static isTyped(e){return e&&typeof e=="object"&&"_typedSymbol"in e&&e._typedSymbol===RN}static dereference(e,n){if(Eo.isTyped(e)){if(e.type!==n)throw new Error(`invalid type: expecetd ${n}, got ${e.type}`);return e.value}return e}};Nl=new WeakMap;let Kn=Eo;class $K extends Wo{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,n){let r=Kn.dereference(n,"string");try{r=ct(r)}catch(i){return this._throwError(i.message,n)}return e.writeValue(r)}decode(e){return ct(yc(e.readValue(),20))}}class jK extends Wo{constructor(n){super(n.name,n.type,"_",n.dynamic);se(this,"coder");this.coder=n}defaultValue(){return this.coder.defaultValue()}encode(n,r){return this.coder.encode(n,r)}decode(n){return this.coder.decode(n)}}function K6(t,e,n){let r=[];if(Array.isArray(n))r=n;else if(n&&typeof n=="object"){let f={};r=e.map(h=>{const d=h.localName;return me(d,"cannot encode object for signature with missing names","INVALID_ARGUMENT",{argument:"values",info:{coder:h},value:n}),me(!f[d],"cannot encode object for signature with duplicate names","INVALID_ARGUMENT",{argument:"values",info:{coder:h},value:n}),f[d]=!0,n[d]})}else J(!1,"invalid tuple value","tuple",n);J(e.length===r.length,"types/value length mismatch","tuple",n);let i=new ZE,o=new ZE,a=[];e.forEach((f,h)=>{let d=r[h];if(f.dynamic){let g=o.length;f.encode(o,d);let y=i.writeUpdatableValue();a.push(b=>{y(b+g)})}else f.encode(i,d)}),a.forEach(f=>{f(i.length)});let l=t.appendWriter(i);return l+=t.appendWriter(o),l}function Q6(t,e){let n=[],r=[],i=t.subReader(0);return e.forEach(o=>{let a=null;if(o.dynamic){let l=t.readIndex(),f=i.subReader(l);try{a=o.decode(f)}catch(h){if(Pn(h,"BUFFER_OVERRUN"))throw h;a=h,a.baseType=o.name,a.name=o.localName,a.type=o.type}}else try{a=o.decode(t)}catch(l){if(Pn(l,"BUFFER_OVERRUN"))throw l;a=l,a.baseType=o.name,a.name=o.localName,a.type=o.type}if(a==null)throw new Error("investigate");n.push(a),r.push(o.localName||null)}),Ih.fromItems(n,r)}class FK extends Wo{constructor(n,r,i){const o=n.type+"["+(r>=0?r:"")+"]",a=r===-1||n.dynamic;super("array",o,i,a);se(this,"coder");se(this,"length");Me(this,{coder:n,length:r})}defaultValue(){const n=this.coder.defaultValue(),r=[];for(let i=0;i<this.length;i++)r.push(n);return r}encode(n,r){const i=Kn.dereference(r,"array");Array.isArray(i)||this._throwError("expected array value",i);let o=this.length;o===-1&&(o=i.length,n.writeValue(i.length)),n6(i.length,o,"coder array"+(this.localName?" "+this.localName:""));let a=[];for(let l=0;l<i.length;l++)a.push(this.coder);return K6(n,a,i)}decode(n){let r=this.length;r===-1&&(r=n.readIndex(),me(r*nr<=n.dataLength,"insufficient data length","BUFFER_OVERRUN",{buffer:n.bytes,offset:r*nr,length:n.dataLength}));let i=[];for(let o=0;o<r;o++)i.push(new jK(this.coder));return Q6(n,i)}}class zK extends Wo{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,n){const r=Kn.dereference(n,"bool");return e.writeValue(r?1:0)}decode(e){return!!e.readValue()}}class Y6 extends Wo{constructor(e,n){super(e,e,n,!0)}defaultValue(){return"0x"}encode(e,n){n=er(n);let r=e.writeValue(n.length);return r+=e.writeBytes(n),r}decode(e){return e.readBytes(e.readIndex(),!0)}}class VK extends Y6{constructor(e){super("bytes",e)}decode(e){return Ae(super.decode(e))}}class HK extends Wo{constructor(n,r){let i="bytes"+String(n);super(i,i,r,!1);se(this,"size");Me(this,{size:n},{size:"number"})}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(n,r){let i=er(Kn.dereference(r,this.type));return i.length!==this.size&&this._throwError("incorrect data length",r),n.writeBytes(i)}decode(n){return Ae(n.readBytes(this.size))}}const qK=new Uint8Array([]);class GK extends Wo{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,n){return n!=null&&this._throwError("not null",n),e.writeBytes(qK)}decode(e){return e.readBytes(0),null}}const KK=BigInt(0),QK=BigInt(1),YK=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");class WK extends Wo{constructor(n,r,i){const o=(r?"int":"uint")+n*8;super(o,o,i,!1);se(this,"size");se(this,"signed");Me(this,{size:n,signed:r},{size:"number",signed:"boolean"})}defaultValue(){return 0}encode(n,r){let i=Te(Kn.dereference(r,this.type)),o=Rp(YK,nr*8);if(this.signed){let a=Rp(o,this.size*8-1);(i>a||i<-(a+QK))&&this._throwError("value out-of-bounds",r),i=s6(i,8*nr)}else(i<KK||i>Rp(o,this.size*8))&&this._throwError("value out-of-bounds",r);return n.writeValue(i)}decode(n){let r=Rp(n.readValue(),this.size*8);return this.signed&&(r=Gq(r,this.size*8)),r}}class XK extends Y6{constructor(e){super("string",e)}defaultValue(){return""}encode(e,n){return super.encode(e,Lo(Kn.dereference(n,"string")))}decode(e){return Q0(super.decode(e))}}class Hy extends Wo{constructor(n,r){let i=!1;const o=[];n.forEach(l=>{l.dynamic&&(i=!0),o.push(l.type)});const a="tuple("+o.join(",")+")";super("tuple",a,r,i);se(this,"coders");Me(this,{coders:Object.freeze(n.slice())})}defaultValue(){const n=[];this.coders.forEach(i=>{n.push(i.defaultValue())});const r=this.coders.reduce((i,o)=>{const a=o.localName;return a&&(i[a]||(i[a]=0),i[a]++),i},{});return this.coders.forEach((i,o)=>{let a=i.localName;!a||r[a]!==1||(a==="length"&&(a="_length"),n[a]==null&&(n[a]=n[o]))}),Object.freeze(n)}encode(n,r){const i=Kn.dereference(r,"tuple");return K6(n,this.coders,i)}decode(n){return Q6(n,this.coders)}}function hx(t,e){return{address:ct(t),storageKeys:e.map((n,r)=>(J(Et(n,32),"invalid slot",`storageKeys[${r}]`,n),n.toLowerCase()))}}function iu(t){if(Array.isArray(t))return t.map((n,r)=>Array.isArray(n)?(J(n.length===2,"invalid slot set",`value[${r}]`,n),hx(n[0],n[1])):(J(n!=null&&typeof n=="object","invalid address-slot set","value",t),hx(n.address,n.storageKeys)));J(t!=null&&typeof t=="object","invalid access list","value",t);const e=Object.keys(t).map(n=>{const r=t[n].reduce((i,o)=>(i[o]=!0,i),{});return hx(n,Object.keys(r).sort())});return e.sort((n,r)=>n.address.localeCompare(r.address)),e}function W6(t){return{address:ct(t.address),nonce:Te(t.nonce!=null?t.nonce:0),chainId:Te(t.chainId!=null?t.chainId:0),signature:Dr.from(t.signature)}}function ZK(t){let e;return typeof t=="string"?e=gg.computePublicKey(t,!1):e=t.publicKey,ct(Zt("0x"+e.substring(4)).substring(26))}function JK(t,e){return ZK(gg.recoverPublicKey(t,e))}const mn=BigInt(0),eQ=BigInt(2),tQ=BigInt(27),nQ=BigInt(28),rQ=BigInt(35),iQ=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),dx=4096*32;function sQ(t){return{blobToKzgCommitment:r=>{if("computeBlobProof"in t){if("blobToKzgCommitment"in t&&typeof t.blobToKzgCommitment=="function")return qe(t.blobToKzgCommitment(Ae(r)))}else if("blobToKzgCommitment"in t&&typeof t.blobToKzgCommitment=="function")return qe(t.blobToKzgCommitment(r));if("blobToKZGCommitment"in t&&typeof t.blobToKZGCommitment=="function")return qe(t.blobToKZGCommitment(Ae(r)));J(!1,"unsupported KZG library","kzg",t)},computeBlobKzgProof:(r,i)=>{if("computeBlobProof"in t&&typeof t.computeBlobProof=="function")return qe(t.computeBlobProof(Ae(r),Ae(i)));if("computeBlobKzgProof"in t&&typeof t.computeBlobKzgProof=="function")return t.computeBlobKzgProof(r,i);if("computeBlobKZGProof"in t&&typeof t.computeBlobKZGProof=="function")return qe(t.computeBlobKZGProof(Ae(r),Ae(i)));J(!1,"unsupported KZG library","kzg",t)}}}function _N(t,e){let n=t.toString(16);for(;n.length<2;)n="0"+n;return n+=Yh(e).substring(4),"0x"+n}function Wh(t){return t==="0x"?null:ct(t)}function Hb(t,e){try{return iu(t)}catch(n){J(!1,n.message,e,t)}}function oQ(t,e){try{if(!Array.isArray(t))throw new Error("authorizationList: invalid array");const n=[];for(let r=0;r<t.length;r++){const i=t[r];if(!Array.isArray(i))throw new Error(`authorization[${r}]: invalid array`);if(i.length!==6)throw new Error(`authorization[${r}]: wrong length`);if(!i[1])throw new Error(`authorization[${r}]: null address`);n.push({address:Wh(i[1]),nonce:mt(i[2],"nonce"),chainId:mt(i[0],"chainId"),signature:Dr.from({yParity:su(i[3],"yParity"),r:Vo(i[4],32),s:Vo(i[5],32)})})}return n}catch(n){J(!1,n.message,e,t)}}function su(t,e){return t==="0x"?0:Ge(t,e)}function mt(t,e){if(t==="0x")return mn;const n=Te(t,e);return J(n<=iQ,"value exceeds uint size",e,n),n}function Ze(t,e){const n=Te(t,"value"),r=an(n);return J(r.length<=32,"value too large",`tx.${e}`,n),r}function qb(t){return iu(t).map(e=>[e.address,e.storageKeys])}function aQ(t){return t.map(e=>[Ze(e.chainId,"chainId"),e.address,Ze(e.nonce,"nonce"),Ze(e.signature.yParity,"yParity"),an(e.signature.r),an(e.signature.s)])}function cQ(t,e){J(Array.isArray(t),`invalid ${e}`,"value",t);for(let n=0;n<t.length;n++)J(Et(t[n],32),"invalid ${ param } hash",`value[${n}]`,t[n]);return t}function lQ(t){const e=Jg(t);J(Array.isArray(e)&&(e.length===9||e.length===6),"invalid field count for legacy transaction","data",t);const n={type:0,nonce:su(e[0],"nonce"),gasPrice:mt(e[1],"gasPrice"),gasLimit:mt(e[2],"gasLimit"),to:Wh(e[3]),value:mt(e[4],"value"),data:Ae(e[5]),chainId:mn};if(e.length===6)return n;const r=mt(e[6],"v"),i=mt(e[7],"r"),o=mt(e[8],"s");if(i===mn&&o===mn)n.chainId=r;else{let a=(r-rQ)/eQ;a<mn&&(a=mn),n.chainId=a,J(a!==mn||r===tQ||r===nQ,"non-canonical legacy v","v",e[6]),n.signature=Dr.from({r:Vo(e[7],32),s:Vo(e[8],32),v:r})}return n}function uQ(t,e){const n=[Ze(t.nonce,"nonce"),Ze(t.gasPrice||0,"gasPrice"),Ze(t.gasLimit,"gasLimit"),t.to||"0x",Ze(t.value,"value"),t.data];let r=mn;if(t.chainId!=mn)r=Te(t.chainId,"tx.chainId"),J(!e||e.networkV==null||e.legacyChainId===r,"tx.chainId/sig.v mismatch","sig",e);else if(t.signature){const o=t.signature.legacyChainId;o!=null&&(r=o)}if(!e)return r!==mn&&(n.push(an(r)),n.push("0x"),n.push("0x")),wc(n);let i=BigInt(27+e.yParity);return r!==mn?i=Dr.getChainIdV(r,e.v):BigInt(e.v)!==i&&J(!1,"tx.chainId/sig.v mismatch","sig",e),n.push(an(i)),n.push(an(e.r)),n.push(an(e.s)),wc(n)}function Gb(t,e){let n;try{if(n=su(e[0],"yParity"),n!==0&&n!==1)throw new Error("bad yParity")}catch{J(!1,"invalid yParity","yParity",e[0])}const r=Vo(e[1],32),i=Vo(e[2],32),o=Dr.from({r,s:i,yParity:n});t.signature=o}function fQ(t){const e=Jg(qe(t).slice(1));J(Array.isArray(e)&&(e.length===9||e.length===12),"invalid field count for transaction type: 2","data",Ae(t));const n={type:2,chainId:mt(e[0],"chainId"),nonce:su(e[1],"nonce"),maxPriorityFeePerGas:mt(e[2],"maxPriorityFeePerGas"),maxFeePerGas:mt(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:mt(e[4],"gasLimit"),to:Wh(e[5]),value:mt(e[6],"value"),data:Ae(e[7]),accessList:Hb(e[8],"accessList")};return e.length===9||Gb(n,e.slice(9)),n}function hQ(t,e){const n=[Ze(t.chainId,"chainId"),Ze(t.nonce,"nonce"),Ze(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Ze(t.maxFeePerGas||0,"maxFeePerGas"),Ze(t.gasLimit,"gasLimit"),t.to||"0x",Ze(t.value,"value"),t.data,qb(t.accessList||[])];return e&&(n.push(Ze(e.yParity,"yParity")),n.push(an(e.r)),n.push(an(e.s))),kt(["0x02",wc(n)])}function dQ(t){const e=Jg(qe(t).slice(1));J(Array.isArray(e)&&(e.length===8||e.length===11),"invalid field count for transaction type: 1","data",Ae(t));const n={type:1,chainId:mt(e[0],"chainId"),nonce:su(e[1],"nonce"),gasPrice:mt(e[2],"gasPrice"),gasLimit:mt(e[3],"gasLimit"),to:Wh(e[4]),value:mt(e[5],"value"),data:Ae(e[6]),accessList:Hb(e[7],"accessList")};return e.length===8||Gb(n,e.slice(8)),n}function pQ(t,e){const n=[Ze(t.chainId,"chainId"),Ze(t.nonce,"nonce"),Ze(t.gasPrice||0,"gasPrice"),Ze(t.gasLimit,"gasLimit"),t.to||"0x",Ze(t.value,"value"),t.data,qb(t.accessList||[])];return e&&(n.push(Ze(e.yParity,"recoveryParam")),n.push(an(e.r)),n.push(an(e.s))),kt(["0x01",wc(n)])}function gQ(t){let e=Jg(qe(t).slice(1)),n="3",r=null;if(e.length===4&&Array.isArray(e[0])){n="3 (network format)";const o=e[1],a=e[2],l=e[3];J(Array.isArray(o),"invalid network format: blobs not an array","fields[1]",o),J(Array.isArray(a),"invalid network format: commitments not an array","fields[2]",a),J(Array.isArray(l),"invalid network format: proofs not an array","fields[3]",l),J(o.length===a.length,"invalid network format: blobs/commitments length mismatch","fields",e),J(o.length===l.length,"invalid network format: blobs/proofs length mismatch","fields",e),r=[];for(let f=0;f<e[1].length;f++)r.push({data:o[f],commitment:a[f],proof:l[f]});e=e[0]}J(Array.isArray(e)&&(e.length===11||e.length===14),`invalid field count for transaction type: ${n}`,"data",Ae(t));const i={type:3,chainId:mt(e[0],"chainId"),nonce:su(e[1],"nonce"),maxPriorityFeePerGas:mt(e[2],"maxPriorityFeePerGas"),maxFeePerGas:mt(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:mt(e[4],"gasLimit"),to:Wh(e[5]),value:mt(e[6],"value"),data:Ae(e[7]),accessList:Hb(e[8],"accessList"),maxFeePerBlobGas:mt(e[9],"maxFeePerBlobGas"),blobVersionedHashes:e[10]};r&&(i.blobs=r),J(i.to!=null,`invalid address for transaction type: ${n}`,"data",t),J(Array.isArray(i.blobVersionedHashes),"invalid blobVersionedHashes: must be an array","data",t);for(let o=0;o<i.blobVersionedHashes.length;o++)J(Et(i.blobVersionedHashes[o],32),`invalid blobVersionedHash at index ${o}: must be length 32`,"data",t);return e.length===11||Gb(i,e.slice(11)),i}function mQ(t,e,n){const r=[Ze(t.chainId,"chainId"),Ze(t.nonce,"nonce"),Ze(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Ze(t.maxFeePerGas||0,"maxFeePerGas"),Ze(t.gasLimit,"gasLimit"),t.to||pg,Ze(t.value,"value"),t.data,qb(t.accessList||[]),Ze(t.maxFeePerBlobGas||0,"maxFeePerBlobGas"),cQ(t.blobVersionedHashes||[],"blobVersionedHashes")];return e&&(r.push(Ze(e.yParity,"yParity")),r.push(an(e.r)),r.push(an(e.s)),n)?kt(["0x03",wc([r,n.map(i=>i.data),n.map(i=>i.commitment),n.map(i=>i.proof)])]):kt(["0x03",wc(r)])}function yQ(t){const e=Jg(qe(t).slice(1));J(Array.isArray(e)&&(e.length===10||e.length===13),"invalid field count for transaction type: 4","data",Ae(t));const n={type:4,chainId:mt(e[0],"chainId"),nonce:su(e[1],"nonce"),maxPriorityFeePerGas:mt(e[2],"maxPriorityFeePerGas"),maxFeePerGas:mt(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:mt(e[4],"gasLimit"),to:Wh(e[5]),value:mt(e[6],"value"),data:Ae(e[7]),accessList:Hb(e[8],"accessList"),authorizationList:oQ(e[9],"authorizationList")};return e.length===10||Gb(n,e.slice(10)),n}function bQ(t,e){const n=[Ze(t.chainId,"chainId"),Ze(t.nonce,"nonce"),Ze(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Ze(t.maxFeePerGas||0,"maxFeePerGas"),Ze(t.gasLimit,"gasLimit"),t.to||"0x",Ze(t.value,"value"),t.data,qb(t.accessList||[]),aQ(t.authorizationList||[])];return e&&(n.push(Ze(e.yParity,"yParity")),n.push(an(e.r)),n.push(an(e.s))),kt(["0x04",wc(n)])}var Qi,th,nh,rh,ih,sh,oh,ah,ch,lh,uh,fh,Rl,Qa,As,Ya,hh,dh,S0;const vs=class vs{constructor(){ce(this,dh);ce(this,Qi);ce(this,th);ce(this,nh);ce(this,rh);ce(this,ih);ce(this,sh);ce(this,oh);ce(this,ah);ce(this,ch);ce(this,lh);ce(this,uh);ce(this,fh);ce(this,Rl);ce(this,Qa);ce(this,As);ce(this,Ya);ce(this,hh);q(this,Qi,null),q(this,th,null),q(this,rh,0),q(this,ih,mn),q(this,sh,null),q(this,oh,null),q(this,ah,null),q(this,nh,"0x"),q(this,ch,mn),q(this,lh,mn),q(this,uh,null),q(this,fh,null),q(this,Rl,null),q(this,Qa,null),q(this,As,null),q(this,Ya,null),q(this,hh,null)}get type(){return B(this,Qi)}set type(e){switch(e){case null:q(this,Qi,null);break;case 0:case"legacy":q(this,Qi,0);break;case 1:case"berlin":case"eip-2930":q(this,Qi,1);break;case 2:case"london":case"eip-1559":q(this,Qi,2);break;case 3:case"cancun":case"eip-4844":q(this,Qi,3);break;case 4:case"pectra":case"eip-7702":q(this,Qi,4);break;default:J(!1,"unsupported transaction type","type",e)}}get typeName(){switch(this.type){case 0:return"legacy";case 1:return"eip-2930";case 2:return"eip-1559";case 3:return"eip-4844";case 4:return"eip-7702"}return null}get to(){const e=B(this,th);return e==null&&this.type===3?pg:e}set to(e){q(this,th,e==null?null:ct(e))}get nonce(){return B(this,rh)}set nonce(e){q(this,rh,Ge(e,"value"))}get gasLimit(){return B(this,ih)}set gasLimit(e){q(this,ih,Te(e))}get gasPrice(){const e=B(this,sh);return e==null&&(this.type===0||this.type===1)?mn:e}set gasPrice(e){q(this,sh,e==null?null:Te(e,"gasPrice"))}get maxPriorityFeePerGas(){const e=B(this,oh);return e??(this.type===2||this.type===3?mn:null)}set maxPriorityFeePerGas(e){q(this,oh,e==null?null:Te(e,"maxPriorityFeePerGas"))}get maxFeePerGas(){const e=B(this,ah);return e??(this.type===2||this.type===3?mn:null)}set maxFeePerGas(e){q(this,ah,e==null?null:Te(e,"maxFeePerGas"))}get data(){return B(this,nh)}set data(e){q(this,nh,Ae(e))}get value(){return B(this,ch)}set value(e){q(this,ch,Te(e,"value"))}get chainId(){return B(this,lh)}set chainId(e){q(this,lh,Te(e))}get signature(){return B(this,uh)||null}set signature(e){q(this,uh,e==null?null:Dr.from(e))}get accessList(){const e=B(this,fh)||null;return e??(this.type===1||this.type===2||this.type===3?[]:null)}set accessList(e){q(this,fh,e==null?null:iu(e))}get authorizationList(){const e=B(this,hh)||null;return e==null&&this.type===4?[]:e}set authorizationList(e){q(this,hh,e==null?null:e.map(n=>W6(n)))}get maxFeePerBlobGas(){const e=B(this,Rl);return e==null&&this.type===3?mn:e}set maxFeePerBlobGas(e){q(this,Rl,e==null?null:Te(e,"maxFeePerBlobGas"))}get blobVersionedHashes(){let e=B(this,Qa);return e==null&&this.type===3?[]:e}set blobVersionedHashes(e){if(e!=null){J(Array.isArray(e),"blobVersionedHashes must be an Array","value",e),e=e.slice();for(let n=0;n<e.length;n++)J(Et(e[n],32),"invalid blobVersionedHash",`value[${n}]`,e[n])}q(this,Qa,e)}get blobs(){return B(this,Ya)==null?null:B(this,Ya).map(e=>Object.assign({},e))}set blobs(e){if(e==null){q(this,Ya,null);return}const n=[],r=[];for(let i=0;i<e.length;i++){const o=e[i];if(xS(o)){me(B(this,As),"adding a raw blob requires a KZG library","UNSUPPORTED_OPERATION",{operation:"set blobs()"});let a=qe(o);if(J(a.length<=dx,"blob is too large",`blobs[${i}]`,o),a.length!==dx){const h=new Uint8Array(dx);h.set(a),a=h}const l=B(this,As).blobToKzgCommitment(a),f=Ae(B(this,As).computeBlobKzgProof(a,l));n.push({data:Ae(a),commitment:Ae(l),proof:f}),r.push(_N(1,l))}else{const a=Ae(o.commitment);n.push({data:Ae(o.data),commitment:a,proof:Ae(o.proof)}),r.push(_N(1,a))}}q(this,Ya,n),q(this,Qa,r)}get kzg(){return B(this,As)}set kzg(e){e==null?q(this,As,null):q(this,As,sQ(e))}get hash(){return this.signature==null?null:Zt(xe(this,dh,S0).call(this,!0,!1))}get unsignedHash(){return Zt(this.unsignedSerialized)}get from(){return this.signature==null?null:JK(this.unsignedHash,this.signature)}get fromPublicKey(){return this.signature==null?null:gg.recoverPublicKey(this.unsignedHash,this.signature)}isSigned(){return this.signature!=null}get serialized(){return xe(this,dh,S0).call(this,!0,!0)}get unsignedSerialized(){return xe(this,dh,S0).call(this,!1,!1)}inferType(){const e=this.inferTypes();return e.indexOf(2)>=0?2:e.pop()}inferTypes(){const e=this.gasPrice!=null,n=this.maxFeePerGas!=null||this.maxPriorityFeePerGas!=null,r=this.accessList!=null,i=B(this,Rl)!=null||B(this,Qa);this.maxFeePerGas!=null&&this.maxPriorityFeePerGas!=null&&me(this.maxFeePerGas>=this.maxPriorityFeePerGas,"priorityFee cannot be more than maxFee","BAD_DATA",{value:this}),me(!n||this.type!==0&&this.type!==1,"transaction type cannot have maxFeePerGas or maxPriorityFeePerGas","BAD_DATA",{value:this}),me(this.type!==0||!r,"legacy transaction cannot have accessList","BAD_DATA",{value:this});const o=[];return this.type!=null?o.push(this.type):this.authorizationList&&this.authorizationList.length?o.push(4):n?o.push(2):e?(o.push(1),r||o.push(0)):r?(o.push(1),o.push(2)):(i&&this.to||(o.push(0),o.push(1),o.push(2)),o.push(3)),o.sort(),o}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}clone(){return vs.from(this)}toJSON(){const e=n=>n==null?null:n.toString();return{type:this.type,to:this.to,data:this.data,nonce:this.nonce,gasLimit:e(this.gasLimit),gasPrice:e(this.gasPrice),maxPriorityFeePerGas:e(this.maxPriorityFeePerGas),maxFeePerGas:e(this.maxFeePerGas),value:e(this.value),chainId:e(this.chainId),sig:this.signature?this.signature.toJSON():null,accessList:this.accessList}}static from(e){if(e==null)return new vs;if(typeof e=="string"){const r=qe(e);if(r[0]>=127)return vs.from(lQ(r));switch(r[0]){case 1:return vs.from(dQ(r));case 2:return vs.from(fQ(r));case 3:return vs.from(gQ(r));case 4:return vs.from(yQ(r))}me(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:"from"})}const n=new vs;return e.type!=null&&(n.type=e.type),e.to!=null&&(n.to=e.to),e.nonce!=null&&(n.nonce=e.nonce),e.gasLimit!=null&&(n.gasLimit=e.gasLimit),e.gasPrice!=null&&(n.gasPrice=e.gasPrice),e.maxPriorityFeePerGas!=null&&(n.maxPriorityFeePerGas=e.maxPriorityFeePerGas),e.maxFeePerGas!=null&&(n.maxFeePerGas=e.maxFeePerGas),e.maxFeePerBlobGas!=null&&(n.maxFeePerBlobGas=e.maxFeePerBlobGas),e.data!=null&&(n.data=e.data),e.value!=null&&(n.value=e.value),e.chainId!=null&&(n.chainId=e.chainId),e.signature!=null&&(n.signature=Dr.from(e.signature)),e.accessList!=null&&(n.accessList=e.accessList),e.authorizationList!=null&&(n.authorizationList=e.authorizationList),e.blobVersionedHashes!=null&&(n.blobVersionedHashes=e.blobVersionedHashes),e.kzg!=null&&(n.kzg=e.kzg),e.blobs!=null&&(n.blobs=e.blobs),e.hash!=null&&(J(n.isSigned(),"unsigned transaction cannot define '.hash'","tx",e),J(n.hash===e.hash,"hash mismatch","tx",e)),e.from!=null&&(J(n.isSigned(),"unsigned transaction cannot define '.from'","tx",e),J(n.from.toLowerCase()===(e.from||"").toLowerCase(),"from mismatch","tx",e)),n}};Qi=new WeakMap,th=new WeakMap,nh=new WeakMap,rh=new WeakMap,ih=new WeakMap,sh=new WeakMap,oh=new WeakMap,ah=new WeakMap,ch=new WeakMap,lh=new WeakMap,uh=new WeakMap,fh=new WeakMap,Rl=new WeakMap,Qa=new WeakMap,As=new WeakMap,Ya=new WeakMap,hh=new WeakMap,dh=new WeakSet,S0=function(e,n){me(!e||this.signature!=null,"cannot serialize unsigned transaction; maybe you meant .unsignedSerialized","UNSUPPORTED_OPERATION",{operation:".serialized"});const r=e?this.signature:null;switch(this.inferType()){case 0:return uQ(this,r);case 1:return pQ(this,r);case 2:return hQ(this,r);case 3:return mQ(this,r,n?this.blobs:null);case 4:return bQ(this,r)}me(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".serialized"})};let W0=vs;function ql(t){return Zt(Lo(t))}var wQ="AEEUdwmgDS8BxQKKAP4BOgDjATAAngDUAIMAoABoAOAAagCOAEQAhABMAHIAOwA9ACsANgAmAGIAHgAuACgAJwAXAC0AGgAjAB8ALwAUACkAEgAeAAkAGwARABkAFgA5ACgALQArADcAFQApABAAHgAiABAAGgAeABMAGAUhBe8BFxREN8sF2wC5AK5HAW8ArQkDzQCuhzc3NzcBP68NEfMABQdHBuw5BV8FYAA9MzkI9r4ZBg7QyQAWA9CeOwLNCjcCjqkChuA/lm+RAsXTAoP6ASfnEQDytQFJAjWVCkeXAOsA6godAB/cwdAUE0WlBCN/AQUCQRjFD/MRBjHxDQSJbw0jBzUAswBxme+tnIcAYwabAysG8QAjAEMMmxcDqgPKQyDXCMMxA7kUQwD3NXOrAKmFIAAfBC0D3x4BJQDBGdUFAhEgVD8JnwmQJiNWYUzrg0oAGwAUAB0AFnNcACkAFgBP9h3gPfsDOWDKneY2ChglX1UDYD30ABsAFAAdABZzIGRAnwDD8wAjAEEMzRbDqgMB2sAFYwXqAtCnAsS4AwpUJKRtFHsadUz9AMMVbwLpABM1NJEX0ZkCgYMBEyMAxRVvAukAEzUBUFAtmUwSAy4DBTER33EftQHfSwB5MxJ/AjkWKQLzL8E/cwBB6QH9LQDPDtO9ASNriQC5DQANAwCK21EFI91zHwCoL9kBqQcHBwcHKzUDowBvAQohPvU3fAQgHwCyAc8CKQMA5zMSezr7ULgFmDp/LzVQBgEGAi8FYQVgt8AFcTtlQhpCWEmfe5tmZ6IAExsDzQ8t+X8rBKtTAltbAn0jsy8Bl6utPWMDTR8Ei2kRANkDBrNHNysDBzECQWUAcwFpJ3kAiyUhAJ0BUb8AL3EfAbfNAz81KUsFWwF3YQZtAm0A+VEfAzEJDQBRSQCzAQBlAHsAM70GD/v3IZWHBwARKQAxALsjTwHZAeMPEzmXgIHwABIAGQA8AEUAQDt3gdvIEGcQZAkGTRFMdEIVEwK0D64L7REdDNkq09PgADSxB/MDWwfzA1sDWwfzB/MDWwfzA1sDWwNbA1scEvAi28gQZw9QBHUFlgWTBN4IiyZREYkHMAjaVBV0JhxPA00BBCMtSSQ7mzMTJUpMFE0LCAQ2SmyvfUADTzGzVP2QqgPTMlc5dAkGHnkSqAAyD3skNb1OhnpPcagKU0+2tYdJak5vAsY6sEAACikJm2/Dd1YGRRAfJ6kQ+ww3AbkBPw3xS9wE9QY/BM0fgRkdD9GVoAipLeEM8SbnLqWAXiP5KocF8Uv4POELUVFsD10LaQnnOmeBUgMlAREijwrhDT0IcRD3Cs1vDekRSQc9A9lJngCpBwULFR05FbkmFGKwCw05ewb/GvoLkyazEy17AAXXGiUGUQEtGwMA0y7rhbRaNVwgT2MGBwspI8sUrFAkDSlAu3hMGh8HGSWtApVDdEqLUToelyH6PEENai4XUYAH+TwJGVMLhTyiRq9FEhHWPpE9TCJNTDAEOYMsMyePCdMPiQy9fHYBXQklCbUMdRM1ERs3yQg9Bx0xlygnGQglRplgngT7owP3E9UDDwVDCUUHFwO5HDETMhUtBRGBKNsC9zbZLrcCk1aEARsFzw8pH+MQVEfkDu0InwJpA4cl7wAxFSUAGyKfCEdnAGOP3FMJLs8Iy2pwI3gDaxTrZRF3B5UOWwerHDcVwxzlcMxeD4YMKKezCV8BeQmdAWME5wgNNV+MpCBFZ1eLXBifIGVBQ14AAjUMaRWjRMGHfAKPD28SHwE5AXcHPQ0FAnsR8RFvEJkI74YINbkz/DopBFMhhyAVCisDU2zSCysm/Qz8bQGnEmYDEDRBd/Jnr2C6KBgBBx0yyUFkIfULlk/RDKAaxRhGVDIZ6AfDA/ca9yfuQVsGAwOnBxc6UTPyBMELbQiPCUMATQ6nGwfbGG4KdYzUATWPAbudA1uVhwJzkwY7Bw8Aaw+LBX3pACECqwinAAkA0wNbAD0CsQehAB0AiUUBQQMrMwEl6QKTA5cINc8BmTMB9y0EH8cMGQD7O25OAsO1AoBuZqYF4VwCkgJNOQFRKQQJUktVA7N15QDfAE8GF+NLARmvTs8e50cB43MvAMsA/wAJOQcJRQHRAfdxALsBYws1Caa3uQFR7S0AhwAZbwHbAo0A4QA5AIP1AVcAUQVd/QXXAlNNARU1HC9bZQG/AyMBNwERAH0Gz5GpzQsjBHEH1wIQHxXlAu8yB7kFAyLjE9FCyQK94lkAMhoKPAqrCqpgX2Q3CjV2PVQAEh+sPss/UgVVO1c7XDtXO1w7VztcO1c7XDtXO1wDm8Pmw+YKcF9JYe8Mqg3YRMw6TRPfYFVgNhPMLbsUxRXSJVoZQRrAJwkl6FUNDwgt12Y0CDA0eRfAAEMpbINFY4oeNApPHOtTlVT8LR8AtUumM7MNsBsZREQFS3XxYi4WEgomAmSFAmJGX1GzAV83JAKh+wJonAJmDQKfiDgfDwJmPwJmKgRyBIMDfxcDfpY5Cjl7GzmGOicnAmwhAjI6OA4CbcsCbbLzjgM3a0kvAWsA4gDlAE4JB5wMkQECD8YAEbkCdzMCdqZDAnlPRwJ4viFg30WyRvcCfEMCeswCfQ0CfPRIBEiBZygALxlJXEpfGRtK0ALRBQLQ0EsrA4hTA4fqRMmRNgLypV0HAwOyS9JMMSkH001QTbMCi0MCitzFHwshR2sJuwKOOwKOYESbhQKO3QKOYHxRuFM5AQ5S2FSJApP/ApMQAO0AIFUiVbNV1AosHymZijLleGpFPz0Cl6MC77ZYJawAXSkClpMCloCgAK1ZsFoNhVEAPwKWuQKWUlxIXNUCmc8CmWhczl0LHQKcnznGOqECnBoCn58CnryOACETNS4TAp31Ap6WALlBYThh8wKe1wKgcgGtAp6jIwKeUqljzGQrKS8CJ7MCJoICoP8CoFDbAqYzAqXSAqgDAIECp/ZogGi1AAdNaiBq1QKs5wKssgKtawKtBgJXIQJV4AKx5dsDH1JsmwKywRECsuwbbORtZ21MYwMl0QK2YD9DbpQDKUkCuGICuUsZArkue3A6cOUCvR0DLbYDMhUCvoxyBgMzdQK+HnMmc1MCw88CwwhzhnRPOUl05AM8qwEDPJ4DPcMCxYACxksCxhSNAshtVQLISALJUwLJMgJkoQLd1nh9ZXiyeSlL1AMYp2cGAmH4GfeVKHsPXpZevxUCz28Cz3AzT1fW9xejAMqxAs93AS3uA04Wfk8JAtwrAtuOAtJTA1JgA1NjAQUDVZCAjUMEzxrxZEl5A4LSg5EC2ssC2eKEFIRNp0ADhqkAMwNkEoZ1Xf0AWQLfaQLevHd7AuIz7RgB8zQrAfSfAfLWiwLr9wLpdH0DAur9AuroAP1LAb0C7o0C66CWrpcHAu5DA4XkmH1w5HGlAvMHAG0DjhqZlwL3FwORcgOSiwL3nAL53QL4apogmq+/O5siA52HAv7+AR8APZ8gAZ+3AwWRA6ZuA6bdANXJAwZuoYyiCQ0DDE0BEwEjB3EGZb1rCQC/BG/DFY8etxEAG3k9ACcDNxJRA42DAWcrJQCM8wAlAOanC6OVCLsGI6fJBgCvBRnDBvElRUYFFoAFcD9GSDNCKUK8X3kZX8QAls0FOgCQVCGbwTsuYDoZutcONxjOGJHJ/gVfBWAFXwVgBWsFYAVfBWAFXwVgBV8FYAVfBWBOHQjfjW8KCgoKbF7xMwTRA7kGN8PDAMMEr8MA70gxFroFTj5xPnhCR0K+X30/X/AAWBkzswCNBsxzzASm70aCRS4rDDMeLz49fnXfcsH5GcoscQFz13Y4HwVnBXLJycnACNdRYwgICAqEXoWTxgA7P4kACxbZBu21Kw0AjMsTAwkVAOVtJUUsJ1JCuULESUArXy9gPi9AKwnJRQYKTD9LPoA+iT54PnkCkULEUUpDX9NWV3JVEjQAc1w3A3IBE3YnX+g7QiMJb6MKaiszRCUuQrNCxDPMCcwEX9EWJzYREBEEBwIHKn6l33JCNVIfybPJtAltydPUCmhBZw/tEKsZAJOVJU1CLRuxbUHOQAo7P0s+eEJHHA8SJVRPdGM0NVrpvBoKhfUlM0JHHGUQUhEWO1xLSj8MO0ucNAqJIzVCRxv9EFsqKyA4OQgNj2nwZgp5ZNFgE2A1K3YHS2AhQQojJmC7DgpzGG1WYFUZCQYHZO9gHWCdYIVgu2BTYJlwFh8GvRbcXbG8YgtDHrMBwzPVyQonHQgkCyYBgQJ0Ajc4nVqIAwGSCsBPIgDsK3SWEtIVBa5N8gGjAo+kVwVIZwD/AEUSCDweX4ITrRQsJ8K3TwBXFDwEAB0TvzVcAtoTS20RIwDgVgZ9BBImYgA5AL4Coi8LFnezOkCnIQFjAY4KBAPh9RcGsgZSBsEAJctdsWIRu2kTkQstRw7DAcMBKgpPBGIGMDAwKCYnKTQaLg4AKRSVAFwCdl+YUZ0JdicFD3lPAdt1F9ZZKCGxuE3yBxkFVGcA/wBFEgiCBwAOLHQSjxOtQDg1z7deFRMAZ8QTAGtKb1ApIiPHADkAvgKiLy1DFtYCmBiDAlDDWNB0eo7fpaMO/aEVRRv0ATEQZBIODyMEAc8JQhCbDRgzFD4TAEMAu9YBCgCsAOkAm5I3ABwAYxvONnR+MhXJAxgKQyxL2+kkJhMbhQKDBMkSsvF0AD9BNQ6uQC7WqSQHwxEAEEIu1hkhAH2z4iQPwyJPHNWpdyYBRSpnJALzoBAEVPPsH20MxA0CCEQKRgAFyAtFAlMNwwjEDUQJRArELtapMg7DDZgJIw+TGukEIwvDFkMAqAtDEMMMBhioe+QAO3MMRAACrgnEBSPY9Q0FDnbSBoMAB8MSYxkSxAEJAPIJAAB8FWMOFtMc/HcXwxhDAC7DAvOowwAewwJdKDKHAAHDAALrFUQVwwAbwyvzpWMWv8wA/ABpAy++bcYDUKPD0KhDCwKmJ1MAAmMA5+UZwxAagwipBRL/eADfw6fDGOMCGsOjk3l6BwOpo4sAEsMOGxMAA5sAbcMOAAvDp0MJGkMDwgipnNIPAwfIqUMGAOGDAAPzABXDAAcDAAnDAGmTABrDAA7DChjDjnEWAwABYwAOcwAuUyYABsMAF8MIKQANUgC6wy4AA8MADqMq8wCyYgAcIwAB8wqpAAXOCx0V4wAHowBCwwEKAGnDAAuDAB3DAAjDCakABdIAbqcZ3QCZCCkABdIAAAFDAAfjAB2jCCkABqIACYMAGzMAbSMA5sOIAAhjAAhDABTDBAkpAAbSAOOTAAlDC6kOzPtnAAdDAG6kQFAATwAKwwwAA0MACbUDPwAHIwAZgwACE6cDAAojAApDAAoDp/MGwwAJIwADEwAQQwgAFEMAEXMAD5MADfMADcMAGRMOFiMAFUMAbqMWuwHDAMIAE0MLAGkzEgDhUwACQwAEWgAXgwUjAAbYABjDBSYBgzBaAEFNALcQBxUMegAwMngBrA0IZgJ0KxQHBREPd1N0ZzKRJwaIHAZqNT4DqQq8BwngAB4DAwt2AX56T1ocKQNXAh1GATQGC3tOxYNagkgAMQA5CQADAQEAWxLjAIOYNAEzAH7tFRk6TglSAF8NAAlYAQ+S1ACAQwQorQBiAN4dAJ1wPyeTANVzuQDX3AIeEMp9eyMgXiUAEdkBkJizKltbVVAaRMqRAAEAhyQ/SDEz6BmfVwB6ATEsOClKIRcDOF0E/832AFNt5AByAnkCRxGCOs94NjXdAwINGBonDBwPALW2AwICAgAAAAAAAAYDBQMDARrUAwAtAAAAAgEGBgYGBgYFBQUFBQUEBQYHCAkEBQUFBQQAAAICAAAAIgCNAJAAlT0A6gC7ANwApEQAwgCyAK0AqADuAKYA2gCjAOcBCAEDAMcAgQBiANIA1AEDAN4A8gCQAKkBMQDqAN8A3AsBCQ8yO9ra2tq8xuLT1tRJOB0BUgFcNU0BWgFpAWgBWwFMUUlLbhMBUxsNEAs6PhMOACcUKy0vMj5AQENDQ0RFFEYGJFdXV1dZWVhZL1pbXVxcI2NnZ2ZoZypsbnZ1eHh4eHh4enp6enp6enp6enp8fH18e2IARPIASQCaAHgAMgBm+ACOAFcAVwA3AnbvAIsABfj4AGQAk/IAnwBPAGIAZP//sACFAIUAaQBWALEAJAC2AIMCQAJDAPwA5wD+AP4A6AD/AOkA6QDoAOYALwJ7AVEBQAE+AVQBPgE+AT4BOQE4ATgBOAEcAVgXADEQCAEAUx8SHgsdHhYAjgCWAKYAUQBqIAIxAHYAbwCXAxUDJzIDIUlGTzEAkQJPAMcCVwKkAMAClgKWApYClgKWApYCiwKWApYClgKWApYClgKVApUCmAKgApcClgKWApQClAKUApQCkgKVAnUB1AKXAp8ClgKWApUeAIETBQD+DQOfAmECOh8BVBg9AuIZEjMbAU4/G1WZAXusRAFpYQEFA0FPAQYAmTEeIJdyADFoAHEANgCRA5zMk/C2jGINwjMWygIZCaXdfDILBCs5dAE7YnQBugDlhoiHhoiGiYqKhouOjIaNkI6Ij4qQipGGkoaThpSSlYaWhpeKmIaZhpqGm4aci52QnoqfhuIC4XTpAt90AIp0LHSoAIsAdHQEQwRABEIERQRDBEkERgRBBEcESQRIBEQERgRJAJ5udACrA490ALxuAQ10ANFZdHQA13QCFHQA/mJ0AP4BIQD+APwA/AD9APwDhGZ03ASMK23HAP4A/AD8AP0A/CR0dACRYnQA/gCRASEA/gCRAvQA/gCRA4RmdNwEjCttxyR0AP9idAEhAP4A/gD8APwA/QD8AP8A/AD8AP0A/AOEZnTcBIwrbcckdHQAkWJ0ASEA/gCRAP4AkQL0AP4AkQOEZnTcBIwrbcckdAJLAT50AlIBQXQCU8l0dAJfdHQDpgL0A6YDpgOnA6cDpwOnA4RmdNwEjCttxyR0dACRYnQBIQOmAJEDpgCRAvQDpgCRA4RmdNwEjCttxyR0BDh0AJEEOQCRDpU5dSgCADR03gV2CwArdAEFAM5iCnR0AF1iAAYcOgp0dACRCnQAXAEIwWZ0CnRmdHQAkWZ0CnRmdEXgAFF03gp0dEY0tlT2u3SOAQTwscwhjZZKrhYcBSfFp9XNbKiVDOD2b+cpe4/Z17mQnbtzzhaeQtE2GGj0IDNTjRUSyTxxw/RPHW/+vS7d1NfRt9z9QPZg4X7QFfhCnkvgNPIItOsC2eV6hPannZNHlZ9xrwZXIMOlu3jSoQSq78WEjwLjw1ELSlF1aBvfzwk5ZX7AUvQzjPQKbDuQ+sm4wNOp4A6AdVuRS0t1y/DZpg4R6m7FNjM9HgvW7Bi88zaMjOo6lM8wtBBdj8LP4ylv3zCXPhebMKJc066o9sF71oFW/8JXu86HJbwDID5lzw5GWLR/LhT0Qqnp2JQxNZNfcbLIzPy+YypqRm/lBmGmex+82+PisxUumSeJkALIT6rJezxMH+CTJmQtt5uwTVbL3ptmjDUQzlSIvWi8Tl7ng1NpuRn1Ng4n14Qc+3Iil7OwkvNWogLSPkn3pihIFytyIGmMhOe3n1tWsuMy9BdKyqF4Z3v2SgggTL9KVvMXPnCbRe+oOuFFP3HejBG/w9gvmfNYvg6JuWia2lcSSN1uIjBktzoIazOHPJZ7kKHPz8mRWVdW3lA8WGF9dQF6Bm673boov3BUWDU2JNcahR23GtfHKLOz/viZ+rYnZFaIznXO67CYEJ1fXuTRpZhYZkKe54xeoagkNGLs+NTZHE0rX45/XvQ2RGADX6vcAvdxIUBV27wxGm2zjZo4X3ILgAlrOFheuZ6wtsvaIj4yLY7qqawlliaIcrz2G+c3vscAnCkCuMzMmZvMfu9lLwTvfX+3cVSyPdN9ZwgDZhfjRgNJcLiJ67b9xx8JHswprbiE3v9UphotAPIgnXVIN5KmMc0piXhc6cChPnN+MRhG9adtdttQTTwSIpl8I4/j//d3sz1326qTBTpPRM/Hgh3kzqEXs8ZAk4ErQhNO8hzrQ0DLkWMA/N+91tn2MdOJnWC2FCZehkQrwzwbKOjhvZsbM95QoeL9skYyMf4srVPVJSgg7pOLUtr/n9eT99oe9nLtFRpjA9okV2Kj8h9k5HaC0oivRD8VyXkJ81tcd4fHNXPCfloIQasxsuO18/46dR2jgul/UIet2G0kRvnyONMKhHs6J26FEoqSqd+rfYjeEGwHWVDpX1fh1jBBcKGMqRepju9Y00mDVHC+Xdij/j44rKfvfjGinNs1jO/0F3jB83XCDINN/HB84axlP+3E/klktRo+vl3U/aiyMJbIodE1XSsDn6UAzIoMtUObY2+k/4gY/l+AkZJ5Sj2vQrkyLm3FoxjhDX+31UXBFf9XrAH31fFqoBmDEZvhvvpnZ87N+oZEu7U9O/nnk+QWj3x8uyoRbEnf+O5UMr9i0nHP38IF5AvzrBW8YWBUR0mIAzIvndQq9N3v/Jto3aPjPXUPl8ASdPPyAp7jENf8bk7VMM9ol9XGmlBmeDMuGqt+WzuL6CXAxXjIhCPM5vACchgMJ/8XBGLO/D1isVvGhwwHHr1DLaI5mn2Jr/b1pUD90uciDaS8cXNDzCWvNmT/PhQe5e8nTnnnkt8Ds/SIjibcum/fqDhKopxAY8AkSrPn+IGDEKOO+U3XOP6djFs2H5N9+orhOahiQk5KnEUWa+CzkVzhp8bMHRbg81qhjjXuIKbHjSLSIBKWqockGtKinY+z4/RdBUF6pcc3JmnlxVcNgrI4SEzKUZSwcD2QCyxzKve+gAmg6ZuSRkpPFa6mfThu7LJNu3H5K42uCpNvPAsoedolKV/LHe/eJ+BbaG5MG0NaSGVPRUmNFMFFSSpXEcXwbVh7UETOZZtoVNRGOIbbkig3McEtR68cG0RZAoJevWYo7Dg/lZ1CQzblWeUvVHmr8fY4Nqd9JJiH/zEX24mJviH60fAyFr0A3c4bC1j3yZU60VgJxXn8JgJXLUIsiBnmKmMYz+7yBQFBvqb2eYnuW59joZBf56/wXvWIR4R8wTmV80i1mZy+S4+BUES+hzjk0uXpC///z/IlqHZ1monzlXp8aCfhGKMti73FI1KbL1q6IKO4fuBuZ59gagjn5xU79muMpHXg6S+e+gDM/U9BKLHbl9l6o8czQKl4RUkJJiqftQG2i3BMg/TQlUYFkJDYBOOvAugYuzYSDnZbDDd/aSd9x0Oe6F+bJcHfl9+gp6L5/TgA+BdFFovbfCrQ40s5vMPw8866pNX8zyFGeFWdxIpPVp9Rg1UPOVFbFZrvaFq/YAzHQgqMWpahMYfqHpmwXfHL1/kpYmGuHFwT55mQu0dylfNuq2Oq0hTMCPwqfxnuBIPLXfci4Y1ANy+1CUipQxld/izVh16WyG2Q0CQQ9NqtAnx1HCHwDj7sYxOSB0wopZSnOzxQOcExmxrVTF2BkOthVpGfuhaGECfCJpJKpjnihY+xOT2QJxN61+9K6QSqtv2Shr82I3jgJrqBg0wELFZPjvHpvzTtaJnLK6Vb97Yn933koO/saN7fsjwNKzp4l2lJVx2orjCGzC/4ZL4zCver6aQYtC5sdoychuFE6ufOiog+VWi5UDkbmvmtah/3aArEBIi39s5ILUnlFLgilcGuz9CQshEY7fw2ouoILAYPVT/gyAIq3TFAIwVsl+ktkRz/qGfnCDGrm5gsl/l9QdvCWGsjPz3dU7XuqKfdUrr/6XIgjp4rey6AJBmCmUJMjITHVdFb5m1p+dLMCL8t55zD42cmftmLEJC0Da04YiRCVUBLLa8D071/N5UBNBXDh0LFsmhV/5B5ExOB4j3WVG/S3lfK5o+V6ELHvy6RR9n4ac+VsK4VE4yphPvV+kG9FegTBH4ZRXL2HytUHCduJazB/KykjfetYxOXTLws267aGOd+I+JhKP//+VnXmS90OD/jvLcVu0asyqcuYN1mSb6XTlCkqv1vigZPIYwNF/zpWcT1GR/6aEIRjkh0yhg4LXJfaGobYJTY4JI58KiAKgmmgAKWdl5nYCeLqavRJGQNuYuZtZFGx+IkI4w4NS2xwbetNMunOjBu/hmKCI/w7tfiiyUd//4rbTeWt4izBY8YvGIN6vyKYmP/8X8wHKCeN+WRcKM70+tXKNGyevU9H2Dg5BsljnTf8YbsJ1TmMs74Ce2XlHisleguhyeg44rQOHZuw/6HTkhnnurK2d62q6yS7210SsAIaR+jXMQA+svkrLpsUY+F30Uw89uOdGAR6vo4FIME0EfVVeHTu6eKicfhSqOeXJhbftcd08sWEnNUL1C9fnprTgd83IMut8onVUF0hvqzZfHduPjbjwEXIcoYmy+P6tcJZHmeOv6VrvEdkHDJecjHuHeWANe79VG662qTjA/HCvumVv3qL+LrOcpqGps2ZGwQdFJ7PU4iuyRlBrwfO+xnPyr47s2cXVbWzAyznDiBGjCM3ksxjjqM62GE9C8f5U38kB3VjtabKp/nRdvMESPGDG90bWRLAt1Qk5DyLuazRR1YzdC1c+hZXvAWV8xA72S4A8B67vjVhbba3MMop293FeEXpe7zItMWrJG/LOH9ByOXmYnNJfjmfuX9KbrpgLOba4nZ+fl8Gbdv/ihv+6wFGKHCYrVwmhFC0J3V2bn2tIB1wCc1CST3d3X2OyxhguXcs4sm679UngzofuSeBewMFJboIQHbUh/m2JhW2hG9DIvG2t7yZIzKBTz9wBtnNC+2pCRYhSIuQ1j8xsz5VvqnyUIthvuoyyu7fNIrg/KQUVmGQaqkqZk/Vx5b33/gsEs8yX7SC1J+NV4icz6bvIE7C5G6McBaI8rVg56q5QBJWxn/87Q1sPK4+sQa8fLU5gXo4paaq4cOcQ4wR0VBHPGjKh+UlPCbA1nLXyEUX45qZ8J7/Ln4FPJE2TdzD0Z8MLSNQiykMMmSyOCiFfy84Rq60emYB2vD09KjYwsoIpeDcBDTElBbXxND72yhd9pC/1CMid/5HUMvAL27OtcIJDzNKpRPNqPOpyt2aPGz9QWIs9hQ9LiX5s8m9hjTUu/f7MyIatjjd+tSfQ3ufZxPpmJhTaBtZtKLUcfOCUqADuO+QoH8B9v6U+P0HV1GLQmtoNFTb3s74ivZgjES0qfK+8RdGgBbcCMSy8eBvh98+et1KIFqSe1KQPyXULBMTsIYnysIwiZBJYdI20vseV+wuJkcqGemehKjaAb9L57xZm3g2zX0bZ2xk/fU+bCo7TlnbW7JuF1YdURo/2Gw7VclDG1W7LOtas2LX4upifZ/23rzpsnY/ALfRgrcWP5hYmV9VxVOQA1fZvp9F2UNU+7d7xRyVm5wiLp3/0dlV7vdw1PMiZrbDAYzIVqEjRY2YU03sJhPnlwIPcZUG5ltL6S8XCxU1eYS5cjr34veBmXAvy7yN4ZjArIG0dfD/5UpBNlX1ZPoxJOwyqRi3wQWtOzd4oNKh0LkoTm8cwqgIfKhqqGOhwo71I+zXnMemTv2B2AUzABWyFztGgGULjDDzWYwJUVBTjKCn5K2QGMK1CQT7SzziOjo+BhAmqBjzuc3xYym2eedGeOIRJVyTwDw37iCMe4g5Vbnsb5ZBdxOAnMT7HU4DHpxWGuQ7GeiY30Cpbvzss55+5Km1YsbD5ea3NI9QNYIXol5apgSu9dZ8f8xS5dtHpido5BclDuLWY4lhik0tbJa07yJhH0BOyEut/GRbYTS6RfiTYWGMCkNpfSHi7HvdiTglEVHKZXaVhezH4kkXiIvKopYAlPusftpE4a5IZwvw1x/eLvoDIh/zpo9FiQInsTb2SAkKHV42XYBjpJDg4374XiVb3ws4qM0s9eSQ5HzsMU4OZJKuopFjBM+dAZEl8RUMx5uU2N486Kr141tVsGQfGjORYMCJAMsxELeNT4RmWjRcpdTGBwcx6XN9drWqPmJzcrGrH4+DRc7+n1w3kPZwu0BkNr6hQrqgo7JTB9A5kdJ/H7P4cWBMwsmuixAzJB3yrQpnGIq90lxAXLzDCdn1LPibsRt7rHNjgQBklRgPZ8vTbjXdgXrTWQsK5MdrXXQVPp0Rinq3frzZKJ0qD6Qhc40VzAraUXlob1gvkhK3vpmHgI6FRlQZNx6eRqkp0zy4AQlX813fAPtL3jMRaitGFFjo0zmErloC+h+YYdVQ6k4F/epxAoF0BmqEoKNTt6j4vQZNQ2BoqF9Vj53TOIoNmDiu9Xp15RkIgQIGcoLpfoIbenzpGUAtqFJp5W+LLnx38jHeECTJ/navKY1NWfN0sY1T8/pB8kIH3DU3DX+u6W3YwpypBMYOhbSxGjq84RZ84fWJow8pyHqn4S/9J15EcCMsXqrfwyd9mhiu3+rEo9pPpoJkdZqHjra4NvzFwuThNKy6hao/SlLw3ZADUcUp3w3SRVfW2rhl80zOgTYnKE0Hs2qp1J6H3xqPqIkvUDRMFDYyRbsFI3M9MEyovPk8rlw7/0a81cDVLmBsR2ze2pBuKb23fbeZC0uXoIvDppfTwIDxk1Oq2dGesGc+oJXWJLGkOha3CX+DUnzgAp9HGH9RsPZN63Hn4RMA5eSVhPHO+9RcRb/IOgtW31V1Q5IPGtoxPjC+MEJbVlIMYADd9aHYWUIQKopuPOHmoqSkubnAKnzgKHqgIOfW5RdAgotN6BN+O2ZYHkuemLnvQ8U9THVrS1RtLmKbcC7PeeDsYznvqzeg6VCNwmr0Yyx1wnLjyT84BZz3EJyCptD3yeueAyDWIs0L2qs/VQ3HUyqfrja0V1LdDzqAikeWuV4sc7RLIB69jEIBjCkyZedoUHqCrOvShVzyd73OdrJW0hPOuQv2qOoHDc9xVb6Yu6uq3Xqp2ZaH46A7lzevbxQEmfrzvAYSJuZ4WDk1Hz3QX1LVdiUK0EvlAGAYlG3Md30r7dcPN63yqBCIj25prpvZP0nI4+EgWoFG95V596CurXpKRBGRjQlHCvy5Ib/iW8nZJWwrET3mgd6mEhfP4KCuaLjopWs7h+MdXFdIv8dHQJgg1xi1eYqB0uDYjxwVmri0Sv5XKut/onqapC+FQiC2C1lvYJ9MVco6yDYsS3AANUfMtvtbYI2hfwZatiSsnoUeMZd34GVjkMMKA+XnjJpXgRW2SHTZplVowPmJsvXy6w3cfO1AK2dvtZEKTkC/TY9LFiKHCG0DnrMQdGm2lzlBHM9iEYynH2UcVMhUEjsc0oDBTgo2ZSQ1gzkAHeWeBXYFjYLuuf8yzTCy7/RFR81WDjXMbq2BOH5dURnxo6oivmxL3cKzKInlZkD31nvpHB9Kk7GfcfE1t+1V64b9LtgeJGlpRFxQCAqWJ5DoY77ski8gsOEOr2uywZaoO/NGa0X0y1pNQHBi3b2SUGNpcZxDT7rLbBf1FSnQ8guxGW3W+36BW0gBje4DOz6Ba6SVk0xiKgt+q2JOFyr4SYfnu+Ic1QZYIuwHBrgzr6UvOcSCzPTOo7D6IC4ISeS7zkl4h+2VoeHpnG/uWR3+ysNgPcOIXQbv0n4mr3BwQcdKJxgPSeyuP/z1Jjg4e9nUvoXegqQVIE30EHx5GHv+FAVUNTowYDJgyFhf5IvlYmEqRif6+WN1MkEJmDcQITx9FX23a4mxy1AQRsOHO/+eImX9l8EMJI3oPWzVXxSOeHU1dUWYr2uAA7AMb+vAEZSbU3qob9ibCyXeypEMpZ6863o6QPqlqGHZkuWABSTVNd4cOh9hv3qEpSx2Zy/DJMP6cItEmiBJ5PFqQnDEIt3NrA3COlOSgz43D7gpNFNJ5MBh4oFzhDPiglC2ypsNU4ISywY2erkyb1NC3Qh/IfWj0eDgZI4/ln8WPfBsT3meTjq1Uqt1E7Zl/qftqkx6aM9KueMCekSnMrcHj1CqTWWzEzPsZGcDe3Ue4Ws+XFYVxNbOFF8ezkvQGR6ZOtOLU2lQEnMBStx47vE6Pb7AYMBRj2OOfZXfisjJnpTfSNjo6sZ6qSvNxZNmDeS7Gk3yYyCk1HtKN2UnhMIjOXUzAqDv90lx9O/q/AT1ZMnit5XQe9wmQxnE/WSH0CqZ9/2Hy+Sfmpeg8RwsHI5Z8kC8H293m/LHVVM/BA7HaTJYg5Enk7M/xWpq0192ACfBai2LA/qrCjCr6Dh1BIMzMXINBmX96MJ5Hn2nxln/RXPFhwHxUmSV0EV2V0jm86/dxxuYSU1W7sVkEbN9EzkG0QFwPhyHKyb3t+Fj5WoUUTErcazE/N6EW6Lvp0d//SDPj7EV9UdJN+Amnf3Wwk3A0SlJ9Z00yvXZ7n3z70G47Hfsow8Wq1JXcfwnA+Yxa5mFsgV464KKP4T31wqIgzFPd3eCe3j5ory5fBF2hgCFyVFrLzI9eetNXvM7oQqyFgDo4CTp/hDV9NMX9JDHQ/nyHTLvZLNLF6ftn2OxjGm8+PqOwhxnPHWipkE/8wbtyri80Sr7pMNkQGMfo4ZYK9OcCC4ESVFFbLMIvlxSoRqWie0wxqnLfcLSXMSpMMQEJYDVObYsXIQNv4TGNwjq1kvT1UOkicTrG3IaBZ3XdScS3u8sgeZPVpOLkbiF940FjbCeNRINNvDbd01EPBrTCPpm12m43ze1bBB59Ia6Ovhnur/Nvx3IxwSWol+3H2qfCJR8df6aQf4v6WiONxkK+IqT4pKQrZK/LplgDI/PJZbOep8dtbV7oCr6CgfpWa8NczOkPx81iSHbsNhVSJBOtrLIMrL31LK9TqHqAbAHe0RLmmV806kRLDLNEhUEJfm9u0sxpkL93Zgd6rw+tqBfTMi59xqXHLXSHwSbSBl0EK0+loECOPtrl+/nsaFe197di4yUgoe4jKoAJDXc6DGDjrQOoFDWZJ9HXwt8xDrQP+7aRwWKWI1GF8s8O4KzxWBBcwnl3vnl1Oez3oh6Ea1vjR7/z7DDTrFtqU2W/KAEzAuXDNZ7MY73MF216dzdSbWmUp4lcm7keJfWaMHgut9x5C9mj66Z0lJ+yhsjVvyiWrfk1lzPOTdhG15Y7gQlXtacvI7qv/XNSscDwqkgwHT/gUsD5yB7LdRRvJxQGYINn9hTpodKFVSTPrtGvyQw+HlRFXIkodErAGu9Iy1YpfSPc3jkFh5CX3lPxv7aqjE/JAfTIpEjGb/H7MO0e2vsViSW1qa/Lmi4/n4DEI3g7lYrcanspDfEpKkdV1OjSLOy0BCUqVoECaB55vs06rXl4jqmLsPsFM/7vYJ0vrBhDCm/00A/H81l1uekJ/6Lml3Hb9+NKiLqATJmDpyzfYZFHumEjC662L0Bwkxi7E9U4cQA0XMVDuMYAIeLMPgQaMVOd8fmt5SflFIfuBoszeAw7ow5gXPE2Y/yBc/7jExARUf/BxIHQBF5Sn3i61w4z5xJdCyO1F1X3+3ax+JSvMeZ7S6QSKp1Fp/sjYz6Z+VgCZzibGeEoujryfMulH7Rai5kAft9ebcW50DyJr2uo2z97mTWIu45YsSnNSMrrNUuG1XsYBtD9TDYzQffKB87vWbkM4EbPAFgoBV4GQS+vtFDUqOFAoi1nTtmIOvg38N4hT2Sn8r8clmBCXspBlMBYTnrqFJGBT3wZOzAyJDre9dHH7+x7qaaKDOB4UQALD5ecS0DE4obubQEiuJZ0EpBVpLuYcce8Aa4PYd/V4DLDAJBYKQPCWTcrEaZ5HYbJi11Gd6hjGom1ii18VHYnG28NKpkz2UKVPxlhYSp8uZr367iOmoy7zsxehW9wzcy2zG0a80PBMCRQMb32hnaHeOR8fnNDzZhaNYhkOdDsBUZ3loDMa1YP0uS0cjUP3b/6DBlqmZOeNABDsLl5BI5QJups8uxAuWJdkUB/pO6Zax6tsg7fN5mjjDgMGngO+DPcKqiHIDbFIGudxtPTIyDi9SFMKBDcfdGQRv41q1AqmxgkVfJMnP8w/Bc7N9/TR6C7mGObFqFkIEom8sKi2xYqJLTCHK7cxzaZvqODo22c3wisBCP4HeAgcRbNPAsBkNRhSmD48dHupdBRw4mIvtS5oeF6zeT1KMCyhMnmhpkFAGWnGscoNkwvQ8ZM5lE/vgTHFYL99OuNxdFBxTEDd5v2qLR8y9WkXsWgG6kZNndFG+pO/UAkOCipqIhL3hq7cRSdrCq7YhUsTocEcnaFa6nVkhnSeRYUA1YO0z5itF9Sly3VlxYDw239TJJH6f3EUfYO5lb7bcFcz8Bp7Oo8QmnsUHOz/fagVUBtKEw1iT88j+aKkv8cscKNkMxjYr8344D1kFoZ7/td1W6LCNYN594301tUGRmFjAzeRg5vyoM1F6+bJZ/Q54jN/k8SFd3DxPTYaAUsivsBfgTn7Mx8H2SpPt4GOdYRnEJOH6jHM2p6SgB0gzIRq6fHxGMmSmqaPCmlfwxiuloaVIitLGN8wie2CDWhkzLoCJcODh7KIOAqbHEvXdUxaS4TTTs07Clzj/6GmVs9kiZDerMxEnhUB6QQPlcfqkG9882RqHoLiHGBoHfQuXIsAG8GTAtao2KVwRnvvam8jo1e312GQAKWEa4sUVEAMG4G6ckcONDwRcg1e2D3+ohXgY4UAWF8wHKQMrSnzCgfFpsxh+aHXMGtPQroQasRY4U6UdG0rz1Vjbka0MekOGRZQEvqQFlxseFor8zWFgHek3v29+WqN6gaK5gZOTOMZzpQIC1201LkMCXild3vWXSc5UX9xcFYfbRPzGFa1FDcPfPB/jUEq/FeGt419CI3YmBlVoHsa4KdcwQP5ZSwHHhFJ7/Ph/Rap/4vmG91eDwPP0lDfCDRCLszTqfzM71xpmiKi2HwS4WlqvGNwtvwF5Dqpn6KTq8ax00UMPkxDcZrEEEsIvHiUXXEphdb4GB4FymlPwBz4Gperqq5pW7TQ6/yNRhW8VT5NhuP0udlxo4gILq5ZxAZk8ZGh3g4CqxJlPKY7AQxupfUcVpWT5VItp1+30UqoyP4wWsRo3olRRgkWZZ2ZN6VC3OZFeXB8NbnUrSdikNptD1QiGuKkr8EmSR/AK9Rw+FF3s5uwuPbvHGiPeFOViltMK7AUaOsq9+x9cndk3iJEE5LKZRlWJbKOZweROzmPNVPkjE3K/TyA57Rs68TkZ3MR8akKpm7cFjnjPd/DdkWjgYoKHSr5Wu5ssoBYU4acRs5g2DHxUmdq8VXOXRbunD8QN0LhgkssgahcdoYsNvuXGUK/KXD/7oFb+VGdhqIn02veuM5bLudJOc2Ky0GMaG4W/xWBxIJcL7yliJOXOpx0AkBqUgzlDczmLT4iILXDxxtRR1oZa2JWFgiAb43obrJnG/TZC2KSK2wqOzRZTXavZZFMb1f3bXvVaNaK828w9TO610gk8JNf3gMfETzXXsbcvRGCG9JWQZ6+cDPqc4466Yo2RcKH+PILeKOqtnlbInR3MmBeGG3FH10yzkybuqEC2HSQwpA0An7d9+73BkDUTm30bZmoP/RGbgFN+GrCOfADgqr0WbI1a1okpFms8iHYw9hm0zUvlEMivBRxModrbJJ+9/p3jUdQQ9BCtQdxnOGrT5dzRUmw0593/mbRSdBg0nRvRZM5/E16m7ZHmDEtWhwvfdZCZ8J8M12W0yRMszXamWfQTwIZ4ayYktrnscQuWr8idp3PjT2eF/jmtdhIfcpMnb+IfZY2FebW6UY/AK3jP4u3Tu4zE4qlnQgLFbM19EBIsNf7KhjdbqQ/D6yiDb+NlEi2SKD+ivXVUK8ib0oBo366gXkR8ZxGjpJIDcEgZPa9TcYe0TIbiPl/rPUQDu3XBJ9X/GNq3FAUsKsll57DzaGMrjcT+gctp+9MLYXCq+sqP81eVQ0r9lt+gcQfZbACRbEjvlMskztZG8gbC8Qn9tt26Q7y7nDrbZq/LEz7kR6Jc6pg3N9rVX8Y5MJrGlML9p9lU4jbTkKqCveeZUJjHB03m2KRKR2TytoFkTXOLg7keU1s1lrPMQJpoOKLuAAC+y1HlJucU6ysB5hsXhvSPPLq5J7JtnqHKZ4vYjC4Vy8153QY+6780xDuGARsGbOs1WqzH0QS765rnSKEbbKlkO8oI/VDwUd0is13tKpqILu1mDJFNy/iJAWcvDgjxvusIT+PGz3ST/J9r9Mtfd0jpaGeiLYIqXc7DiHSS8TcjFVksi66PEkxW1z6ujbLLUGNNYnzOWpH8BZGK4bCK7iR+MbIv8ncDAz1u4StN3vTTzewr9IQjk9wxFxn+6N1ddKs0vffJiS08N3a4G1SVrlZ97Q/M+8G9fe5AP6d9/Qq4WRnORVhofPIKEdCr3llspUfE0oKIIYoByBRPh+bX1HLS3JWGJRhIvE1aW4NTd8ePi4Z+kXb+Z8snYfSNcqijhAgVsx4RCM54cXUiYkjeBmmC4ajOHrChoELscJJC7+9jjMjw5BagZKlgRMiSNYz7h7vvZIoQqbtQmspc0cUk1G/73iXtSpROl5wtLgQi0mW2Ex8i3WULhcggx6E1LMVHUsdc9GHI1PH3U2Ko0PyGdn9KdVOLm7FPBui0i9a0HpA60MsewVE4z8CAt5d401Gv6zXlIT5Ybit1VIA0FCs7wtvYreru1fUyW3oLAZ/+aTnZrOcYRNVA8spoRtlRoWflsRClFcgzkqiHOrf0/SVw+EpVaFlJ0g4Kxq1MMOmiQdpMNpte8lMMQqm6cIFXlnGbfJllysKDi+0JJMotkqgIxOSQgU9dn/lWkeVf8nUm3iwX2Nl3WDw9i6AUK3vBAbZZrcJpDQ/N64AVwjT07Jef30GSSmtNu2WlW7YoyW2FlWfZFQUwk867EdLYKk9VG6JgEnBiBxkY7LMo4YLQJJlAo9l/oTvJkSARDF/XtyAzM8O2t3eT/iXa6wDN3WewNmQHdPfsxChU/KtLG2Mn8i4ZqKdSlIaBZadxJmRzVS/o4yA65RTSViq60oa395Lqw0pzY4SipwE0SXXsKV+GZraGSkr/RW08wPRvqvSUkYBMA9lPx4m24az+IHmCbXA+0faxTRE9wuGeO06DIXa6QlKJ3puIyiuAVfPr736vzo2pBirS+Vxel3TMm3JKhz9o2ZoRvaFVpIkykb0Hcm4oHFBMcNSNj7/4GJt43ogonY2Vg4nsDQIWxAcorpXACzgBqQPjYsE/VUpXpwNManEru4NwMCFPkXvMoqvoeLN3qyu/N1eWEHttMD65v19l/0kH2mR35iv/FI+yjoHJ9gPMz67af3Mq/BoWXqu3rphiWMXVkmnPSEkpGpUI2h1MThideGFEOK6YZHPwYzMBvpNC7+ZHxPb7epfefGyIB4JzO9DTNEYnDLVVHdQyvOEVefrk6Uv5kTQYVYWWdqrdcIl7yljwwIWdfQ/y+2QB3eR/qxYObuYyB4gTbo2in4PzarU1sO9nETkmj9/AoxDA+JM3GMqQtJR4jtduHtnoCLxd1gQUscHRB/MoRYIEsP2pDZ9KvHgtlk1iTbWWbHhohwFEYX7y51fUV2nuUmnoUcqnWIQAAgl9LTVX+Bc0QGNEhChxHR4YjfE51PUdGfsSFE6ck7BL3/hTf9jLq4G1IafINxOLKeAtO7quulYvH5YOBc+zX7CrMgWnW47/jfRsWnJjYYoE7xMfWV2HN2iyIqLI";const IN=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]),BN=4;function vQ(t){let e=0;function n(){return t[e++]<<8|t[e++]}let r=n(),i=1,o=[0,1];for(let O=1;O<r;O++)o.push(i+=n());let a=n(),l=e;e+=a;let f=0,h=0;function d(){return f==0&&(h=h<<8|t[e++],f=8),h>>--f&1}const g=31,y=2**g,b=y>>>1,x=b>>1,w=y-1;let E=0;for(let O=0;O<g;O++)E=E<<1|d();let A=[],C=0,S=y;for(;;){let O=Math.floor(((E-C+1)*i-1)/S),P=0,M=r;for(;M-P>1;){let z=P+M>>>1;O<o[z]?M=z:P=z}if(P==0)break;A.push(P);let I=C+Math.floor(S*o[P]/i),k=C+Math.floor(S*o[P+1]/i)-1;for(;((I^k)&b)==0;)E=E<<1&w|d(),I=I<<1&w,k=k<<1&w|1;for(;I&~k&x;)E=E&b|E<<1&w>>>1|d(),I=I<<1^b,k=(k^b)<<1|b|1;C=I,S=1+k-I}let R=r-4;return A.map(O=>{switch(O-R){case 3:return R+65792+(t[l++]<<16|t[l++]<<8|t[l++]);case 2:return R+256+(t[l++]<<8|t[l++]);case 1:return R+t[l++];default:return O-1}})}function xQ(t){let e=0;return()=>t[e++]}function X6(t){return xQ(vQ(EQ(t)))}function EQ(t){let e=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach((i,o)=>e[i.charCodeAt(0)]=o);let n=t.length,r=new Uint8Array(6*n>>3);for(let i=0,o=0,a=0,l=0;i<n;i++)l=l<<6|e[t.charCodeAt(i)],a+=6,a>=8&&(r[o++]=l>>(a-=8));return r}function AQ(t){return t&1?~t>>1:t>>1}function SQ(t,e){let n=Array(t);for(let r=0,i=0;r<t;r++)n[r]=i+=AQ(e());return n}function mg(t,e=0){let n=[];for(;;){let r=t(),i=t();if(!i)break;e+=r;for(let o=0;o<i;o++)n.push(e+o);e+=i+1}return n}function Z6(t){return yg(()=>{let e=mg(t);if(e.length)return e})}function J6(t){let e=[];for(;;){let n=t();if(n==0)break;e.push(TQ(n,t))}for(;;){let n=t()-1;if(n<0)break;e.push(CQ(n,t))}return e.flat()}function yg(t){let e=[];for(;;){let n=t(e.length);if(!n)break;e.push(n)}return e}function e5(t,e,n){let r=Array(t).fill().map(()=>[]);for(let i=0;i<e;i++)SQ(t,n).forEach((o,a)=>r[a].push(o));return r}function TQ(t,e){let n=1+e(),r=e(),i=yg(e);return e5(i.length,1+t,e).flatMap((a,l)=>{let[f,...h]=a;return Array(i[l]).fill().map((d,g)=>{let y=g*r;return[f+g*n,h.map(b=>b+y)]})})}function CQ(t,e){let n=1+e();return e5(n,1+t,e).map(i=>[i[0],i.slice(1)])}function OQ(t){let e=[],n=mg(t);return i(r([]),[]),e;function r(o){let a=t(),l=yg(()=>{let f=mg(t).map(h=>n[h]);if(f.length)return r(f)});return{S:a,B:l,Q:o}}function i({S:o,B:a},l,f){if(!(o&4&&f===l[l.length-1])){o&2&&(f=l[l.length-1]),o&1&&e.push(l);for(let h of a)for(let d of h.Q)i(h,[...l,d],f)}}}function DQ(t){return t.toString(16).toUpperCase().padStart(2,"0")}function t5(t){return`{${DQ(t)}}`}function PQ(t){let e=[];for(let n=0,r=t.length;n<r;){let i=t.codePointAt(n);n+=i<65536?1:2,e.push(i)}return e}function Lh(t){let n=t.length;if(n<4096)return String.fromCodePoint(...t);let r=[];for(let i=0;i<n;)r.push(String.fromCodePoint(...t.slice(i,i+=4096)));return r.join("")}function NQ(t,e){let n=t.length,r=n-e.length;for(let i=0;r==0&&i<n;i++)r=t[i]-e[i];return r}var RQ="AEUDTAHBCFQATQDRADAAcgAgADQAFAAsABQAHwAOACQADQARAAoAFwAHABIACAAPAAUACwAFAAwABAAQAAMABwAEAAoABQAIAAIACgABAAQAFAALAAIACwABAAIAAQAHAAMAAwAEAAsADAAMAAwACgANAA0AAwAKAAkABAAdAAYAZwDSAdsDJgC0CkMB8xhZAqfoC190UGcThgBurwf7PT09Pb09AjgJum8OjDllxHYUKXAPxzq6tABAxgK8ysUvWAgMPT09PT09PSs6LT2HcgWXWwFLoSMEEEl5RFVMKvO0XQ8ExDdJMnIgsj26PTQyy8FfEQ8AY8IPAGcEbwRwBHEEcgRzBHQEdQR2BHcEeAR6BHsEfAR+BIAEgfndBQoBYgULAWIFDAFiBNcE2ATZBRAFEQUvBdALFAsVDPcNBw13DYcOMA4xDjMB4BllHI0B2grbAMDpHLkQ7QHVAPRNQQFnGRUEg0yEB2uaJF8AJpIBpob5AERSMAKNoAXqaQLUBMCzEiACnwRZEkkVsS7tANAsBG0RuAQLEPABv9HICTUBXigPZwRBApMDOwAamhtaABqEAY8KvKx3LQ4ArAB8UhwEBAVSagD8AEFZADkBIadVj2UMUgx5Il4ANQC9AxIB1BlbEPMAs30CGxlXAhwZKQIECBc6EbsCoxngzv7UzRQA8M0BawL6ZwkN7wABAD33OQRcsgLJCjMCjqUChtw/km+NAsXPAoP2BT84PwURAK0RAvptb6cApQS/OMMey5HJS84UdxpxTPkCogVFITaTOwERAK5pAvkNBOVyA7q3BKlOJSALAgUIBRcEdASpBXqzABXFSWZOawLCOqw//AolCZdvv3dSBkEQGyelEPcMMwG1ATsN7UvYBPEGOwTJH30ZGQ/NlZwIpS3dDO0m4y6hgFoj9SqDBe1L9DzdC01RaA9ZC2UJ4zpjgU4DIQENIosK3Q05CG0Q8wrJaw3lEUUHOQPVSZoApQcBCxEdNRW1JhBirAsJOXcG+xr2C48mrxMpevwF0xohBk0BKRr/AM8u54WwWjFcHE9fBgMLJSPHFKhQIA0lQLd4SBobBxUlqQKRQ3BKh1E2HpMh9jw9DWYuE1F8B/U8BRlPC4E8nkarRQ4R0j6NPUgiSUwsBDV/LC8niwnPD4UMuXxyAVkJIQmxDHETMREXN8UIOQcZLZckJxUIIUaVYJoE958D8xPRAwsFPwlBBxMDtRwtEy4VKQUNgSTXAvM21S6zAo9WgAEXBcsPJR/fEFBH4A7pCJsCZQODJesALRUhABcimwhDYwBfj9hTBS7LCMdqbCN0A2cU52ERcweRDlcHpxwzFb8c4XDIXguGCCijrwlbAXUJmQFfBOMICTVbjKAgQWdTi1gYmyBhQT9d/AIxDGUVn0S9h3gCiw9rEhsBNQFzBzkNAQJ3Ee0RaxCVCOuGBDW1M/g6JQRPIYMgEQonA09szgsnJvkM+GkBoxJiAww0PXfuZ6tgtiQX/QcZMsVBYCHxC5JPzQycGsEYQlQuGeQHvwPzGvMn6kFXBf8DowMTOk0z7gS9C2kIiwk/AEkOoxcH1xhqCnGM0AExiwG3mQNXkYMCb48GNwcLAGcLhwV55QAdAqcIowAFAM8DVwA5Aq0HnQAZAIVBAT0DJy8BIeUCjwOTCDHLAZUvAfMpBBvDDBUA9zduSgLDsQKAamaiBd1YAo4CSTUBTSUEBU5HUQOvceEA2wBLBhPfRwEVq0rLGuNDAd9vKwDHAPsABTUHBUEBzQHzbQC3AV8LMQmis7UBTekpAIMAFWsB1wKJAN0ANQB/8QFTAE0FWfkF0wJPSQERMRgrV2EBuwMfATMBDQB5BsuNpckHHwRtB9MCEBsV4QLvLge1AQMi3xPNQsUCvd5VoWACZIECYkJbTa9bNyACofcCaJgCZgkCn4Q4GwsCZjsCZiYEbgR/A38TA36SOQY5dxc5gjojIwJsHQIyNjgKAm3HAm2u74ozZ0UrAWcA3gDhAEoFB5gMjQD+C8IADbUCdy8CdqI/AnlLQwJ4uh1c20WuRtcCfD8CesgCfQkCfPAFWQUgSABIfWMkAoFtAoAAAoAFAn+uSVhKWxUXSswC0QEC0MxLJwOITwOH5kTFkTIC8qFdAwMDrkvOTC0lA89NTE2vAos/AorYwRsHHUNnBbcCjjcCjlxAl4ECjtkCjlx4UbRTNQpS1FSFApP7ApMMAOkAHFUeVa9V0AYsGymVhjLheGZFOzkCl58C77JYIagAWSUClo8ClnycAKlZrFoJgU0AOwKWtQKWTlxEXNECmcsCmWRcyl0HGQKcmznCOp0CnBYCn5sCnriKAB0PMSoPAp3xAp6SALU9YTRh7wKe0wKgbgGpAp6fHwKeTqVjyGQnJSsCJ68CJn4CoPsCoEwCot0CocQCpi8Cpc4Cp/8AfQKn8mh8aLEAA0lqHGrRAqzjAqyuAq1nAq0CAlcdAlXcArHh1wMfTmyXArK9DQKy6Bds4G1jbUhfAyXNArZcOz9ukAMpRQK4XgK5RxUCuSp3cDZw4QK9GQK72nCWAzIRAr6IcgIDM3ECvhpzInNPAsPLAsMEc4J0SzVFdOADPKcDPJoDPb8CxXwCxkcCxhCJAshpUQLIRALJTwLJLgJknQLd0nh5YXiueSVL0AMYo2cCAmH0GfOVJHsLXpJeuxECz2sCz2wvS1PS8xOfAMatAs9zASnqA04SfksFAtwnAtuKAtJPA1JcA1NfAQEDVYyAiT8AyxbtYEWCHILTgs6DjQLaxwLZ3oQQhEmnPAOGpQAvA2QOhnFZ+QBVAt9lAt64c3cC4i/tFAHzMCcB9JsB8tKHAuvzAulweQLq+QLq5AD5RwG5Au6JAuuclqqXAwLuPwOF4Jh5cOBxoQLzAwBpA44WmZMC9xMDkW4DkocC95gC+dkC+GaaHJqruzebHgOdgwL++gEbADmfHJ+zAwWNA6ZqA6bZANHFAwZqoYiiBQkDDEkCwAA/AwDhQRdTARHzA2sHl2cFAJMtK7evvdsBiZkUfxEEOQH7KQUhDp0JnwCS/SlXxQL3AZ0AtwW5AG8LbUEuFCaNLgFDAYD8AbUmAHUDDgRtACwCFgyhAAAKAj0CagPdA34EkQEgRQUhfAoABQBEABMANhICdwEABdUDa+8KxQIA9wqfJ7+xt+UBkSFBQgHpFH8RNMCJAAQAGwBaAkUChIsABjpTOpSNbQC4Oo860ACNOME63AClAOgAywE6gTo7Ofw5+Tt2iTpbO56JOm85GAFWATMBbAUvNV01njWtNWY1dTW2NcU1gjWRNdI14TWeNa017jX9NbI1wTYCNhE1xjXVNhY2JzXeNe02LjY9Ni41LSE2OjY9Njw2yTcIBJA8VzY4Nt03IDcPNsogN4k3MAoEsDxnNiQ3GTdsOo03IULUQwdC4EMLHA8PCZsobShRVQYA6X8A6bABFCnXAukBowC9BbcAbwNzBL8MDAMMAQgDAAkKCwsLCQoGBAVVBI/DvwDz9b29kaUCb0QtsRTNLt4eGBcSHAMZFhYZEhYEARAEBUEcQRxBHEEcQRxBHEEaQRxBHEFCSTxBPElISUhBNkM2QTYbNklISVmBVIgBFLWZAu0BhQCjBcEAbykBvwGJAaQcEZ0ePCklMAAhMvAIMAL54gC7Bm8EescjzQMpARQpKgDUABavAj626xQAJP0A3etzuf4NNRA7efy2Z9NQrCnC0OSyANz5BBIbJ5IFDR6miIavYS6tprjjmuKebxm5C74Q225X1pkaYYPb6f1DK4k3xMEBb9S2WMjEibTNWhsRJIA+vwNVEiXTE5iXs/wezV66oFLfp9NZGYW+Gk19J2+bCT6Ye2w6LDYdgzKMUabk595eLBCXANz9HUpWbATq9vqXVx9XDg+Pc9Xp4+bsS005SVM/BJBM4687WUuf+Uj9dEi8aDNaPxtpbDxcG1THTImUMZq4UCaaNYpsVqraNyKLJXDYsFZ/5jl7bLRtO88t7P3xZaAxhb5OdPMXqsSkp1WCieG8jXm1U99+blvLlXzPCS+M93VnJCiK+09LfaSaBAVBomyDgJua8dfUzR7ga34IvR2Nvj+A9heJ6lsl1KG4NkI1032Cnff1m1wof2B9oHJK4bi6JkEdSqeNeiuo6QoZZincoc73/TH9SXF8sCE7XyuYyW8WSgbGFCjPV0ihLKhdPs08Tx82fYAkLLc4I2wdl4apY7GU5lHRFzRWJep7Ww3wbeA3qmd59/86P4xuNaqDpygXt6M85glSBHOCGgJDnt+pN9bK7HApMguX6+06RZNjzVmcZJ+wcUrJ9//bpRNxNuKpNl9uFds+S9tdx7LaM5ZkIrPj6nIU9mnbFtVbs9s/uLgl8MVczAwet+iOEzzBlYW7RCMgE6gyNLeq6+1tIx4dpgZnd0DksJS5f+JNDpwwcPNXaaVspq1fbQajOrJgK0ofKtJ1Ne90L6VO4MOl5S886p7u6xo7OLjG8TGL+HU1JXGJgppg4nNbNJ5nlzSpuPYy21JUEcUA94PoFiZfjZue+QnyQ80ekOuZVkxx4g+cvhJfHgNl4hy1/a6+RKcKlar/J29y//EztlbVPHVUeQ1zX86eQVAjR/M3dA9w4W8LfaXp4EgM85wOWasli837PzVMOnsLzR+k3o75/lRPAJSE1xAKQzEi5v10ke+VBvRt1cwQRMd+U5mLCTGVd6XiZtgBG5cDi0w22GKcVNvHiu5LQbZEDVtz0onn7k5+heuKXVsZtSzilkLRAUmjMXEMB3J9YC50XBxPiz53SC+EhnPl9WsKCv92SM/OFFIMJZYfl0WW8tIO3UxYcwdMAj7FSmgrsZ2aAZO03BOhP1bNNZItyXYQFTpC3SG1VuPDqH9GkiCDmE+JwxyIVSO5siDErAOpEXFgjy6PQtOVDj+s6e1r8heWVvmZnTciuf4EiNZzCAd7SOMhXERIOlsHIMG399i9aLTy3m2hRLZjJVDNLS53iGIK11dPqQt0zBDyg6qc7YqkDm2M5Ve6dCWCaCbTXX2rToaIgz6+zh4lYUi/+6nqcFMAkQJKHYLK0wYk5N9szV6xihDbDDFr45lN1K4aCXBq/FitPSud9gLt5ZVn+ZqGX7cwm2z5EGMgfFpIFyhGGuDPmso6TItTMwny+7uPnLCf4W6goFQFV0oQSsc9VfMmVLcLr6ZetDZbaSFTLqnSO/bIPjA3/zAUoqgGFAEQS4IhuMzEp2I3jJzbzkk/IEmyax+rhZTwd6f+CGtwPixu8IvzACquPWPREu9ZvGkUzpRwvRRuaNN6cr0W1wWits9ICdYJ7ltbgMiSL3sTPeufgNcVqMVWFkCPDH4jG2jA0XcVgQj62Cb29v9f/z/+2KbYvIv/zzjpQAPkliaVDzNrW57TZ/ZOyZD0nlfMmAIBIAGAI0D3k/mdN4xr9v85ZbZbbqfH2jGd5hUqNZWwl5SPfoGmfElmazUIeNL1j/mkF7VNAzTq4jNt8JoQ11NQOcmhprXoxSxfRGJ9LDEOAQ+dmxAQH90iti9e2u/MoeuaGcDTHoC+xsmEeWmxEKefQuIzHbpw5Tc5cEocboAD09oipWQhtTO1wivf/O+DRe2rpl/E9wlrzBorjJsOeG1B/XPW4EaJEFdNlECEZga5ZoGRHXgYouGRuVkm8tDESiEyFNo+3s5M5puSdTyUL2llnINVHEt91XUNW4ewdMgJ4boJfEyt/iY5WXqbA+A2Fkt5Z0lutiWhe9nZIyIUjyXDC3UsaG1t+eNx6z4W/OYoTB7A6x+dNSTOi9AInctbESqm5gvOLww7OWXPrmHwVZasrl4eD113pm+JtT7JVOvnCXqdzzdTRHgJ0PiGTFYW5Gvt9R9LD6Lzfs0v/TZZHSmyVNq7viIHE6DBK7Qp07Iz55EM8SYtQvZf/obBniTWi5C2/ovHfw4VndkE5XYdjOhCMRjDeOEfXeN/CwfGduiUIfsoFeUxXeQXba7c7972XNv8w+dTjjUM0QeNAReW+J014dKAD/McQYXT7c0GQPIkn3Ll6R7gGjuiQoZD0TEeEqQpKoZ15g/0OPQI17QiSv9AUROa/V/TQN3dvLArec3RrsYlvBm1b8LWzltdugsC50lNKYLEp2a+ZZYqPejULRlOJh5zj/LVMyTDvwKhMxxwuDkxJ1QpoNI0OTWLom4Z71SNzI9TV1iXJrIu9Wcnd+MCaAw8o1jSXd94YU/1gnkrC9BUEOtQvEIQ7g0i6h+KL2JKk8Ydl7HruvgWMSAmNe+LshGhV4qnWHhO9/RIPQzY1tHRj2VqOyNsDpK0cww+56AdDC4gsWwY0XxoucIWIqs/GcwnWqlaT0KPr8mbK5U94/301i1WLt4YINTVvCFBrFZbIbY8eycOdeJ2teD5IfPLCRg7jjcFTwlMFNl9zdh/o3E/hHPwj7BWg0MU09pPrBLbrCgm54A6H+I6v27+jL5gkjWg/iYdks9jbfVP5y/n0dlgWEMlKasl7JvFZd56LfybW1eeaVO0gxTfXZwD8G4SI116yx7UKVRgui6Ya1YpixqXeNLc8IxtAwCU5IhwQgn+NqHnRaDv61CxKhOq4pOX7M6pkA+Pmpd4j1vn6ACUALoLLc4vpXci8VidLxzm7qFBe7s+quuJs6ETYmnpgS3LwSZxPIltgBDXz8M1k/W2ySNv2f9/NPhxLGK2D21dkHeSGmenRT3Yqcdl0m/h3OYr8V+lXNYGf8aCCpd4bWjE4QIPj7vUKN4Nrfs7ML6Y2OyS830JCnofg/k7lpFpt4SqZc5HGg1HCOrHvOdC8bP6FGDbE/VV0mX4IakzbdS/op+Kt3G24/8QbBV7y86sGSQ/vZzU8FXs7u6jIvwchsEP2BpIhW3G8uWNwa3HmjfH/ZjhhCWvluAcF+nMf14ClKg5hGgtPLJ98ueNAkc5Hs2WZlk2QHvfreCK1CCGO6nMZVSb99VM/ajr8WHTte9JSmkXq/i/U943HEbdzW6Re/S88dKgg8pGOLlAeNiqrcLkUR3/aClFpMXcOUP3rmETcWSfMXZE3TUOi8i+fqRnTYLflVx/Vb/6GJ7eIRZUA6k3RYR3iFSK9c4iDdNwJuZL2FKz/IK5VimcNWEqdXjSoxSgmF0UPlDoUlNrPcM7ftmA8Y9gKiqKEHuWN+AZRIwtVSxye2Kf8rM3lhJ5XcBXU9n4v0Oy1RU2M+4qM8AQPVwse8ErNSob5oFPWxuqZnVzo1qB/IBxkM3EVUKFUUlO3e51259GgNcJbCmlvrdjtoTW7rChm1wyCKzpCTwozUUEOIcWLneRLgMXh+SjGSFkAllzbGS5HK7LlfCMRNRDSvbQPjcXaenNYxCvu2Qyznz6StuxVj66SgI0T8B6/sfHAJYZaZ78thjOSIFumNWLQbeZixDCCC+v0YBtkxiBB3jefHqZ/dFHU+crbj6OvS1x/JDD7vlm7zOVPwpUC01nhxZuY/63E7g";const bg=44032,X0=4352,Z0=4449,J0=4519,n5=19,r5=21,$h=28,eb=r5*$h,_Q=n5*eb,IQ=bg+_Q,BQ=X0+n5,MQ=Z0+r5,kQ=J0+$h;function Ip(t){return t>>24&255}function i5(t){return t&16777215}let oA,MN,aA,T0;function UQ(){let t=X6(RQ);oA=new Map(Z6(t).flatMap((e,n)=>e.map(r=>[r,n+1<<24]))),MN=new Set(mg(t)),aA=new Map,T0=new Map;for(let[e,n]of J6(t)){if(!MN.has(e)&&n.length==2){let[r,i]=n,o=T0.get(r);o||(o=new Map,T0.set(r,o)),o.set(i,e)}aA.set(e,n.reverse())}}function s5(t){return t>=bg&&t<IQ}function LQ(t,e){if(t>=X0&&t<BQ&&e>=Z0&&e<MQ)return bg+(t-X0)*eb+(e-Z0)*$h;if(s5(t)&&e>J0&&e<kQ&&(t-bg)%$h==0)return t+(e-J0);{let n=T0.get(t);return n&&(n=n.get(e),n)?n:-1}}function o5(t){oA||UQ();let e=[],n=[],r=!1;function i(o){let a=oA.get(o);a&&(r=!0,o|=a),e.push(o)}for(let o of t)for(;;){if(o<128)e.push(o);else if(s5(o)){let a=o-bg,l=a/eb|0,f=a%eb/$h|0,h=a%$h;i(X0+l),i(Z0+f),h>0&&i(J0+h)}else{let a=aA.get(o);a?n.push(...a):i(o)}if(!n.length)break;o=n.pop()}if(r&&e.length>1){let o=Ip(e[0]);for(let a=1;a<e.length;a++){let l=Ip(e[a]);if(l==0||o<=l){o=l;continue}let f=a-1;for(;;){let h=e[f+1];if(e[f+1]=e[f],e[f]=h,!f||(o=Ip(e[--f]),o<=l))break}o=Ip(e[a])}}return e}function $Q(t){let e=[],n=[],r=-1,i=0;for(let o of t){let a=Ip(o),l=i5(o);if(r==-1)a==0?r=l:e.push(l);else if(i>0&&i>=a)a==0?(e.push(r,...n),n.length=0,r=l):n.push(l),i=a;else{let f=LQ(r,l);f>=0?r=f:i==0&&a==0?(e.push(r),r=l):(n.push(l),i=a)}}return r>=0&&e.push(r,...n),e}function a5(t){return o5(t).map(i5)}function jQ(t){return $Q(o5(t))}const kN=45,c5=".",l5=65039,u5=1,tb=t=>Array.from(t);function wg(t,e){return t.P.has(e)||t.Q.has(e)}class FQ extends Array{get is_emoji(){return!0}}let cA,f5,pl,lA,h5,Ff,px,Ef,el,UN,uA;function RS(){if(cA)return;let t=X6(wQ);const e=()=>mg(t),n=()=>new Set(e()),r=(d,g)=>g.forEach(y=>d.add(y));cA=new Map(J6(t)),f5=n(),pl=e(),lA=new Set(e().map(d=>pl[d])),pl=new Set(pl),h5=n(),n();let i=Z6(t),o=t();const a=()=>{let d=new Set;return e().forEach(g=>r(d,i[g])),r(d,e()),d};Ff=yg(d=>{let g=yg(t).map(y=>y+96);if(g.length){let y=d>=o;g[0]-=32,g=Lh(g),y&&(g=`Restricted[${g}]`);let b=a(),x=a(),w=!t();return{N:g,P:b,Q:x,M:w,R:y}}}),px=n(),Ef=new Map;let l=e().concat(tb(px)).sort((d,g)=>d-g);l.forEach((d,g)=>{let y=t(),b=l[g]=y?l[g-y]:{V:[],M:new Map};b.V.push(d),px.has(d)||Ef.set(d,b)});for(let{V:d,M:g}of new Set(Ef.values())){let y=[];for(let x of d){let w=Ff.filter(A=>wg(A,x)),E=y.find(({G:A})=>w.some(C=>A.has(C)));E||(E={G:new Set,V:[]},y.push(E)),E.V.push(x),r(E.G,w)}let b=y.flatMap(x=>tb(x.G));for(let{G:x,V:w}of y){let E=new Set(b.filter(A=>!x.has(A)));for(let A of w)g.set(A,E)}}el=new Set;let f=new Set;const h=d=>el.has(d)?f.add(d):el.add(d);for(let d of Ff){for(let g of d.P)h(g);for(let g of d.Q)h(g)}for(let d of el)!Ef.has(d)&&!f.has(d)&&Ef.set(d,u5);r(el,a5(el)),UN=OQ(t).map(d=>FQ.from(d)).sort(NQ),uA=new Map;for(let d of UN){let g=[uA];for(let y of d){let b=g.map(x=>{let w=x.get(y);return w||(w=new Map,x.set(y,w)),w});y===l5?g.push(...b):g=b}for(let y of g)y.V=d}}function _S(t){return(d5(t)?"":`${IS(Kb([t]))} `)+t5(t)}function IS(t){return`"${t}"‎`}function zQ(t){if(t.length>=4&&t[2]==kN&&t[3]==kN)throw new Error(`invalid label extension: "${Lh(t.slice(0,4))}"`)}function VQ(t){for(let n=t.lastIndexOf(95);n>0;)if(t[--n]!==95)throw new Error("underscore allowed only at start")}function HQ(t){let e=t[0],n=IN.get(e);if(n)throw Kp(`leading ${n}`);let r=t.length,i=-1;for(let o=1;o<r;o++){e=t[o];let a=IN.get(e);if(a){if(i==o)throw Kp(`${n} + ${a}`);i=o+1,n=a}}if(i==r)throw Kp(`trailing ${n}`)}function Kb(t,e=1/0,n=t5){let r=[];qQ(t[0])&&r.push("◌"),t.length>e&&(e>>=1,t=[...t.slice(0,e),8230,...t.slice(-e)]);let i=0,o=t.length;for(let a=0;a<o;a++){let l=t[a];d5(l)&&(r.push(Lh(t.slice(i,a))),r.push(n(l)),i=a+1)}return r.push(Lh(t.slice(i,o))),r.join("")}function qQ(t){return RS(),pl.has(t)}function d5(t){return RS(),h5.has(t)}function GQ(t){return WQ(KQ(t,jQ,JQ))}function KQ(t,e,n){if(!t)return[];RS();let r=0;return t.split(c5).map(i=>{let o=PQ(i),a={input:o,offset:r};r+=o.length+1;try{let l=a.tokens=ZQ(o,e,n),f=l.length,h;if(!f)throw new Error("empty label");let d=a.output=l.flat();if(VQ(d),!(a.emoji=f>1||l[0].is_emoji)&&d.every(y=>y<128))zQ(d),h="ASCII";else{let y=l.flatMap(b=>b.is_emoji?[]:b);if(!y.length)h="Emoji";else{if(pl.has(d[0]))throw Kp("leading combining mark");for(let w=1;w<f;w++){let E=l[w];if(!E.is_emoji&&pl.has(E[0]))throw Kp(`emoji + combining mark: "${Lh(l[w-1])} + ${Kb([E[0]])}"`)}HQ(d);let b=tb(new Set(y)),[x]=YQ(b);XQ(x,y),QQ(x,b),h=x.N}}a.type=h}catch(l){a.error=l}return a})}function QQ(t,e){let n,r=[];for(let i of e){let o=Ef.get(i);if(o===u5)return;if(o){let a=o.M.get(i);if(n=n?n.filter(l=>a.has(l)):tb(a),!n.length)return}else r.push(i)}if(n){for(let i of n)if(r.every(o=>wg(i,o)))throw new Error(`whole-script confusable: ${t.N}/${i.N}`)}}function YQ(t){let e=Ff;for(let n of t){let r=e.filter(i=>wg(i,n));if(!r.length)throw Ff.some(i=>wg(i,n))?g5(e[0],n):p5(n);if(e=r,r.length==1)break}return e}function WQ(t){return t.map(({input:e,error:n,output:r})=>{if(n){let i=n.message;throw new Error(t.length==1?i:`Invalid label ${IS(Kb(e,63))}: ${i}`)}return Lh(r)}).join(c5)}function p5(t){return new Error(`disallowed character: ${_S(t)}`)}function g5(t,e){let n=_S(e),r=Ff.find(i=>i.P.has(e));return r&&(n=`${r.N} ${n}`),new Error(`illegal mixture: ${t.N} + ${n}`)}function Kp(t){return new Error(`illegal placement: ${t}`)}function XQ(t,e){for(let n of e)if(!wg(t,n))throw g5(t,n);if(t.M){let n=a5(e);for(let r=1,i=n.length;r<i;r++)if(lA.has(n[r])){let o=r+1;for(let a;o<i&&lA.has(a=n[o]);o++)for(let l=r;l<o;l++)if(n[l]==a)throw new Error(`duplicate non-spacing marks: ${_S(a)}`);if(o-r>BN)throw new Error(`excessive non-spacing marks: ${IS(Kb(n.slice(r-1,o)))} (${o-r}/${BN})`);r=o}}}function ZQ(t,e,n){let r=[],i=[];for(t=t.slice().reverse();t.length;){let o=eY(t);if(o)i.length&&(r.push(e(i)),i=[]),r.push(n(o));else{let a=t.pop();if(el.has(a))i.push(a);else{let l=cA.get(a);if(l)i.push(...l);else if(!f5.has(a))throw p5(a)}}}return i.length&&r.push(e(i)),r}function JQ(t){return t.filter(e=>e!=l5)}function eY(t,e){let n=uA,r,i=t.length;for(;i&&(n=n.get(t[--i]),!!n);){let{V:o}=n;o&&(r=o,t.length=i)}return r}const m5=new Uint8Array(32);m5.fill(0);function LN(t){return J(t.length!==0,"invalid ENS name; empty component","comp",t),t}function y5(t){const e=Lo(tY(t)),n=[];if(t.length===0)return n;let r=0;for(let i=0;i<e.length;i++)e[i]===46&&(n.push(LN(e.slice(r,i))),r=i+1);return J(r<e.length,"invalid ENS name; empty component","name",t),n.push(LN(e.slice(r))),n}function tY(t){try{if(t.length===0)throw new Error("empty label");return GQ(t)}catch(e){J(!1,`invalid ENS name (${e.message})`,"name",t)}}function fA(t){J(typeof t=="string","invalid ENS name; not a string","name",t),J(t.length,"invalid ENS name (empty label)","name",t);let e=m5;const n=y5(t);for(;n.length;)e=Zt(kt([e,Zt(n.pop())]));return Ae(e)}function nY(t,e){const n=e;return J(n<=255,"DNS encoded label cannot exceed 255","length",n),Ae(kt(y5(t).map(r=>{J(r.length<=n,`label ${JSON.stringify(t)} exceeds ${n} bytes`,"name",t);const i=new Uint8Array(r.length+1);return i.set(r,1),i[0]=i.length-1,i})))+"00"}const b5=new Uint8Array(32);b5.fill(0);const rY=BigInt(-1),w5=BigInt(0),v5=BigInt(1),iY=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function sY(t){const e=qe(t),n=e.length%32;return n?kt([e,b5.slice(n)]):Ae(e)}const oY=yc(v5,32),aY=yc(w5,32),$N={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},gx=["name","version","chainId","verifyingContract","salt"];function jN(t){return function(e){return J(typeof e=="string",`invalid domain value for ${JSON.stringify(t)}`,`domain.${t}`,e),e}}const cY={name:jN("name"),version:jN("version"),chainId:function(t){const e=Te(t,"domain.chainId");return J(e>=0,"invalid chain ID","domain.chainId",t),Number.isSafeInteger(e)?Number(e):Xi(e)},verifyingContract:function(t){try{return ct(t).toLowerCase()}catch{}J(!1,'invalid domain value "verifyingContract"',"domain.verifyingContract",t)},salt:function(t){const e=qe(t,"domain.salt");return J(e.length===32,'invalid domain value "salt"',"domain.salt",t),Ae(e)}};function mx(t){{const e=t.match(/^(u?)int(\d+)$/);if(e){const n=e[1]==="",r=parseInt(e[2]);J(r%8===0&&r!==0&&r<=256&&e[2]===String(r),"invalid numeric width","type",t);const i=Rp(iY,n?r-1:r),o=n?(i+v5)*rY:w5;return function(a){const l=Te(a,"value");return J(l>=o&&l<=i,`value out-of-bounds for ${t}`,"value",l),yc(n?s6(l,256):l,32)}}}{const e=t.match(/^bytes(\d+)$/);if(e){const n=parseInt(e[1]);return J(n!==0&&n<=32&&e[1]===String(n),"invalid bytes width","type",t),function(r){const i=qe(r);return J(i.length===n,`invalid length for ${t}`,"value",r),sY(r)}}}switch(t){case"address":return function(e){return Vo(ct(e),32)};case"bool":return function(e){return e?oY:aY};case"bytes":return function(e){return Zt(e)};case"string":return function(e){return ql(e)}}return null}function FN(t,e){return`${t}(${e.map(({name:n,type:r})=>r+" "+n).join(",")})`}function qy(t){const e=t.match(/^([^\x5b]*)((\x5b\d*\x5d)*)(\x5b(\d*)\x5d)$/);return e?{base:e[1],index:e[2]+e[4],array:{base:e[1],prefix:e[1]+e[2],count:e[5]?parseInt(e[5]):-1}}:{base:t}}var Lg,Po,ph,Db,x5;const bi=class bi{constructor(e){ce(this,Db);se(this,"primaryType");ce(this,Lg);ce(this,Po);ce(this,ph);q(this,Po,new Map),q(this,ph,new Map);const n=new Map,r=new Map,i=new Map,o={};Object.keys(e).forEach(f=>{o[f]=e[f].map(({name:h,type:d})=>{let{base:g,index:y}=qy(d);return g==="int"&&!e.int&&(g="int256"),g==="uint"&&!e.uint&&(g="uint256"),{name:h,type:g+(y||"")}}),n.set(f,new Set),r.set(f,[]),i.set(f,new Set)}),q(this,Lg,JSON.stringify(o));for(const f in o){const h=new Set;for(const d of o[f]){J(!h.has(d.name),`duplicate variable name ${JSON.stringify(d.name)} in ${JSON.stringify(f)}`,"types",e),h.add(d.name);const g=qy(d.type).base;J(g!==f,`circular type reference to ${JSON.stringify(g)}`,"types",e),!mx(g)&&(J(r.has(g),`unknown type ${JSON.stringify(g)}`,"types",e),r.get(g).push(f),n.get(f).add(g))}}const a=Array.from(r.keys()).filter(f=>r.get(f).length===0);J(a.length!==0,"missing primary type","types",e),J(a.length===1,`ambiguous primary types or unused types: ${a.map(f=>JSON.stringify(f)).join(", ")}`,"types",e),Me(this,{primaryType:a[0]});function l(f,h){J(!h.has(f),`circular type reference to ${JSON.stringify(f)}`,"types",e),h.add(f);for(const d of n.get(f))if(r.has(d)){l(d,h);for(const g of h)i.get(g).add(d)}h.delete(f)}l(this.primaryType,new Set);for(const[f,h]of i){const d=Array.from(h);d.sort(),B(this,Po).set(f,FN(f,o[f])+d.map(g=>FN(g,o[g])).join(""))}}get types(){return JSON.parse(B(this,Lg))}getEncoder(e){let n=B(this,ph).get(e);return n||(n=xe(this,Db,x5).call(this,e),B(this,ph).set(e,n)),n}encodeType(e){const n=B(this,Po).get(e);return J(n,`unknown type: ${JSON.stringify(e)}`,"name",e),n}encodeData(e,n){return this.getEncoder(e)(n)}hashStruct(e,n){return Zt(this.encodeData(e,n))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,n,r){if(mx(e))return r(e,n);const i=qy(e).array;if(i)return J(i.count===-1||i.count===n.length,`array length mismatch; expected length ${i.count}`,"value",n),n.map(a=>this._visit(i.prefix,a,r));const o=this.types[e];if(o)return o.reduce((a,{name:l,type:f})=>(a[l]=this._visit(f,n[l],r),a),{});J(!1,`unknown type: ${e}`,"type",e)}visit(e,n){return this._visit(this.primaryType,e,n)}static from(e){return new bi(e)}static getPrimaryType(e){return bi.from(e).primaryType}static hashStruct(e,n,r){return bi.from(n).hashStruct(e,r)}static hashDomain(e){const n=[];for(const r in e){if(e[r]==null)continue;const i=$N[r];J(i,`invalid typed-data domain key: ${JSON.stringify(r)}`,"domain",e),n.push({name:r,type:i})}return n.sort((r,i)=>gx.indexOf(r.name)-gx.indexOf(i.name)),bi.hashStruct("EIP712Domain",{EIP712Domain:n},e)}static encode(e,n,r){return kt(["0x1901",bi.hashDomain(e),bi.from(n).hash(r)])}static hash(e,n,r){return Zt(bi.encode(e,n,r))}static async resolveNames(e,n,r,i){e=Object.assign({},e);for(const l in e)e[l]==null&&delete e[l];const o={};e.verifyingContract&&!Et(e.verifyingContract,20)&&(o[e.verifyingContract]="0x");const a=bi.from(n);a.visit(r,(l,f)=>(l==="address"&&!Et(f,20)&&(o[f]="0x"),f));for(const l in o)o[l]=await i(l);return e.verifyingContract&&o[e.verifyingContract]&&(e.verifyingContract=o[e.verifyingContract]),r=a.visit(r,(l,f)=>l==="address"&&o[f]?o[f]:f),{domain:e,value:r}}static getPayload(e,n,r){bi.hashDomain(e);const i={},o=[];gx.forEach(f=>{const h=e[f];h!=null&&(i[f]=cY[f](h),o.push({name:f,type:$N[f]}))});const a=bi.from(n);n=a.types;const l=Object.assign({},n);return J(l.EIP712Domain==null,"types must not contain EIP712Domain type","types.EIP712Domain",n),l.EIP712Domain=o,a.encode(r),{types:l,domain:i,primaryType:a.primaryType,message:a.visit(r,(f,h)=>{if(f.match(/^bytes(\d*)/))return Ae(qe(h));if(f.match(/^u?int/))return Te(h).toString();switch(f){case"address":return h.toLowerCase();case"bool":return!!h;case"string":return J(typeof h=="string","invalid string","value",h),h}J(!1,"unsupported type","type",f)})}}};Lg=new WeakMap,Po=new WeakMap,ph=new WeakMap,Db=new WeakSet,x5=function(e){{const i=mx(e);if(i)return i}const n=qy(e).array;if(n){const i=n.prefix,o=this.getEncoder(i);return a=>{J(n.count===-1||n.count===a.length,`array length mismatch; expected length ${n.count}`,"value",a);let l=a.map(o);return B(this,Po).has(i)&&(l=l.map(Zt)),Zt(kt(l))}}const r=this.types[e];if(r){const i=ql(B(this,Po).get(e));return o=>{const a=r.map(({name:l,type:f})=>{const h=this.getEncoder(f)(o[l]);return B(this,Po).has(f)?Zt(h):h});return a.unshift(i),kt(a)}}J(!1,`unknown type: ${e}`,"type",e)};let nb=bi;function ir(t){const e=new Set;return t.forEach(n=>e.add(n)),Object.freeze(e)}const lY="external public payable override",uY=ir(lY.split(" ")),E5="constant external internal payable private public pure view override",fY=ir(E5.split(" ")),A5="constructor error event fallback function receive struct",S5=ir(A5.split(" ")),T5="calldata memory storage payable indexed",hY=ir(T5.split(" ")),dY="tuple returns",pY=[A5,T5,dY,E5].join(" "),gY=ir(pY.split(" ")),mY={"(":"OPEN_PAREN",")":"CLOSE_PAREN","[":"OPEN_BRACKET","]":"CLOSE_BRACKET",",":"COMMA","@":"AT"},yY=new RegExp("^(\\s*)"),bY=new RegExp("^([0-9]+)"),wY=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)"),C5=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)$"),O5=new RegExp("^(address|bool|bytes([0-9]*)|string|u?int([0-9]*))$");var Cn,Yi,$g,hA;const Pb=class Pb{constructor(e){ce(this,$g);ce(this,Cn);ce(this,Yi);q(this,Cn,0),q(this,Yi,e.slice())}get offset(){return B(this,Cn)}get length(){return B(this,Yi).length-B(this,Cn)}clone(){return new Pb(B(this,Yi))}reset(){q(this,Cn,0)}popKeyword(e){const n=this.peek();if(n.type!=="KEYWORD"||!e.has(n.text))throw new Error(`expected keyword ${n.text}`);return this.pop().text}popType(e){if(this.peek().type!==e){const n=this.peek();throw new Error(`expected ${e}; got ${n.type} ${JSON.stringify(n.text)}`)}return this.pop().text}popParen(){const e=this.peek();if(e.type!=="OPEN_PAREN")throw new Error("bad start");const n=xe(this,$g,hA).call(this,B(this,Cn)+1,e.match+1);return q(this,Cn,e.match+1),n}popParams(){const e=this.peek();if(e.type!=="OPEN_PAREN")throw new Error("bad start");const n=[];for(;B(this,Cn)<e.match-1;){const r=this.peek().linkNext;n.push(xe(this,$g,hA).call(this,B(this,Cn)+1,r)),q(this,Cn,r)}return q(this,Cn,e.match+1),n}peek(){if(B(this,Cn)>=B(this,Yi).length)throw new Error("out-of-bounds");return B(this,Yi)[B(this,Cn)]}peekKeyword(e){const n=this.peekType("KEYWORD");return n!=null&&e.has(n)?n:null}peekType(e){if(this.length===0)return null;const n=this.peek();return n.type===e?n.text:null}pop(){const e=this.peek();return op(this,Cn)._++,e}toString(){const e=[];for(let n=B(this,Cn);n<B(this,Yi).length;n++){const r=B(this,Yi)[n];e.push(`${r.type}:${r.text}`)}return`<TokenString ${e.join(" ")}>`}};Cn=new WeakMap,Yi=new WeakMap,$g=new WeakSet,hA=function(e=0,n=0){return new Pb(B(this,Yi).slice(e,n).map(r=>Object.freeze(Object.assign({},r,{match:r.match-e,linkBack:r.linkBack-e,linkNext:r.linkNext-e}))))};let es=Pb;function Tc(t){const e=[],n=a=>{const l=o<t.length?JSON.stringify(t[o]):"$EOI";throw new Error(`invalid token ${l} at ${o}: ${a}`)};let r=[],i=[],o=0;for(;o<t.length;){let a=t.substring(o),l=a.match(yY);l&&(o+=l[1].length,a=t.substring(o));const f={depth:r.length,linkBack:-1,linkNext:-1,match:-1,type:"",text:"",offset:o,value:-1};e.push(f);let h=mY[a[0]]||"";if(h){if(f.type=h,f.text=a[0],o++,h==="OPEN_PAREN")r.push(e.length-1),i.push(e.length-1);else if(h=="CLOSE_PAREN")r.length===0&&n("no matching open bracket"),f.match=r.pop(),e[f.match].match=e.length-1,f.depth--,f.linkBack=i.pop(),e[f.linkBack].linkNext=e.length-1;else if(h==="COMMA")f.linkBack=i.pop(),e[f.linkBack].linkNext=e.length-1,i.push(e.length-1);else if(h==="OPEN_BRACKET")f.type="BRACKET";else if(h==="CLOSE_BRACKET"){let d=e.pop().text;if(e.length>0&&e[e.length-1].type==="NUMBER"){const g=e.pop().text;d=g+d,e[e.length-1].value=Ge(g)}if(e.length===0||e[e.length-1].type!=="BRACKET")throw new Error("missing opening bracket");e[e.length-1].text+=d}continue}if(l=a.match(wY),l){if(f.text=l[1],o+=f.text.length,gY.has(f.text)){f.type="KEYWORD";continue}if(f.text.match(O5)){f.type="TYPE";continue}f.type="ID";continue}if(l=a.match(bY),l){f.text=l[1],f.type="NUMBER",o+=f.text.length;continue}throw new Error(`unexpected token ${JSON.stringify(a[0])} at position ${o}`)}return new es(e.map(a=>Object.freeze(a)))}function zN(t,e){let n=[];for(const r in e.keys())t.has(r)&&n.push(r);if(n.length>1)throw new Error(`conflicting types: ${n.join(", ")}`)}function Qb(t,e){if(e.peekKeyword(S5)){const n=e.pop().text;if(n!==t)throw new Error(`expected ${t}, got ${n}`)}return e.popType("ID")}function Ho(t,e){const n=new Set;for(;;){const r=t.peekType("KEYWORD");if(r==null||e&&!e.has(r))break;if(t.pop(),n.has(r))throw new Error(`duplicate keywords: ${JSON.stringify(r)}`);n.add(r)}return Object.freeze(n)}function D5(t){let e=Ho(t,fY);return zN(e,ir("constant payable nonpayable".split(" "))),zN(e,ir("pure view payable nonpayable".split(" "))),e.has("view")?"view":e.has("pure")?"pure":e.has("payable")?"payable":e.has("nonpayable")?"nonpayable":e.has("constant")?"view":"nonpayable"}function $o(t,e){return t.popParams().map(n=>Nn.from(n,e))}function P5(t){if(t.peekType("AT")){if(t.pop(),t.peekType("NUMBER"))return Te(t.pop().text);throw new Error("invalid gas")}return null}function Gl(t){if(t.length)throw new Error(`unexpected tokens at offset ${t.offset}: ${t.toString()}`)}const vY=new RegExp(/^(.*)\[([0-9]*)\]$/);function VN(t){const e=t.match(O5);if(J(e,"invalid type","type",t),t==="uint")return"uint256";if(t==="int")return"int256";if(e[2]){const n=parseInt(e[2]);J(n!==0&&n<=32,"invalid bytes length","type",t)}else if(e[3]){const n=parseInt(e[3]);J(n!==0&&n<=256&&n%8===0,"invalid numeric width","type",t)}return t}const Pt={},Nr=Symbol.for("_ethers_internal"),HN="_ParamTypeInternal",qN="_ErrorInternal",GN="_EventInternal",KN="_ConstructorInternal",QN="_FallbackInternal",YN="_FunctionInternal",WN="_StructInternal";var gh,C0;const wi=class wi{constructor(e,n,r,i,o,a,l,f){ce(this,gh);se(this,"name");se(this,"type");se(this,"baseType");se(this,"indexed");se(this,"components");se(this,"arrayLength");se(this,"arrayChildren");if(Lb(e,Pt,"ParamType"),Object.defineProperty(this,Nr,{value:HN}),a&&(a=Object.freeze(a.slice())),i==="array"){if(l==null||f==null)throw new Error("")}else if(l!=null||f!=null)throw new Error("");if(i==="tuple"){if(a==null)throw new Error("")}else if(a!=null)throw new Error("");Me(this,{name:n,type:r,baseType:i,indexed:o,components:a,arrayLength:l,arrayChildren:f})}format(e){if(e==null&&(e="sighash"),e==="json"){const r=this.name||"";if(this.isArray()){const o=JSON.parse(this.arrayChildren.format("json"));return o.name=r,o.type+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`,JSON.stringify(o)}const i={type:this.baseType==="tuple"?"tuple":this.type,name:r};return typeof this.indexed=="boolean"&&(i.indexed=this.indexed),this.isTuple()&&(i.components=this.components.map(o=>JSON.parse(o.format(e)))),JSON.stringify(i)}let n="";return this.isArray()?(n+=this.arrayChildren.format(e),n+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`):this.isTuple()?n+="("+this.components.map(r=>r.format(e)).join(e==="full"?", ":",")+")":n+=this.type,e!=="sighash"&&(this.indexed===!0&&(n+=" indexed"),e==="full"&&this.name&&(n+=" "+this.name)),n}isArray(){return this.baseType==="array"}isTuple(){return this.baseType==="tuple"}isIndexable(){return this.indexed!=null}walk(e,n){if(this.isArray()){if(!Array.isArray(e))throw new Error("invalid array value");if(this.arrayLength!==-1&&e.length!==this.arrayLength)throw new Error("array is wrong length");const r=this;return e.map(i=>r.arrayChildren.walk(i,n))}if(this.isTuple()){if(!Array.isArray(e))throw new Error("invalid tuple value");if(e.length!==this.components.length)throw new Error("array is wrong length");const r=this;return e.map((i,o)=>r.components[o].walk(i,n))}return n(this.type,e)}async walkAsync(e,n){const r=[],i=[e];return xe(this,gh,C0).call(this,r,e,n,o=>{i[0]=o}),r.length&&await Promise.all(r),i[0]}static from(e,n){if(wi.isParamType(e))return e;if(typeof e=="string")try{return wi.from(Tc(e),n)}catch{J(!1,"invalid param type","obj",e)}else if(e instanceof es){let l="",f="",h=null;Ho(e,ir(["tuple"])).has("tuple")||e.peekType("OPEN_PAREN")?(f="tuple",h=e.popParams().map(w=>wi.from(w)),l=`tuple(${h.map(w=>w.format()).join(",")})`):(l=VN(e.popType("TYPE")),f=l);let d=null,g=null;for(;e.length&&e.peekType("BRACKET");){const w=e.pop();d=new wi(Pt,"",l,f,null,h,g,d),g=w.value,l+=w.text,f="array",h=null}let y=null;if(Ho(e,hY).has("indexed")){if(!n)throw new Error("");y=!0}const x=e.peekType("ID")?e.pop().text:"";if(e.length)throw new Error("leftover tokens");return new wi(Pt,x,l,f,y,h,g,d)}const r=e.name;J(!r||typeof r=="string"&&r.match(C5),"invalid name","obj.name",r);let i=e.indexed;i!=null&&(J(n,"parameter cannot be indexed","obj.indexed",e.indexed),i=!!i);let o=e.type,a=o.match(vY);if(a){const l=parseInt(a[2]||"-1"),f=wi.from({type:a[1],components:e.components});return new wi(Pt,r||"",o,"array",i,null,l,f)}if(o==="tuple"||o.startsWith("tuple(")||o.startsWith("(")){const l=e.components!=null?e.components.map(h=>wi.from(h)):null;return new wi(Pt,r||"",o,"tuple",i,l,null,null)}return o=VN(e.type),new wi(Pt,r||"",o,o,i,null,null,null)}static isParamType(e){return e&&e[Nr]===HN}};gh=new WeakSet,C0=function(e,n,r,i){if(this.isArray()){if(!Array.isArray(n))throw new Error("invalid array value");if(this.arrayLength!==-1&&n.length!==this.arrayLength)throw new Error("array is wrong length");const a=this.arrayChildren,l=n.slice();l.forEach((f,h)=>{var d;xe(d=a,gh,C0).call(d,e,f,r,g=>{l[h]=g})}),i(l);return}if(this.isTuple()){const a=this.components;let l;if(Array.isArray(n))l=n.slice();else{if(n==null||typeof n!="object")throw new Error("invalid tuple value");l=a.map(f=>{if(!f.name)throw new Error("cannot use object value with unnamed components");if(!(f.name in n))throw new Error(`missing value for component ${f.name}`);return n[f.name]})}if(l.length!==this.components.length)throw new Error("array is wrong length");l.forEach((f,h)=>{var d;xe(d=a[h],gh,C0).call(d,e,f,r,g=>{l[h]=g})}),i(l);return}const o=r(this.type,n);o.then?e.push(async function(){i(await o)}()):i(o)};let Nn=wi;class Kl{constructor(e,n,r){se(this,"type");se(this,"inputs");Lb(e,Pt,"Fragment"),r=Object.freeze(r.slice()),Me(this,{type:n,inputs:r})}static from(e){if(typeof e=="string"){try{Kl.from(JSON.parse(e))}catch{}return Kl.from(Tc(e))}if(e instanceof es)switch(e.peekKeyword(S5)){case"constructor":return Uo.from(e);case"error":return Tr.from(e);case"event":return _s.from(e);case"fallback":case"receive":return Ao.from(e);case"function":return Is.from(e);case"struct":return Vl.from(e)}else if(typeof e=="object"){switch(e.type){case"constructor":return Uo.from(e);case"error":return Tr.from(e);case"event":return _s.from(e);case"fallback":case"receive":return Ao.from(e);case"function":return Is.from(e);case"struct":return Vl.from(e)}me(!1,`unsupported type: ${e.type}`,"UNSUPPORTED_OPERATION",{operation:"Fragment.from"})}J(!1,"unsupported frgament object","obj",e)}static isConstructor(e){return Uo.isFragment(e)}static isError(e){return Tr.isFragment(e)}static isEvent(e){return _s.isFragment(e)}static isFunction(e){return Is.isFragment(e)}static isStruct(e){return Vl.isFragment(e)}}class Yb extends Kl{constructor(n,r,i,o){super(n,r,o);se(this,"name");J(typeof i=="string"&&i.match(C5),"invalid identifier","name",i),o=Object.freeze(o.slice()),Me(this,{name:i})}}function vg(t,e){return"("+e.map(n=>n.format(t)).join(t==="full"?", ":",")+")"}class Tr extends Yb{constructor(e,n,r){super(e,"error",n,r),Object.defineProperty(this,Nr,{value:qN})}get selector(){return ql(this.format("sighash")).substring(0,10)}format(e){if(e==null&&(e="sighash"),e==="json")return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(r=>JSON.parse(r.format(e)))});const n=[];return e!=="sighash"&&n.push("error"),n.push(this.name+vg(e,this.inputs)),n.join(" ")}static from(e){if(Tr.isFragment(e))return e;if(typeof e=="string")return Tr.from(Tc(e));if(e instanceof es){const n=Qb("error",e),r=$o(e);return Gl(e),new Tr(Pt,n,r)}return new Tr(Pt,e.name,e.inputs?e.inputs.map(Nn.from):[])}static isFragment(e){return e&&e[Nr]===qN}}class _s extends Yb{constructor(n,r,i,o){super(n,"event",r,i);se(this,"anonymous");Object.defineProperty(this,Nr,{value:GN}),Me(this,{anonymous:o})}get topicHash(){return ql(this.format("sighash"))}format(n){if(n==null&&(n="sighash"),n==="json")return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(i=>JSON.parse(i.format(n)))});const r=[];return n!=="sighash"&&r.push("event"),r.push(this.name+vg(n,this.inputs)),n!=="sighash"&&this.anonymous&&r.push("anonymous"),r.join(" ")}static getTopicHash(n,r){return r=(r||[]).map(o=>Nn.from(o)),new _s(Pt,n,r,!1).topicHash}static from(n){if(_s.isFragment(n))return n;if(typeof n=="string")try{return _s.from(Tc(n))}catch{J(!1,"invalid event fragment","obj",n)}else if(n instanceof es){const r=Qb("event",n),i=$o(n,!0),o=!!Ho(n,ir(["anonymous"])).has("anonymous");return Gl(n),new _s(Pt,r,i,o)}return new _s(Pt,n.name,n.inputs?n.inputs.map(r=>Nn.from(r,!0)):[],!!n.anonymous)}static isFragment(n){return n&&n[Nr]===GN}}class Uo extends Kl{constructor(n,r,i,o,a){super(n,r,i);se(this,"payable");se(this,"gas");Object.defineProperty(this,Nr,{value:KN}),Me(this,{payable:o,gas:a})}format(n){if(me(n!=null&&n!=="sighash","cannot format a constructor for sighash","UNSUPPORTED_OPERATION",{operation:"format(sighash)"}),n==="json")return JSON.stringify({type:"constructor",stateMutability:this.payable?"payable":"undefined",payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(i=>JSON.parse(i.format(n)))});const r=[`constructor${vg(n,this.inputs)}`];return this.payable&&r.push("payable"),this.gas!=null&&r.push(`@${this.gas.toString()}`),r.join(" ")}static from(n){if(Uo.isFragment(n))return n;if(typeof n=="string")try{return Uo.from(Tc(n))}catch{J(!1,"invalid constuctor fragment","obj",n)}else if(n instanceof es){Ho(n,ir(["constructor"]));const r=$o(n),i=!!Ho(n,uY).has("payable"),o=P5(n);return Gl(n),new Uo(Pt,"constructor",r,i,o)}return new Uo(Pt,"constructor",n.inputs?n.inputs.map(Nn.from):[],!!n.payable,n.gas!=null?n.gas:null)}static isFragment(n){return n&&n[Nr]===KN}}class Ao extends Kl{constructor(n,r,i){super(n,"fallback",r);se(this,"payable");Object.defineProperty(this,Nr,{value:QN}),Me(this,{payable:i})}format(n){const r=this.inputs.length===0?"receive":"fallback";if(n==="json"){const i=this.payable?"payable":"nonpayable";return JSON.stringify({type:r,stateMutability:i})}return`${r}()${this.payable?" payable":""}`}static from(n){if(Ao.isFragment(n))return n;if(typeof n=="string")try{return Ao.from(Tc(n))}catch{J(!1,"invalid fallback fragment","obj",n)}else if(n instanceof es){const r=n.toString(),i=n.peekKeyword(ir(["fallback","receive"]));if(J(i,"type must be fallback or receive","obj",r),n.popKeyword(ir(["fallback","receive"]))==="receive"){const f=$o(n);return J(f.length===0,"receive cannot have arguments","obj.inputs",f),Ho(n,ir(["payable"])),Gl(n),new Ao(Pt,[],!0)}let a=$o(n);a.length?J(a.length===1&&a[0].type==="bytes","invalid fallback inputs","obj.inputs",a.map(f=>f.format("minimal")).join(", ")):a=[Nn.from("bytes")];const l=D5(n);if(J(l==="nonpayable"||l==="payable","fallback cannot be constants","obj.stateMutability",l),Ho(n,ir(["returns"])).has("returns")){const f=$o(n);J(f.length===1&&f[0].type==="bytes","invalid fallback outputs","obj.outputs",f.map(h=>h.format("minimal")).join(", "))}return Gl(n),new Ao(Pt,a,l==="payable")}if(n.type==="receive")return new Ao(Pt,[],!0);if(n.type==="fallback"){const r=[Nn.from("bytes")],i=n.stateMutability==="payable";return new Ao(Pt,r,i)}J(!1,"invalid fallback description","obj",n)}static isFragment(n){return n&&n[Nr]===QN}}class Is extends Yb{constructor(n,r,i,o,a,l){super(n,"function",r,o);se(this,"constant");se(this,"outputs");se(this,"stateMutability");se(this,"payable");se(this,"gas");Object.defineProperty(this,Nr,{value:YN}),a=Object.freeze(a.slice()),Me(this,{constant:i==="view"||i==="pure",gas:l,outputs:a,payable:i==="payable",stateMutability:i})}get selector(){return ql(this.format("sighash")).substring(0,10)}format(n){if(n==null&&(n="sighash"),n==="json")return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(i=>JSON.parse(i.format(n))),outputs:this.outputs.map(i=>JSON.parse(i.format(n)))});const r=[];return n!=="sighash"&&r.push("function"),r.push(this.name+vg(n,this.inputs)),n!=="sighash"&&(this.stateMutability!=="nonpayable"&&r.push(this.stateMutability),this.outputs&&this.outputs.length&&(r.push("returns"),r.push(vg(n,this.outputs))),this.gas!=null&&r.push(`@${this.gas.toString()}`)),r.join(" ")}static getSelector(n,r){return r=(r||[]).map(o=>Nn.from(o)),new Is(Pt,n,"view",r,[],null).selector}static from(n){if(Is.isFragment(n))return n;if(typeof n=="string")try{return Is.from(Tc(n))}catch{J(!1,"invalid function fragment","obj",n)}else if(n instanceof es){const i=Qb("function",n),o=$o(n),a=D5(n);let l=[];Ho(n,ir(["returns"])).has("returns")&&(l=$o(n));const f=P5(n);return Gl(n),new Is(Pt,i,a,o,l,f)}let r=n.stateMutability;return r==null&&(r="payable",typeof n.constant=="boolean"?(r="view",n.constant||(r="payable",typeof n.payable=="boolean"&&!n.payable&&(r="nonpayable"))):typeof n.payable=="boolean"&&!n.payable&&(r="nonpayable")),new Is(Pt,n.name,r,n.inputs?n.inputs.map(Nn.from):[],n.outputs?n.outputs.map(Nn.from):[],n.gas!=null?n.gas:null)}static isFragment(n){return n&&n[Nr]===YN}}class Vl extends Yb{constructor(e,n,r){super(e,"struct",n,r),Object.defineProperty(this,Nr,{value:WN})}format(){throw new Error("@TODO")}static from(e){if(typeof e=="string")try{return Vl.from(Tc(e))}catch{J(!1,"invalid struct fragment","obj",e)}else if(e instanceof es){const n=Qb("struct",e),r=$o(e);return Gl(e),new Vl(Pt,n,r)}return new Vl(Pt,e.name,e.inputs?e.inputs.map(Nn.from):[])}static isFragment(e){return e&&e[Nr]===WN}}const rs=new Map;rs.set(0,"GENERIC_PANIC");rs.set(1,"ASSERT_FALSE");rs.set(17,"OVERFLOW");rs.set(18,"DIVIDE_BY_ZERO");rs.set(33,"ENUM_RANGE_ERROR");rs.set(34,"BAD_STORAGE_DATA");rs.set(49,"STACK_UNDERFLOW");rs.set(50,"ARRAY_RANGE_ERROR");rs.set(65,"OUT_OF_MEMORY");rs.set(81,"UNINITIALIZED_FUNCTION_CALL");const xY=new RegExp(/^bytes([0-9]*)$/),EY=new RegExp(/^(u?int)([0-9]*)$/);let yx=null,XN=1024;function AY(t,e,n,r){let i="missing revert data",o=null;const a=null;let l=null;if(n){i="execution reverted";const h=qe(n);if(n=Ae(n),h.length===0)i+=" (no data present; likely require(false) occurred",o="require(false)";else if(h.length%32!==4)i+=" (could not decode reason; invalid data length)";else if(Ae(h.slice(0,4))==="0x08c379a0")try{o=r.decode(["string"],h.slice(4))[0],l={signature:"Error(string)",name:"Error",args:[o]},i+=`: ${JSON.stringify(o)}`}catch{i+=" (could not decode reason; invalid string data)"}else if(Ae(h.slice(0,4))==="0x4e487b71")try{const d=Number(r.decode(["uint256"],h.slice(4))[0]);l={signature:"Panic(uint256)",name:"Panic",args:[d]},o=`Panic due to ${rs.get(d)||"UNKNOWN"}(${d})`,i+=`: ${o}`}catch{i+=" (could not decode panic code)"}else i+=" (unknown custom error)"}const f={to:e.to?ct(e.to):null,data:e.data||"0x"};return e.from&&(f.from=ct(e.from)),Ct(i,"CALL_EXCEPTION",{action:t,data:n,reason:o,transaction:f,invocation:a,revert:l})}var Wa,Af;const Nb=class Nb{constructor(){ce(this,Wa)}getDefaultValue(e){const n=e.map(i=>xe(this,Wa,Af).call(this,Nn.from(i)));return new Hy(n,"_").defaultValue()}encode(e,n){n6(n.length,e.length,"types/values length mismatch");const r=e.map(a=>xe(this,Wa,Af).call(this,Nn.from(a))),i=new Hy(r,"_"),o=new ZE;return i.encode(o,n),o.data}decode(e,n,r){const i=e.map(a=>xe(this,Wa,Af).call(this,Nn.from(a)));return new Hy(i,"_").decode(new JE(n,r,XN))}static _setDefaultMaxInflation(e){J(typeof e=="number"&&Number.isInteger(e),"invalid defaultMaxInflation factor","value",e),XN=e}static defaultAbiCoder(){return yx==null&&(yx=new Nb),yx}static getBuiltinCallException(e,n,r){return AY(e,n,r,Nb.defaultAbiCoder())}};Wa=new WeakSet,Af=function(e){if(e.isArray())return new FK(xe(this,Wa,Af).call(this,e.arrayChildren),e.arrayLength,e.name);if(e.isTuple())return new Hy(e.components.map(r=>xe(this,Wa,Af).call(this,r)),e.name);switch(e.baseType){case"address":return new $K(e.name);case"bool":return new zK(e.name);case"string":return new XK(e.name);case"bytes":return new VK(e.name);case"":return new GK(e.name)}let n=e.type.match(EY);if(n){let r=parseInt(n[2]||"256");return J(r!==0&&r<=256&&r%8===0,"invalid "+n[1]+" bit length","param",e),new WK(r/8,n[1]==="int",e.name)}if(n=e.type.match(xY),n){let r=parseInt(n[1]);return J(r!==0&&r<=32,"invalid bytes length","param",e),new HK(r,e.name)}J(!1,"invalid type","type",e.type)};let xg=Nb;class SY{constructor(e,n,r){se(this,"fragment");se(this,"name");se(this,"signature");se(this,"topic");se(this,"args");const i=e.name,o=e.format();Me(this,{fragment:e,name:i,signature:o,topic:n,args:r})}}class TY{constructor(e,n,r,i){se(this,"fragment");se(this,"name");se(this,"args");se(this,"signature");se(this,"selector");se(this,"value");const o=e.name,a=e.format();Me(this,{fragment:e,name:o,args:r,signature:a,selector:n,value:i})}}class CY{constructor(e,n,r){se(this,"fragment");se(this,"name");se(this,"args");se(this,"signature");se(this,"selector");const i=e.name,o=e.format();Me(this,{fragment:e,name:i,args:r,signature:o,selector:n})}}class ZN{constructor(e){se(this,"hash");se(this,"_isIndexed");Me(this,{hash:e,_isIndexed:!0})}static isIndexed(e){return!!(e&&e._isIndexed)}}const JN={0:"generic panic",1:"assert(false)",17:"arithmetic overflow",18:"division or modulo by zero",33:"enum overflow",34:"invalid encoded storage byte array accessed",49:"out-of-bounds array access; popping on an empty array",50:"out-of-bounds access of an array or bytesN",65:"out of memory",81:"uninitialized function"},eR={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:t=>`reverted with reason string ${JSON.stringify(t)}`},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"],reason:t=>{let e="unknown panic code";return t>=0&&t<=255&&JN[t.toString()]&&(e=JN[t.toString()]),`reverted with panic code 0x${t.toString(16)} (${e})`}}};var Ss,Ts,Cs,Vn,Gs,O0,D0;const ll=class ll{constructor(e){ce(this,Gs);se(this,"fragments");se(this,"deploy");se(this,"fallback");se(this,"receive");ce(this,Ss);ce(this,Ts);ce(this,Cs);ce(this,Vn);let n=[];typeof e=="string"?n=JSON.parse(e):n=e,q(this,Cs,new Map),q(this,Ss,new Map),q(this,Ts,new Map);const r=[];for(const a of n)try{r.push(Kl.from(a))}catch(l){console.log(`[Warning] Invalid Fragment ${JSON.stringify(a)}:`,l.message)}Me(this,{fragments:Object.freeze(r)});let i=null,o=!1;q(this,Vn,this.getAbiCoder()),this.fragments.forEach((a,l)=>{let f;switch(a.type){case"constructor":if(this.deploy){console.log("duplicate definition - constructor");return}Me(this,{deploy:a});return;case"fallback":a.inputs.length===0?o=!0:(J(!i||a.payable!==i.payable,"conflicting fallback fragments",`fragments[${l}]`,a),i=a,o=i.payable);return;case"function":f=B(this,Cs);break;case"event":f=B(this,Ts);break;case"error":f=B(this,Ss);break;default:return}const h=a.format();f.has(h)||f.set(h,a)}),this.deploy||Me(this,{deploy:Uo.from("constructor()")}),Me(this,{fallback:i,receive:o})}format(e){const n=e?"minimal":"full";return this.fragments.map(i=>i.format(n))}formatJson(){const e=this.fragments.map(n=>n.format("json"));return JSON.stringify(e.map(n=>JSON.parse(n)))}getAbiCoder(){return xg.defaultAbiCoder()}getFunctionName(e){const n=xe(this,Gs,O0).call(this,e,null,!1);return J(n,"no matching function","key",e),n.name}hasFunction(e){return!!xe(this,Gs,O0).call(this,e,null,!1)}getFunction(e,n){return xe(this,Gs,O0).call(this,e,n||null,!0)}forEachFunction(e){const n=Array.from(B(this,Cs).keys());n.sort((r,i)=>r.localeCompare(i));for(let r=0;r<n.length;r++){const i=n[r];e(B(this,Cs).get(i),r)}}getEventName(e){const n=xe(this,Gs,D0).call(this,e,null,!1);return J(n,"no matching event","key",e),n.name}hasEvent(e){return!!xe(this,Gs,D0).call(this,e,null,!1)}getEvent(e,n){return xe(this,Gs,D0).call(this,e,n||null,!0)}forEachEvent(e){const n=Array.from(B(this,Ts).keys());n.sort((r,i)=>r.localeCompare(i));for(let r=0;r<n.length;r++){const i=n[r];e(B(this,Ts).get(i),r)}}getError(e,n){if(Et(e)){const i=e.toLowerCase();if(eR[i])return Tr.from(eR[i].signature);for(const o of B(this,Ss).values())if(i===o.selector)return o;return null}if(e.indexOf("(")===-1){const i=[];for(const[o,a]of B(this,Ss))o.split("(")[0]===e&&i.push(a);if(i.length===0)return e==="Error"?Tr.from("error Error(string)"):e==="Panic"?Tr.from("error Panic(uint256)"):null;if(i.length>1){const o=i.map(a=>JSON.stringify(a.format())).join(", ");J(!1,`ambiguous error description (i.e. ${o})`,"name",e)}return i[0]}if(e=Tr.from(e).format(),e==="Error(string)")return Tr.from("error Error(string)");if(e==="Panic(uint256)")return Tr.from("error Panic(uint256)");const r=B(this,Ss).get(e);return r||null}forEachError(e){const n=Array.from(B(this,Ss).keys());n.sort((r,i)=>r.localeCompare(i));for(let r=0;r<n.length;r++){const i=n[r];e(B(this,Ss).get(i),r)}}_decodeParams(e,n){return B(this,Vn).decode(e,n)}_encodeParams(e,n){return B(this,Vn).encode(e,n)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,n){if(typeof e=="string"){const r=this.getError(e);J(r,"unknown error","fragment",e),e=r}return J(Mt(n,0,4)===e.selector,`data signature does not match error ${e.name}.`,"data",n),this._decodeParams(e.inputs,Mt(n,4))}encodeErrorResult(e,n){if(typeof e=="string"){const r=this.getError(e);J(r,"unknown error","fragment",e),e=r}return kt([e.selector,this._encodeParams(e.inputs,n||[])])}decodeFunctionData(e,n){if(typeof e=="string"){const r=this.getFunction(e);J(r,"unknown function","fragment",e),e=r}return J(Mt(n,0,4)===e.selector,`data signature does not match function ${e.name}.`,"data",n),this._decodeParams(e.inputs,Mt(n,4))}encodeFunctionData(e,n){if(typeof e=="string"){const r=this.getFunction(e);J(r,"unknown function","fragment",e),e=r}return kt([e.selector,this._encodeParams(e.inputs,n||[])])}decodeFunctionResult(e,n){if(typeof e=="string"){const o=this.getFunction(e);J(o,"unknown function","fragment",e),e=o}let r="invalid length for result data";const i=er(n);if(i.length%32===0)try{return B(this,Vn).decode(e.outputs,i)}catch{r="could not decode result data"}me(!1,r,"BAD_DATA",{value:Ae(i),info:{method:e.name,signature:e.format()}})}makeError(e,n){const r=qe(e,"data"),i=xg.getBuiltinCallException("call",n,r);if(i.message.startsWith("execution reverted (unknown custom error)")){const l=Ae(r.slice(0,4)),f=this.getError(l);if(f)try{const h=B(this,Vn).decode(f.inputs,r.slice(4));i.revert={name:f.name,signature:f.format(),args:h},i.reason=i.revert.signature,i.message=`execution reverted: ${i.reason}`}catch{i.message="execution reverted (coult not decode custom error)"}}const a=this.parseTransaction(n);return a&&(i.invocation={method:a.name,signature:a.signature,args:a.args}),i}encodeFunctionResult(e,n){if(typeof e=="string"){const r=this.getFunction(e);J(r,"unknown function","fragment",e),e=r}return Ae(B(this,Vn).encode(e.outputs,n||[]))}encodeFilterTopics(e,n){if(typeof e=="string"){const o=this.getEvent(e);J(o,"unknown event","eventFragment",e),e=o}me(n.length<=e.inputs.length,`too many arguments for ${e.format()}`,"UNEXPECTED_ARGUMENT",{count:n.length,expectedCount:e.inputs.length});const r=[];e.anonymous||r.push(e.topicHash);const i=(o,a)=>o.type==="string"?ql(a):o.type==="bytes"?Zt(Ae(a)):(o.type==="bool"&&typeof a=="boolean"?a=a?"0x01":"0x00":o.type.match(/^u?int/)?a=yc(a):o.type.match(/^bytes/)?a=qq(a,32):o.type==="address"&&B(this,Vn).encode(["address"],[a]),Vo(Ae(a),32));for(n.forEach((o,a)=>{const l=e.inputs[a];if(!l.indexed){J(o==null,"cannot filter non-indexed parameters; must be null","contract."+l.name,o);return}o==null?r.push(null):l.baseType==="array"||l.baseType==="tuple"?J(!1,"filtering with tuples or arrays not supported","contract."+l.name,o):Array.isArray(o)?r.push(o.map(f=>i(l,f))):r.push(i(l,o))});r.length&&r[r.length-1]===null;)r.pop();return r}encodeEventLog(e,n){if(typeof e=="string"){const a=this.getEvent(e);J(a,"unknown event","eventFragment",e),e=a}const r=[],i=[],o=[];return e.anonymous||r.push(e.topicHash),J(n.length===e.inputs.length,"event arguments/values mismatch","values",n),e.inputs.forEach((a,l)=>{const f=n[l];if(a.indexed)if(a.type==="string")r.push(ql(f));else if(a.type==="bytes")r.push(Zt(f));else{if(a.baseType==="tuple"||a.baseType==="array")throw new Error("not implemented");r.push(B(this,Vn).encode([a.type],[f]))}else i.push(a),o.push(f)}),{data:B(this,Vn).encode(i,o),topics:r}}decodeEventLog(e,n,r){if(typeof e=="string"){const b=this.getEvent(e);J(b,"unknown event","eventFragment",e),e=b}if(r!=null&&!e.anonymous){const b=e.topicHash;J(Et(r[0],32)&&r[0].toLowerCase()===b,"fragment/topic mismatch","topics[0]",r[0]),r=r.slice(1)}const i=[],o=[],a=[];e.inputs.forEach((b,x)=>{b.indexed?b.type==="string"||b.type==="bytes"||b.baseType==="tuple"||b.baseType==="array"?(i.push(Nn.from({type:"bytes32",name:b.name})),a.push(!0)):(i.push(b),a.push(!1)):(o.push(b),a.push(!1))});const l=r!=null?B(this,Vn).decode(i,kt(r)):null,f=B(this,Vn).decode(o,n,!0),h=[],d=[];let g=0,y=0;return e.inputs.forEach((b,x)=>{let w=null;if(b.indexed)if(l==null)w=new ZN(null);else if(a[x])w=new ZN(l[y++]);else try{w=l[y++]}catch(E){w=E}else try{w=f[g++]}catch(E){w=E}h.push(w),d.push(b.name||null)}),Ih.fromItems(h,d)}parseTransaction(e){const n=qe(e.data,"tx.data"),r=Te(e.value!=null?e.value:0,"tx.value"),i=this.getFunction(Ae(n.slice(0,4)));if(!i)return null;const o=B(this,Vn).decode(i.inputs,n.slice(4));return new TY(i,i.selector,o,r)}parseCallResult(e){throw new Error("@TODO")}parseLog(e){const n=this.getEvent(e.topics[0]);return!n||n.anonymous?null:new SY(n,n.topicHash,this.decodeEventLog(n,e.data,e.topics))}parseError(e){const n=Ae(e),r=this.getError(Mt(n,0,4));if(!r)return null;const i=B(this,Vn).decode(r.inputs,Mt(n,4));return new CY(r,r.selector,i)}static from(e){return e instanceof ll?e:typeof e=="string"?new ll(JSON.parse(e)):typeof e.formatJson=="function"?new ll(e.formatJson()):typeof e.format=="function"?new ll(e.format("json")):new ll(e)}};Ss=new WeakMap,Ts=new WeakMap,Cs=new WeakMap,Vn=new WeakMap,Gs=new WeakSet,O0=function(e,n,r){if(Et(e)){const o=e.toLowerCase();for(const a of B(this,Cs).values())if(o===a.selector)return a;return null}if(e.indexOf("(")===-1){const o=[];for(const[a,l]of B(this,Cs))a.split("(")[0]===e&&o.push(l);if(n){const a=n.length>0?n[n.length-1]:null;let l=n.length,f=!0;Kn.isTyped(a)&&a.type==="overrides"&&(f=!1,l--);for(let h=o.length-1;h>=0;h--){const d=o[h].inputs.length;d!==l&&(!f||d!==l-1)&&o.splice(h,1)}for(let h=o.length-1;h>=0;h--){const d=o[h].inputs;for(let g=0;g<n.length;g++)if(Kn.isTyped(n[g])){if(g>=d.length){if(n[g].type==="overrides")continue;o.splice(h,1);break}if(n[g].type!==d[g].baseType){o.splice(h,1);break}}}}if(o.length===1&&n&&n.length!==o[0].inputs.length){const a=n[n.length-1];(a==null||Array.isArray(a)||typeof a!="object")&&o.splice(0,1)}if(o.length===0)return null;if(o.length>1&&r){const a=o.map(l=>JSON.stringify(l.format())).join(", ");J(!1,`ambiguous function description (i.e. matches ${a})`,"key",e)}return o[0]}const i=B(this,Cs).get(Is.from(e).format());return i||null},D0=function(e,n,r){if(Et(e)){const o=e.toLowerCase();for(const a of B(this,Ts).values())if(o===a.topicHash)return a;return null}if(e.indexOf("(")===-1){const o=[];for(const[a,l]of B(this,Ts))a.split("(")[0]===e&&o.push(l);if(n){for(let a=o.length-1;a>=0;a--)o[a].inputs.length<n.length&&o.splice(a,1);for(let a=o.length-1;a>=0;a--){const l=o[a].inputs;for(let f=0;f<n.length;f++)if(Kn.isTyped(n[f])&&n[f].type!==l[f].baseType){o.splice(a,1);break}}}if(o.length===0)return null;if(o.length>1&&r){const a=o.map(l=>JSON.stringify(l.format())).join(", ");J(!1,`ambiguous event description (i.e. matches ${a})`,"key",e)}return o[0]}const i=B(this,Ts).get(_s.from(e).format());return i||null};let dA=ll;const N5=BigInt(0);function zf(t){return t??null}function Vt(t){return t==null?null:t.toString()}class tR{constructor(e,n,r){se(this,"gasPrice");se(this,"maxFeePerGas");se(this,"maxPriorityFeePerGas");Me(this,{gasPrice:zf(e),maxFeePerGas:zf(n),maxPriorityFeePerGas:zf(r)})}toJSON(){const{gasPrice:e,maxFeePerGas:n,maxPriorityFeePerGas:r}=this;return{_type:"FeeData",gasPrice:Vt(e),maxFeePerGas:Vt(n),maxPriorityFeePerGas:Vt(r)}}}function rb(t){const e={};t.to&&(e.to=t.to),t.from&&(e.from=t.from),t.data&&(e.data=Ae(t.data));const n="chainId,gasLimit,gasPrice,maxFeePerBlobGas,maxFeePerGas,maxPriorityFeePerGas,value".split(/,/);for(const i of n)!(i in t)||t[i]==null||(e[i]=Te(t[i],`request.${i}`));const r="type,nonce".split(/,/);for(const i of r)!(i in t)||t[i]==null||(e[i]=Ge(t[i],`request.${i}`));return t.accessList&&(e.accessList=iu(t.accessList)),t.authorizationList&&(e.authorizationList=t.authorizationList.slice()),"blockTag"in t&&(e.blockTag=t.blockTag),"enableCcipRead"in t&&(e.enableCcipRead=!!t.enableCcipRead),"customData"in t&&(e.customData=t.customData),"blobVersionedHashes"in t&&t.blobVersionedHashes&&(e.blobVersionedHashes=t.blobVersionedHashes.slice()),"kzg"in t&&(e.kzg=t.kzg),"blobs"in t&&t.blobs&&(e.blobs=t.blobs.map(i=>xS(i)?Ae(i):Object.assign({},i))),e}var No;class OY{constructor(e,n){se(this,"provider");se(this,"number");se(this,"hash");se(this,"timestamp");se(this,"parentHash");se(this,"parentBeaconBlockRoot");se(this,"nonce");se(this,"difficulty");se(this,"gasLimit");se(this,"gasUsed");se(this,"stateRoot");se(this,"receiptsRoot");se(this,"blobGasUsed");se(this,"excessBlobGas");se(this,"miner");se(this,"prevRandao");se(this,"extraData");se(this,"baseFeePerGas");ce(this,No);q(this,No,e.transactions.map(r=>typeof r!="string"?new Eg(r,n):r)),Me(this,{provider:n,hash:zf(e.hash),number:e.number,timestamp:e.timestamp,parentHash:e.parentHash,parentBeaconBlockRoot:e.parentBeaconBlockRoot,nonce:e.nonce,difficulty:e.difficulty,gasLimit:e.gasLimit,gasUsed:e.gasUsed,blobGasUsed:e.blobGasUsed,excessBlobGas:e.excessBlobGas,miner:e.miner,prevRandao:zf(e.prevRandao),extraData:e.extraData,baseFeePerGas:zf(e.baseFeePerGas),stateRoot:e.stateRoot,receiptsRoot:e.receiptsRoot})}get transactions(){return B(this,No).map(e=>typeof e=="string"?e:e.hash)}get prefetchedTransactions(){const e=B(this,No).slice();return e.length===0?[]:(me(typeof e[0]=="object","transactions were not prefetched with block request","UNSUPPORTED_OPERATION",{operation:"transactionResponses()"}),e)}toJSON(){const{baseFeePerGas:e,difficulty:n,extraData:r,gasLimit:i,gasUsed:o,hash:a,miner:l,prevRandao:f,nonce:h,number:d,parentHash:g,parentBeaconBlockRoot:y,stateRoot:b,receiptsRoot:x,timestamp:w,transactions:E}=this;return{_type:"Block",baseFeePerGas:Vt(e),difficulty:Vt(n),extraData:r,gasLimit:Vt(i),gasUsed:Vt(o),blobGasUsed:Vt(this.blobGasUsed),excessBlobGas:Vt(this.excessBlobGas),hash:a,miner:l,prevRandao:f,nonce:h,number:d,parentHash:g,timestamp:w,parentBeaconBlockRoot:y,stateRoot:b,receiptsRoot:x,transactions:E}}[Symbol.iterator](){let e=0;const n=this.transactions;return{next:()=>e<this.length?{value:n[e++],done:!1}:{value:void 0,done:!0}}}get length(){return B(this,No).length}get date(){return this.timestamp==null?null:new Date(this.timestamp*1e3)}async getTransaction(e){let n;if(typeof e=="number")n=B(this,No)[e];else{const r=e.toLowerCase();for(const i of B(this,No))if(typeof i=="string"){if(i!==r)continue;n=i;break}else{if(i.hash!==r)continue;n=i;break}}if(n==null)throw new Error("no such tx");return typeof n=="string"?await this.provider.getTransaction(n):n}getPrefetchedTransaction(e){const n=this.prefetchedTransactions;if(typeof e=="number")return n[e];e=e.toLowerCase();for(const r of n)if(r.hash===e)return r;J(!1,"no matching transaction","indexOrHash",e)}isMined(){return!!this.hash}isLondon(){return!!this.baseFeePerGas}orphanedEvent(){if(!this.isMined())throw new Error("");return DY(this)}}No=new WeakMap;class tm{constructor(e,n){se(this,"provider");se(this,"transactionHash");se(this,"blockHash");se(this,"blockNumber");se(this,"removed");se(this,"address");se(this,"data");se(this,"topics");se(this,"index");se(this,"transactionIndex");this.provider=n;const r=Object.freeze(e.topics.slice());Me(this,{transactionHash:e.transactionHash,blockHash:e.blockHash,blockNumber:e.blockNumber,removed:e.removed,address:e.address,data:e.data,topics:r,index:e.index,transactionIndex:e.transactionIndex})}toJSON(){const{address:e,blockHash:n,blockNumber:r,data:i,index:o,removed:a,topics:l,transactionHash:f,transactionIndex:h}=this;return{_type:"log",address:e,blockHash:n,blockNumber:r,data:i,index:o,removed:a,topics:l,transactionHash:f,transactionIndex:h}}async getBlock(){const e=await this.provider.getBlock(this.blockHash);return me(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransaction(){const e=await this.provider.getTransaction(this.transactionHash);return me(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransactionReceipt(){const e=await this.provider.getTransactionReceipt(this.transactionHash);return me(!!e,"failed to find transaction receipt","UNKNOWN_ERROR",{}),e}removedEvent(){return PY(this)}}var jg;class R5{constructor(e,n){se(this,"provider");se(this,"to");se(this,"from");se(this,"contractAddress");se(this,"hash");se(this,"index");se(this,"blockHash");se(this,"blockNumber");se(this,"logsBloom");se(this,"gasUsed");se(this,"blobGasUsed");se(this,"cumulativeGasUsed");se(this,"gasPrice");se(this,"blobGasPrice");se(this,"type");se(this,"status");se(this,"root");ce(this,jg);q(this,jg,Object.freeze(e.logs.map(i=>new tm(i,n))));let r=N5;e.effectiveGasPrice!=null?r=e.effectiveGasPrice:e.gasPrice!=null&&(r=e.gasPrice),Me(this,{provider:n,to:e.to,from:e.from,contractAddress:e.contractAddress,hash:e.hash,index:e.index,blockHash:e.blockHash,blockNumber:e.blockNumber,logsBloom:e.logsBloom,gasUsed:e.gasUsed,cumulativeGasUsed:e.cumulativeGasUsed,blobGasUsed:e.blobGasUsed,gasPrice:r,blobGasPrice:e.blobGasPrice,type:e.type,status:e.status,root:e.root})}get logs(){return B(this,jg)}toJSON(){const{to:e,from:n,contractAddress:r,hash:i,index:o,blockHash:a,blockNumber:l,logsBloom:f,logs:h,status:d,root:g}=this;return{_type:"TransactionReceipt",blockHash:a,blockNumber:l,contractAddress:r,cumulativeGasUsed:Vt(this.cumulativeGasUsed),from:n,gasPrice:Vt(this.gasPrice),blobGasUsed:Vt(this.blobGasUsed),blobGasPrice:Vt(this.blobGasPrice),gasUsed:Vt(this.gasUsed),hash:i,index:o,logs:h,logsBloom:f,root:g,status:d,to:e}}get length(){return this.logs.length}[Symbol.iterator](){let e=0;return{next:()=>e<this.length?{value:this.logs[e++],done:!1}:{value:void 0,done:!0}}}get fee(){return this.gasUsed*this.gasPrice}async getBlock(){const e=await this.provider.getBlock(this.blockHash);if(e==null)throw new Error("TODO");return e}async getTransaction(){const e=await this.provider.getTransaction(this.hash);if(e==null)throw new Error("TODO");return e}async getResult(){return await this.provider.getTransactionResult(this.hash)}async confirmations(){return await this.provider.getBlockNumber()-this.blockNumber+1}removedEvent(){return I5(this)}reorderedEvent(e){return me(!e||e.isMined(),"unmined 'other' transction cannot be orphaned","UNSUPPORTED_OPERATION",{operation:"reorderedEvent(other)"}),_5(this,e)}}jg=new WeakMap;var Xa;const _T=class _T{constructor(e,n){se(this,"provider");se(this,"blockNumber");se(this,"blockHash");se(this,"index");se(this,"hash");se(this,"type");se(this,"to");se(this,"from");se(this,"nonce");se(this,"gasLimit");se(this,"gasPrice");se(this,"maxPriorityFeePerGas");se(this,"maxFeePerGas");se(this,"maxFeePerBlobGas");se(this,"data");se(this,"value");se(this,"chainId");se(this,"signature");se(this,"accessList");se(this,"blobVersionedHashes");se(this,"authorizationList");ce(this,Xa);this.provider=n,this.blockNumber=e.blockNumber!=null?e.blockNumber:null,this.blockHash=e.blockHash!=null?e.blockHash:null,this.hash=e.hash,this.index=e.index,this.type=e.type,this.from=e.from,this.to=e.to||null,this.gasLimit=e.gasLimit,this.nonce=e.nonce,this.data=e.data,this.value=e.value,this.gasPrice=e.gasPrice,this.maxPriorityFeePerGas=e.maxPriorityFeePerGas!=null?e.maxPriorityFeePerGas:null,this.maxFeePerGas=e.maxFeePerGas!=null?e.maxFeePerGas:null,this.maxFeePerBlobGas=e.maxFeePerBlobGas!=null?e.maxFeePerBlobGas:null,this.chainId=e.chainId,this.signature=e.signature,this.accessList=e.accessList!=null?e.accessList:null,this.blobVersionedHashes=e.blobVersionedHashes!=null?e.blobVersionedHashes:null,this.authorizationList=e.authorizationList!=null?e.authorizationList:null,q(this,Xa,-1)}toJSON(){const{blockNumber:e,blockHash:n,index:r,hash:i,type:o,to:a,from:l,nonce:f,data:h,signature:d,accessList:g,blobVersionedHashes:y}=this;return{_type:"TransactionResponse",accessList:g,blockNumber:e,blockHash:n,blobVersionedHashes:y,chainId:Vt(this.chainId),data:h,from:l,gasLimit:Vt(this.gasLimit),gasPrice:Vt(this.gasPrice),hash:i,maxFeePerGas:Vt(this.maxFeePerGas),maxPriorityFeePerGas:Vt(this.maxPriorityFeePerGas),maxFeePerBlobGas:Vt(this.maxFeePerBlobGas),nonce:f,signature:d,to:a,index:r,type:o,value:Vt(this.value)}}async getBlock(){let e=this.blockNumber;if(e==null){const r=await this.getTransaction();r&&(e=r.blockNumber)}if(e==null)return null;const n=this.provider.getBlock(e);if(n==null)throw new Error("TODO");return n}async getTransaction(){return this.provider.getTransaction(this.hash)}async confirmations(){if(this.blockNumber==null){const{tx:n,blockNumber:r}=await Jn({tx:this.getTransaction(),blockNumber:this.provider.getBlockNumber()});return n==null||n.blockNumber==null?0:r-n.blockNumber+1}return await this.provider.getBlockNumber()-this.blockNumber+1}async wait(e,n){const r=e??1,i=n??0;let o=B(this,Xa),a=-1,l=o===-1;const f=async()=>{if(l)return null;const{blockNumber:y,nonce:b}=await Jn({blockNumber:this.provider.getBlockNumber(),nonce:this.provider.getTransactionCount(this.from)});if(b<this.nonce){o=y;return}if(l)return null;const x=await this.getTransaction();if(!(x&&x.blockNumber!=null))for(a===-1&&(a=o-3,a<B(this,Xa)&&(a=B(this,Xa)));a<=y;){if(l)return null;const w=await this.provider.getBlock(a,!0);if(w==null)return;for(const E of w)if(E===this.hash)return;for(let E=0;E<w.length;E++){const A=await w.getTransaction(E);if(A.from===this.from&&A.nonce===this.nonce){if(l)return null;const C=await this.provider.getTransactionReceipt(A.hash);if(C==null||y-C.blockNumber+1<r)return;let S="replaced";A.data===this.data&&A.to===this.to&&A.value===this.value?S="repriced":A.data==="0x"&&A.from===A.to&&A.value===N5&&(S="cancelled"),me(!1,"transaction was replaced","TRANSACTION_REPLACED",{cancelled:S==="replaced"||S==="cancelled",reason:S,replacement:A.replaceableTransaction(o),hash:A.hash,receipt:C})}}a++}},h=y=>{if(y==null||y.status!==0)return y;me(!1,"transaction execution reverted","CALL_EXCEPTION",{action:"sendTransaction",data:null,reason:null,invocation:null,revert:null,transaction:{to:y.to,from:y.from,data:""},receipt:y})},d=await this.provider.getTransactionReceipt(this.hash);if(r===0)return h(d);if(d){if(r===1||await d.confirmations()>=r)return h(d)}else if(await f(),r===0)return null;return await new Promise((y,b)=>{const x=[],w=()=>{x.forEach(A=>A())};if(x.push(()=>{l=!0}),i>0){const A=setTimeout(()=>{w(),b(Ct("wait for transaction timeout","TIMEOUT"))},i);x.push(()=>{clearTimeout(A)})}const E=async A=>{if(await A.confirmations()>=r){w();try{y(h(A))}catch(C){b(C)}}};if(x.push(()=>{this.provider.off(this.hash,E)}),this.provider.on(this.hash,E),o>=0){const A=async()=>{try{await f()}catch(C){if(Pn(C,"TRANSACTION_REPLACED")){w(),b(C);return}}l||this.provider.once("block",A)};x.push(()=>{this.provider.off("block",A)}),this.provider.once("block",A)}})}isMined(){return this.blockHash!=null}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}removedEvent(){return me(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),I5(this)}reorderedEvent(e){return me(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),me(!e||e.isMined(),"unmined 'other' transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),_5(this,e)}replaceableTransaction(e){J(Number.isInteger(e)&&e>=0,"invalid startBlock","startBlock",e);const n=new _T(this,this.provider);return q(n,Xa,e),n}};Xa=new WeakMap;let Eg=_T;function DY(t){return{orphan:"drop-block",hash:t.hash,number:t.number}}function _5(t,e){return{orphan:"reorder-transaction",tx:t,other:e}}function I5(t){return{orphan:"drop-transaction",tx:t}}function PY(t){return{orphan:"drop-log",log:{transactionHash:t.transactionHash,blockHash:t.blockHash,blockNumber:t.blockNumber,address:t.address,data:t.data,topics:Object.freeze(t.topics.slice()),index:t.index}}}class BS extends tm{constructor(n,r,i){super(n,n.provider);se(this,"interface");se(this,"fragment");se(this,"args");const o=r.decodeEventLog(i,n.data,n.topics);Me(this,{args:o,fragment:i,interface:r})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}class B5 extends tm{constructor(n,r){super(n,n.provider);se(this,"error");Me(this,{error:r})}}var mh;class NY extends R5{constructor(n,r,i){super(i,r);ce(this,mh);q(this,mh,n)}get logs(){return super.logs.map(n=>{const r=n.topics.length?B(this,mh).getEvent(n.topics[0]):null;if(r)try{return new BS(n,B(this,mh),r)}catch(i){return new B5(n,i)}return n})}}mh=new WeakMap;var Fg;class MS extends Eg{constructor(n,r,i){super(i,r);ce(this,Fg);q(this,Fg,n)}async wait(n,r){const i=await super.wait(n,r);return i==null?null:new NY(B(this,Fg),this.provider,i)}}Fg=new WeakMap;class M5 extends o6{constructor(n,r,i,o){super(n,r,i);se(this,"log");Me(this,{log:o})}async getBlock(){return await this.log.getBlock()}async getTransaction(){return await this.log.getTransaction()}async getTransactionReceipt(){return await this.log.getTransactionReceipt()}}class RY extends M5{constructor(e,n,r,i,o){super(e,n,r,new BS(o,e.interface,i));const a=e.interface.decodeEventLog(i,this.log.data,this.log.topics);Me(this,{args:a,fragment:i})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}const nR=BigInt(0);function k5(t){return t&&typeof t.call=="function"}function U5(t){return t&&typeof t.estimateGas=="function"}function Wb(t){return t&&typeof t.resolveName=="function"}function L5(t){return t&&typeof t.sendTransaction=="function"}function $5(t){if(t!=null){if(Wb(t))return t;if(t.provider)return t.provider}}var zg;class _Y{constructor(e,n,r){ce(this,zg);se(this,"fragment");if(Me(this,{fragment:n}),n.inputs.length<r.length)throw new Error("too many arguments");const i=Ql(e.runner,"resolveName"),o=Wb(i)?i:null;q(this,zg,async function(){const a=await Promise.all(n.inputs.map((l,f)=>r[f]==null?null:l.walkAsync(r[f],(d,g)=>d==="address"?Array.isArray(g)?Promise.all(g.map(y=>rr(y,o))):rr(g,o):g)));return e.interface.encodeFilterTopics(n,a)}())}getTopicFilter(){return B(this,zg)}}zg=new WeakMap;function Ql(t,e){return t==null?null:typeof t[e]=="function"?t:t.provider&&typeof t.provider[e]=="function"?t.provider:null}function gl(t){return t==null?null:t.provider||null}async function j5(t,e){const n=Kn.dereference(t,"overrides");J(typeof n=="object","invalid overrides parameter","overrides",t);const r=rb(n);return J(r.to==null||(e||[]).indexOf("to")>=0,"cannot override to","overrides.to",r.to),J(r.data==null||(e||[]).indexOf("data")>=0,"cannot override data","overrides.data",r.data),r.from&&(r.from=r.from),r}async function IY(t,e,n){const r=Ql(t,"resolveName"),i=Wb(r)?r:null;return await Promise.all(e.map((o,a)=>o.walkAsync(n[a],(l,f)=>(f=Kn.dereference(f,l),l==="address"?rr(f,i):f))))}function BY(t){const e=async function(a){const l=await j5(a,["data"]);l.to=await t.getAddress(),l.from&&(l.from=await rr(l.from,$5(t.runner)));const f=t.interface,h=Te(l.value||nR,"overrides.value")===nR,d=(l.data||"0x")==="0x";f.fallback&&!f.fallback.payable&&f.receive&&!d&&!h&&J(!1,"cannot send data to receive or send value to non-payable fallback","overrides",a),J(f.fallback||d,"cannot send data to receive-only contract","overrides.data",l.data);const g=f.receive||f.fallback&&f.fallback.payable;return J(g||h,"cannot send value to non-payable fallback","overrides.value",l.value),J(f.fallback||d,"cannot send data to receive-only contract","overrides.data",l.data),l},n=async function(a){const l=Ql(t.runner,"call");me(k5(l),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const f=await e(a);try{return await l.call(f)}catch(h){throw vS(h)&&h.data?t.interface.makeError(h.data,f):h}},r=async function(a){const l=t.runner;me(L5(l),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const f=await l.sendTransaction(await e(a)),h=gl(t.runner);return new MS(t.interface,h,f)},i=async function(a){const l=Ql(t.runner,"estimateGas");return me(U5(l),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await l.estimateGas(await e(a))},o=async a=>await r(a);return Me(o,{_contract:t,estimateGas:i,populateTransaction:e,send:r,staticCall:n}),o}function MY(t,e){const n=function(...h){const d=t.interface.getFunction(e,h);return me(d,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:h}}),d},r=async function(...h){const d=n(...h);let g={};if(d.inputs.length+1===h.length&&(g=await j5(h.pop()),g.from&&(g.from=await rr(g.from,$5(t.runner)))),d.inputs.length!==h.length)throw new Error("internal error: fragment inputs doesn't match arguments; should not happen");const y=await IY(t.runner,d.inputs,h);return Object.assign({},g,await Jn({to:t.getAddress(),data:t.interface.encodeFunctionData(d,y)}))},i=async function(...h){const d=await l(...h);return d.length===1?d[0]:d},o=async function(...h){const d=t.runner;me(L5(d),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const g=await d.sendTransaction(await r(...h)),y=gl(t.runner);return new MS(t.interface,y,g)},a=async function(...h){const d=Ql(t.runner,"estimateGas");return me(U5(d),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await d.estimateGas(await r(...h))},l=async function(...h){const d=Ql(t.runner,"call");me(k5(d),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const g=await r(...h);let y="0x";try{y=await d.call(g)}catch(x){throw vS(x)&&x.data?t.interface.makeError(x.data,g):x}const b=n(...h);return t.interface.decodeFunctionResult(b,y)},f=async(...h)=>n(...h).constant?await i(...h):await o(...h);return Me(f,{name:t.interface.getFunctionName(e),_contract:t,_key:e,getFragment:n,estimateGas:a,populateTransaction:r,send:o,staticCall:i,staticCallResult:l}),Object.defineProperty(f,"fragment",{configurable:!1,enumerable:!0,get:()=>{const h=t.interface.getFunction(e);return me(h,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),h}}),f}function kY(t,e){const n=function(...i){const o=t.interface.getEvent(e,i);return me(o,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:i}}),o},r=function(...i){return new _Y(t,n(...i),i)};return Me(r,{name:t.interface.getEventName(e),_contract:t,_key:e,getFragment:n}),Object.defineProperty(r,"fragment",{configurable:!1,enumerable:!0,get:()=>{const i=t.interface.getEvent(e);return me(i,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),i}}),r}const ib=Symbol.for("_ethersInternal_contract"),F5=new WeakMap;function UY(t,e){F5.set(t[ib],e)}function Hr(t){return F5.get(t[ib])}function LY(t){return t&&typeof t=="object"&&"getTopicFilter"in t&&typeof t.getTopicFilter=="function"&&t.fragment}async function kS(t,e){let n,r=null;if(Array.isArray(e)){const o=function(a){if(Et(a,32))return a;const l=t.interface.getEvent(a);return J(l,"unknown fragment","name",a),l.topicHash};n=e.map(a=>a==null?null:Array.isArray(a)?a.map(o):o(a))}else e==="*"?n=[null]:typeof e=="string"?Et(e,32)?n=[e]:(r=t.interface.getEvent(e),J(r,"unknown fragment","event",e),n=[r.topicHash]):LY(e)?n=await e.getTopicFilter():"fragment"in e?(r=e.fragment,n=[r.topicHash]):J(!1,"unknown event name","event",e);n=n.map(o=>{if(o==null)return null;if(Array.isArray(o)){const a=Array.from(new Set(o.map(l=>l.toLowerCase())).values());return a.length===1?a[0]:(a.sort(),a)}return o.toLowerCase()});const i=n.map(o=>o==null?"null":Array.isArray(o)?o.join("|"):o).join("&");return{fragment:r,tag:i,topics:n}}async function Bp(t,e){const{subs:n}=Hr(t);return n.get((await kS(t,e)).tag)||null}async function rR(t,e,n){const r=gl(t.runner);me(r,"contract runner does not support subscribing","UNSUPPORTED_OPERATION",{operation:e});const{fragment:i,tag:o,topics:a}=await kS(t,n),{addr:l,subs:f}=Hr(t);let h=f.get(o);if(!h){const g={address:l||t,topics:a},y=E=>{let A=i;if(A==null)try{A=t.interface.getEvent(E.topics[0])}catch{}if(A){const C=A,S=i?t.interface.decodeEventLog(i,E.data,E.topics):[];gA(t,n,S,R=>new RY(t,R,n,C,E))}else gA(t,n,[],C=>new M5(t,C,n,E))};let b=[];h={tag:o,listeners:[],start:()=>{b.length||b.push(r.on(g,y))},stop:async()=>{if(b.length==0)return;let E=b;b=[],await Promise.all(E),r.off(g,y)}},f.set(o,h)}return h}let pA=Promise.resolve();async function $Y(t,e,n,r){await pA;const i=await Bp(t,e);if(!i)return!1;const o=i.listeners.length;return i.listeners=i.listeners.filter(({listener:a,once:l})=>{const f=Array.from(n);r&&f.push(r(l?null:a));try{a.call(t,...f)}catch{}return!l}),i.listeners.length===0&&(i.stop(),Hr(t).subs.delete(i.tag)),o>0}async function gA(t,e,n,r){try{await pA}catch{}const i=$Y(t,e,n,r);return pA=i,await i}const Gy=["then"];var Z8;Z8=ib;const ig=class ig{constructor(e,n,r,i){se(this,"target");se(this,"interface");se(this,"runner");se(this,"filters");se(this,Z8);se(this,"fallback");J(typeof e=="string"||G6(e),"invalid value for Contract target","target",e),r==null&&(r=null);const o=dA.from(n);Me(this,{target:e,runner:r,interface:o}),Object.defineProperty(this,ib,{value:{}});let a,l=null,f=null;if(i){const g=gl(r);f=new MS(this.interface,g,i)}let h=new Map;if(typeof e=="string")if(Et(e))l=e,a=Promise.resolve(e);else{const g=Ql(r,"resolveName");if(!Wb(g))throw Ct("contract runner does not support name resolution","UNSUPPORTED_OPERATION",{operation:"resolveName"});a=g.resolveName(e).then(y=>{if(y==null)throw Ct("an ENS name used for a contract target must be correctly configured","UNCONFIGURED_NAME",{value:e});return Hr(this).addr=y,y})}else a=e.getAddress().then(g=>{if(g==null)throw new Error("TODO");return Hr(this).addr=g,g});UY(this,{addrPromise:a,addr:l,deployTx:f,subs:h});const d=new Proxy({},{get:(g,y,b)=>{if(typeof y=="symbol"||Gy.indexOf(y)>=0)return Reflect.get(g,y,b);try{return this.getEvent(y)}catch(x){if(!Pn(x,"INVALID_ARGUMENT")||x.argument!=="key")throw x}},has:(g,y)=>Gy.indexOf(y)>=0?Reflect.has(g,y):Reflect.has(g,y)||this.interface.hasEvent(String(y))});return Me(this,{filters:d}),Me(this,{fallback:o.receive||o.fallback?BY(this):null}),new Proxy(this,{get:(g,y,b)=>{if(typeof y=="symbol"||y in g||Gy.indexOf(y)>=0)return Reflect.get(g,y,b);try{return g.getFunction(y)}catch(x){if(!Pn(x,"INVALID_ARGUMENT")||x.argument!=="key")throw x}},has:(g,y)=>typeof y=="symbol"||y in g||Gy.indexOf(y)>=0?Reflect.has(g,y):g.interface.hasFunction(y)})}connect(e){return new ig(this.target,this.interface,e)}attach(e){return new ig(e,this.interface,this.runner)}async getAddress(){return await Hr(this).addrPromise}async getDeployedCode(){const e=gl(this.runner);me(e,"runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"getDeployedCode"});const n=await e.getCode(await this.getAddress());return n==="0x"?null:n}async waitForDeployment(){const e=this.deploymentTransaction();if(e)return await e.wait(),this;if(await this.getDeployedCode()!=null)return this;const r=gl(this.runner);return me(r!=null,"contract runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"waitForDeployment"}),new Promise((i,o)=>{const a=async()=>{try{if(await this.getDeployedCode()!=null)return i(this);r.once("block",a)}catch(l){o(l)}};a()})}deploymentTransaction(){return Hr(this).deployTx}getFunction(e){return typeof e!="string"&&(e=e.format()),MY(this,e)}getEvent(e){return typeof e!="string"&&(e=e.format()),kY(this,e)}async queryTransaction(e){throw new Error("@TODO")}async queryFilter(e,n,r){n==null&&(n=0),r==null&&(r="latest");const{addr:i,addrPromise:o}=Hr(this),a=i||await o,{fragment:l,topics:f}=await kS(this,e),h={address:a,topics:f,fromBlock:n,toBlock:r},d=gl(this.runner);return me(d,"contract runner does not have a provider","UNSUPPORTED_OPERATION",{operation:"queryFilter"}),(await d.getLogs(h)).map(g=>{let y=l;if(y==null)try{y=this.interface.getEvent(g.topics[0])}catch{}if(y)try{return new BS(g,this.interface,y)}catch(b){return new B5(g,b)}return new tm(g,d)})}async on(e,n){const r=await rR(this,"on",e);return r.listeners.push({listener:n,once:!1}),r.start(),this}async once(e,n){const r=await rR(this,"once",e);return r.listeners.push({listener:n,once:!0}),r.start(),this}async emit(e,...n){return await gA(this,e,n,null)}async listenerCount(e){if(e){const i=await Bp(this,e);return i?i.listeners.length:0}const{subs:n}=Hr(this);let r=0;for(const{listeners:i}of n.values())r+=i.length;return r}async listeners(e){if(e){const i=await Bp(this,e);return i?i.listeners.map(({listener:o})=>o):[]}const{subs:n}=Hr(this);let r=[];for(const{listeners:i}of n.values())r=r.concat(i.map(({listener:o})=>o));return r}async off(e,n){const r=await Bp(this,e);if(!r)return this;if(n){const i=r.listeners.map(({listener:o})=>o).indexOf(n);i>=0&&r.listeners.splice(i,1)}return(n==null||r.listeners.length===0)&&(r.stop(),Hr(this).subs.delete(r.tag)),this}async removeAllListeners(e){if(e){const n=await Bp(this,e);if(!n)return this;n.stop(),Hr(this).subs.delete(n.tag)}else{const{subs:n}=Hr(this);for(const{tag:r,stop:i}of n.values())i(),n.delete(r)}return this}async addListener(e,n){return await this.on(e,n)}async removeListener(e,n){return await this.off(e,n)}static buildClass(e){class n extends ig{constructor(i,o=null){super(i,e,o)}}return n}static from(e,n,r){return r==null&&(r=null),new this(e,n,r)}};let mA=ig;function jY(){return mA}class dc extends jY(){}function bx(t){return t.match(/^ipfs:\/\/ipfs\//i)?t=t.substring(12):t.match(/^ipfs:\/\//i)?t=t.substring(7):J(!1,"unsupported IPFS format","link",t),`https://gateway.ipfs.io/ipfs/${t}`}class FY{constructor(e){se(this,"name");Me(this,{name:e})}connect(e){return this}supportsCoinType(e){return!1}async encodeAddress(e,n){throw new Error("unsupported coin")}async decodeAddress(e,n){throw new Error("unsupported coin")}}const z5=new RegExp("^(ipfs)://(.*)$","i"),iR=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),z5,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];var Za,_l,Ja,Sf,Rb,V5;const Uf=class Uf{constructor(e,n,r){ce(this,Ja);se(this,"provider");se(this,"address");se(this,"name");ce(this,Za);ce(this,_l);Me(this,{provider:e,address:n,name:r}),q(this,Za,null),q(this,_l,new dc(n,["function supportsInterface(bytes4) view returns (bool)","function resolve(bytes, bytes) view returns (bytes)","function addr(bytes32) view returns (address)","function addr(bytes32, uint) view returns (bytes)","function text(bytes32, string) view returns (string)","function contenthash(bytes32) view returns (bytes)"],e))}async supportsWildcard(){return B(this,Za)==null&&q(this,Za,(async()=>{try{return await B(this,_l).supportsInterface("0x9061b923")}catch(e){if(Pn(e,"CALL_EXCEPTION"))return!1;throw q(this,Za,null),e}})()),await B(this,Za)}async getAddress(e){if(e==null&&(e=60),e===60)try{const o=await xe(this,Ja,Sf).call(this,"addr(bytes32)");return o==null||o===pg?null:o}catch(o){if(Pn(o,"CALL_EXCEPTION"))return null;throw o}if(e>=0&&e<2147483648){let o=e+2147483648;const a=await xe(this,Ja,Sf).call(this,"addr(bytes32,uint)",[o]);if(Et(a,20))return ct(a)}let n=null;for(const o of this.provider.plugins)if(o instanceof FY&&o.supportsCoinType(e)){n=o;break}if(n==null)return null;const r=await xe(this,Ja,Sf).call(this,"addr(bytes32,uint)",[e]);if(r==null||r==="0x")return null;const i=await n.decodeAddress(e,r);if(i!=null)return i;me(!1,"invalid coin data","UNSUPPORTED_OPERATION",{operation:`getAddress(${e})`,info:{coinType:e,data:r}})}async getText(e){const n=await xe(this,Ja,Sf).call(this,"text(bytes32,string)",[e]);return n==null||n==="0x"?null:n}async getContentHash(){const e=await xe(this,Ja,Sf).call(this,"contenthash(bytes32)");if(e==null||e==="0x")return null;const n=e.match(/^0x(e3010170|e5010172)(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(n){const i=n[1]==="e3010170"?"ipfs":"ipns",o=parseInt(n[4],16);if(n[5].length===o*2)return`${i}://${Qq("0x"+n[2])}`}const r=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(r&&r[1].length===64)return`bzz://${r[1]}`;me(!1,"invalid or unsupported content hash data","UNSUPPORTED_OPERATION",{operation:"getContentHash()",info:{data:e}})}async getAvatar(){return(await this._getAvatar()).url}async _getAvatar(){const e=[{type:"name",value:this.name}];try{const n=await this.getText("avatar");if(n==null)return e.push({type:"!avatar",value:""}),{url:null,linkage:e};e.push({type:"avatar",value:n});for(let r=0;r<iR.length;r++){const i=n.match(iR[r]);if(i==null)continue;const o=i[1].toLowerCase();switch(o){case"https":case"data":return e.push({type:"url",value:n}),{linkage:e,url:n};case"ipfs":{const a=bx(n);return e.push({type:"ipfs",value:n}),e.push({type:"url",value:a}),{linkage:e,url:a}}case"erc721":case"erc1155":{const a=o==="erc721"?"tokenURI(uint256)":"uri(uint256)";e.push({type:o,value:n});const l=await this.getAddress();if(l==null)return e.push({type:"!owner",value:""}),{url:null,linkage:e};const f=(i[2]||"").split("/");if(f.length!==2)return e.push({type:`!${o}caip`,value:i[2]||""}),{url:null,linkage:e};const h=f[1],d=new dc(f[0],["function tokenURI(uint) view returns (string)","function ownerOf(uint) view returns (address)","function uri(uint) view returns (string)","function balanceOf(address, uint256) view returns (uint)"],this.provider);if(o==="erc721"){const w=await d.ownerOf(h);if(l!==w)return e.push({type:"!owner",value:w}),{url:null,linkage:e};e.push({type:"owner",value:w})}else if(o==="erc1155"){const w=await d.balanceOf(l,h);if(!w)return e.push({type:"!balance",value:"0"}),{url:null,linkage:e};e.push({type:"balance",value:w.toString()})}let g=await d[a](h);if(g==null||g==="0x")return e.push({type:"!metadata-url",value:""}),{url:null,linkage:e};e.push({type:"metadata-url-base",value:g}),o==="erc1155"&&(g=g.replace("{id}",yc(h,32).substring(2)),e.push({type:"metadata-url-expanded",value:g})),g.match(/^ipfs:/i)&&(g=bx(g)),e.push({type:"metadata-url",value:g});let y={};const b=await new bc(g).send();b.assertOk();try{y=b.bodyJson}catch{try{e.push({type:"!metadata",value:b.bodyText})}catch{const A=b.body;return A&&e.push({type:"!metadata",value:Ae(A)}),{url:null,linkage:e}}return{url:null,linkage:e}}if(!y)return e.push({type:"!metadata",value:""}),{url:null,linkage:e};e.push({type:"metadata",value:JSON.stringify(y)});let x=y.image;if(typeof x!="string")return e.push({type:"!imageUrl",value:""}),{url:null,linkage:e};if(!x.match(/^(https:\/\/|data:)/i)){if(x.match(z5)==null)return e.push({type:"!imageUrl-ipfs",value:x}),{url:null,linkage:e};e.push({type:"imageUrl-ipfs",value:x}),x=bx(x)}return e.push({type:"url",value:x}),{linkage:e,url:x}}}}}catch{}return{linkage:e,url:null}}static async getEnsAddress(e){const n=await e.getNetwork(),r=n.getPlugin("org.ethers.plugins.network.Ens");return me(r,"network does not support ENS","UNSUPPORTED_OPERATION",{operation:"getEnsAddress",info:{network:n}}),r.address}static async fromName(e,n){var i;let r=n;for(;;){if(r===""||r==="."||n!=="eth"&&r==="eth")return null;const o=await xe(i=Uf,Rb,V5).call(i,e,r);if(o!=null){const a=new Uf(e,o,n);return r!==n&&!await a.supportsWildcard()?null:a}r=r.split(".").slice(1).join(".")}}};Za=new WeakMap,_l=new WeakMap,Ja=new WeakSet,Sf=async function(e,n){n=(n||[]).slice();const r=B(this,_l).interface;n.unshift(fA(this.name));let i=null;await this.supportsWildcard()&&(i=r.getFunction(e),me(i,"missing fragment","UNKNOWN_ERROR",{info:{funcName:e}}),n=[nY(this.name,255),r.encodeFunctionData(i,n)],e="resolve(bytes,bytes)"),n.push({enableCcipRead:!0});try{const o=await B(this,_l)[e](...n);return i?r.decodeFunctionResult(i,o)[0]:o}catch(o){if(!Pn(o,"CALL_EXCEPTION"))throw o}return null},Rb=new WeakSet,V5=async function(e,n){const r=await Uf.getEnsAddress(e);try{const o=await new dc(r,["function resolver(bytes32) view returns (address)"],e).resolver(fA(n),{enableCcipRead:!0});return o===pg?null:o}catch(i){throw i}return null},ce(Uf,Rb);let sb=Uf;const sR=BigInt(0);function Xe(t,e){return function(n){return n==null?e:t(n)}}function Ag(t,e){return n=>{if(e&&n==null)return null;if(!Array.isArray(n))throw new Error("not an array");return n.map(r=>t(r))}}function nm(t,e){return n=>{const r={};for(const i in t){let o=i;if(e&&i in e&&!(o in n)){for(const a of e[i])if(a in n){o=a;break}}try{const a=t[i](n[o]);a!==void 0&&(r[i]=a)}catch(a){const l=a instanceof Error?a.message:"not-an-error";me(!1,`invalid value for value.${i} (${l})`,"BAD_DATA",{value:n})}}return r}}function zY(t){switch(t){case!0:case"true":return!0;case!1:case"false":return!1}J(!1,`invalid boolean; ${JSON.stringify(t)}`,"value",t)}function jh(t){return J(Et(t,!0),"invalid data","value",t),t}function Dn(t){return J(Et(t,32),"invalid hash","value",t),t}const VY=nm({address:ct,blockHash:Dn,blockNumber:Ge,data:jh,index:Ge,removed:Xe(zY,!1),topics:Ag(Dn),transactionHash:Dn,transactionIndex:Ge},{index:["logIndex"]});function HY(t){return VY(t)}const qY=nm({hash:Xe(Dn),parentHash:Dn,parentBeaconBlockRoot:Xe(Dn,null),number:Ge,timestamp:Ge,nonce:Xe(jh),difficulty:Te,gasLimit:Te,gasUsed:Te,stateRoot:Xe(Dn,null),receiptsRoot:Xe(Dn,null),blobGasUsed:Xe(Te,null),excessBlobGas:Xe(Te,null),miner:Xe(ct),prevRandao:Xe(Dn,null),extraData:jh,baseFeePerGas:Xe(Te)},{prevRandao:["mixHash"]});function GY(t){const e=qY(t);return e.transactions=t.transactions.map(n=>typeof n=="string"?n:H5(n)),e}const KY=nm({transactionIndex:Ge,blockNumber:Ge,transactionHash:Dn,address:ct,topics:Ag(Dn),data:jh,index:Ge,blockHash:Dn},{index:["logIndex"]});function QY(t){return KY(t)}const YY=nm({to:Xe(ct,null),from:Xe(ct,null),contractAddress:Xe(ct,null),index:Ge,root:Xe(Ae),gasUsed:Te,blobGasUsed:Xe(Te,null),logsBloom:Xe(jh),blockHash:Dn,hash:Dn,logs:Ag(QY),blockNumber:Ge,cumulativeGasUsed:Te,effectiveGasPrice:Xe(Te),blobGasPrice:Xe(Te,null),status:Xe(Ge),type:Xe(Ge,0)},{effectiveGasPrice:["gasPrice"],hash:["transactionHash"],index:["transactionIndex"]});function WY(t){return YY(t)}function H5(t){t.to&&Te(t.to)===sR&&(t.to="0x0000000000000000000000000000000000000000");const e=nm({hash:Dn,index:Xe(Ge,void 0),type:n=>n==="0x"||n==null?0:Ge(n),accessList:Xe(iu,null),blobVersionedHashes:Xe(Ag(Dn,!0),null),authorizationList:Xe(Ag(n=>{let r;if(n.signature)r=n.signature;else{let i=n.yParity;i==="0x1b"?i=0:i==="0x1c"&&(i=1),r=Object.assign({},n,{yParity:i})}return{address:ct(n.address),chainId:Te(n.chainId),nonce:Te(n.nonce),signature:Dr.from(r)}},!1),null),blockHash:Xe(Dn,null),blockNumber:Xe(Ge,null),transactionIndex:Xe(Ge,null),from:ct,gasPrice:Xe(Te),maxPriorityFeePerGas:Xe(Te),maxFeePerGas:Xe(Te),maxFeePerBlobGas:Xe(Te,null),gasLimit:Te,to:Xe(ct,null),value:Te,nonce:Ge,data:jh,creates:Xe(ct,null),chainId:Xe(Te,null)},{data:["input"],gasLimit:["gas"],index:["transactionIndex"]})(t);if(e.to==null&&e.creates==null&&(e.creates=LK(e)),(t.type===1||t.type===2)&&t.accessList==null&&(e.accessList=[]),t.signature?e.signature=Dr.from(t.signature):e.signature=Dr.from(t),e.chainId==null){const n=e.signature.legacyChainId;n!=null&&(e.chainId=n)}return e.blockHash&&Te(e.blockHash)===sR&&(e.blockHash=null),e}const XY="0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e";class rm{constructor(e){se(this,"name");Me(this,{name:e})}clone(){return new rm(this.name)}}class Xb extends rm{constructor(n,r){n==null&&(n=0);super(`org.ethers.network.plugins.GasCost#${n||0}`);se(this,"effectiveBlock");se(this,"txBase");se(this,"txCreate");se(this,"txDataZero");se(this,"txDataNonzero");se(this,"txAccessListStorageKey");se(this,"txAccessListAddress");const i={effectiveBlock:n};function o(a,l){let f=(r||{})[a];f==null&&(f=l),J(typeof f=="number",`invalud value for ${a}`,"costs",r),i[a]=f}o("txBase",21e3),o("txCreate",32e3),o("txDataZero",4),o("txDataNonzero",16),o("txAccessListStorageKey",1900),o("txAccessListAddress",2400),Me(this,i)}clone(){return new Xb(this.effectiveBlock,this)}}class Zb extends rm{constructor(n,r){super("org.ethers.plugins.network.Ens");se(this,"address");se(this,"targetNetwork");Me(this,{address:n||XY,targetNetwork:r??1})}clone(){return new Zb(this.address,this.targetNetwork)}}var Vg,Hg;class ZY extends rm{constructor(n,r){super("org.ethers.plugins.network.FetchUrlFeeDataPlugin");ce(this,Vg);ce(this,Hg);q(this,Vg,n),q(this,Hg,r)}get url(){return B(this,Vg)}get processFunc(){return B(this,Hg)}clone(){return this}}Vg=new WeakMap,Hg=new WeakMap;const wx=new Map;var yh,bh,ec;const Lf=class Lf{constructor(e,n){ce(this,yh);ce(this,bh);ce(this,ec);q(this,yh,e),q(this,bh,Te(n)),q(this,ec,new Map)}toJSON(){return{name:this.name,chainId:String(this.chainId)}}get name(){return B(this,yh)}set name(e){q(this,yh,e)}get chainId(){return B(this,bh)}set chainId(e){q(this,bh,Te(e,"chainId"))}matches(e){if(e==null)return!1;if(typeof e=="string"){try{return this.chainId===Te(e)}catch{}return this.name===e}if(typeof e=="number"||typeof e=="bigint"){try{return this.chainId===Te(e)}catch{}return!1}if(typeof e=="object"){if(e.chainId!=null){try{return this.chainId===Te(e.chainId)}catch{}return!1}return e.name!=null?this.name===e.name:!1}return!1}get plugins(){return Array.from(B(this,ec).values())}attachPlugin(e){if(B(this,ec).get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return B(this,ec).set(e.name,e.clone()),this}getPlugin(e){return B(this,ec).get(e)||null}getPlugins(e){return this.plugins.filter(n=>n.name.split("#")[0]===e)}clone(){const e=new Lf(this.name,this.chainId);return this.plugins.forEach(n=>{e.attachPlugin(n.clone())}),e}computeIntrinsicGas(e){const n=this.getPlugin("org.ethers.plugins.network.GasCost")||new Xb;let r=n.txBase;if(e.to==null&&(r+=n.txCreate),e.data)for(let i=2;i<e.data.length;i+=2)e.data.substring(i,i+2)==="00"?r+=n.txDataZero:r+=n.txDataNonzero;if(e.accessList){const i=iu(e.accessList);for(const o in i)r+=n.txAccessListAddress+n.txAccessListStorageKey*i[o].storageKeys.length}return r}static from(e){if(JY(),e==null)return Lf.from("mainnet");if(typeof e=="number"&&(e=BigInt(e)),typeof e=="string"||typeof e=="bigint"){const n=wx.get(e);if(n)return n();if(typeof e=="bigint")return new Lf("unknown",e);J(!1,"unknown network","network",e)}if(typeof e.clone=="function")return e.clone();if(typeof e=="object"){J(typeof e.name=="string"&&typeof e.chainId=="number","invalid network object name or chainId","network",e);const n=new Lf(e.name,e.chainId);return(e.ensAddress||e.ensNetwork!=null)&&n.attachPlugin(new Zb(e.ensAddress,e.ensNetwork)),n}J(!1,"invalid network","network",e)}static register(e,n){typeof e=="number"&&(e=BigInt(e));const r=wx.get(e);r&&J(!1,`conflicting network for ${JSON.stringify(r.name)}`,"nameOrChainId",e),wx.set(e,n)}};yh=new WeakMap,bh=new WeakMap,ec=new WeakMap;let Us=Lf;function oR(t,e){const n=String(t);if(!n.match(/^[0-9.]+$/))throw new Error(`invalid gwei value: ${t}`);const r=n.split(".");if(r.length===1&&r.push(""),r.length!==2)throw new Error(`invalid gwei value: ${t}`);for(;r[1].length<e;)r[1]+="0";if(r[1].length>9){let i=BigInt(r[1].substring(0,9));r[1].substring(9).match(/^0+$/)||i++,r[1]=i.toString()}return BigInt(r[0]+r[1])}function aR(t){return new ZY(t,async(e,n,r)=>{r.setHeader("User-Agent","ethers");let i;try{const[o,a]=await Promise.all([r.send(),e()]);i=o;const l=i.bodyJson.standard;return{gasPrice:a.gasPrice,maxFeePerGas:oR(l.maxFee,9),maxPriorityFeePerGas:oR(l.maxPriorityFee,9)}}catch(o){me(!1,`error encountered with polygon gas station (${JSON.stringify(r.url)})`,"SERVER_ERROR",{request:r,response:i,error:o})}})}let cR=!1;function JY(){if(cR)return;cR=!0;function t(e,n,r){const i=function(){const o=new Us(e,n);return r.ensNetwork!=null&&o.attachPlugin(new Zb(null,r.ensNetwork)),o.attachPlugin(new Xb),(r.plugins||[]).forEach(a=>{o.attachPlugin(a)}),o};Us.register(e,i),Us.register(n,i),r.altNames&&r.altNames.forEach(o=>{Us.register(o,i)})}t("mainnet",1,{ensNetwork:1,altNames:["homestead"]}),t("ropsten",3,{ensNetwork:3}),t("rinkeby",4,{ensNetwork:4}),t("goerli",5,{ensNetwork:5}),t("kovan",42,{ensNetwork:42}),t("sepolia",11155111,{ensNetwork:11155111}),t("holesky",17e3,{ensNetwork:17e3}),t("classic",61,{}),t("classicKotti",6,{}),t("arbitrum",42161,{ensNetwork:1}),t("arbitrum-goerli",421613,{}),t("arbitrum-sepolia",421614,{}),t("base",8453,{ensNetwork:1}),t("base-goerli",84531,{}),t("base-sepolia",84532,{}),t("bnb",56,{ensNetwork:1}),t("bnbt",97,{}),t("linea",59144,{ensNetwork:1}),t("linea-goerli",59140,{}),t("linea-sepolia",59141,{}),t("matic",137,{ensNetwork:1,plugins:[aR("https://gasstation.polygon.technology/v2")]}),t("matic-amoy",80002,{}),t("matic-mumbai",80001,{altNames:["maticMumbai","maticmum"],plugins:[aR("https://gasstation-testnet.polygon.technology/v2")]}),t("optimism",10,{ensNetwork:1,plugins:[]}),t("optimism-goerli",420,{}),t("optimism-sepolia",11155420,{}),t("xdai",100,{ensNetwork:1})}function yA(t){return JSON.parse(JSON.stringify(t))}var Ro,vi,tc,Os,wh,P0;class eW{constructor(e){ce(this,wh);ce(this,Ro);ce(this,vi);ce(this,tc);ce(this,Os);q(this,Ro,e),q(this,vi,null),q(this,tc,4e3),q(this,Os,-2)}get pollingInterval(){return B(this,tc)}set pollingInterval(e){q(this,tc,e)}start(){B(this,vi)||(q(this,vi,B(this,Ro)._setTimeout(xe(this,wh,P0).bind(this),B(this,tc))),xe(this,wh,P0).call(this))}stop(){B(this,vi)&&(B(this,Ro)._clearTimeout(B(this,vi)),q(this,vi,null))}pause(e){this.stop(),e&&q(this,Os,-2)}resume(){this.start()}}Ro=new WeakMap,vi=new WeakMap,tc=new WeakMap,Os=new WeakMap,wh=new WeakSet,P0=async function(){try{const e=await B(this,Ro).getBlockNumber();if(B(this,Os)===-2){q(this,Os,e);return}if(e!==B(this,Os)){for(let n=B(this,Os)+1;n<=e;n++){if(B(this,vi)==null)return;await B(this,Ro).emit("block",n)}q(this,Os,e)}}catch{}B(this,vi)!=null&&q(this,vi,B(this,Ro)._setTimeout(xe(this,wh,P0).bind(this),B(this,tc)))};var Il,Bl,nc;class US{constructor(e){ce(this,Il);ce(this,Bl);ce(this,nc);q(this,Il,e),q(this,nc,!1),q(this,Bl,n=>{this._poll(n,B(this,Il))})}async _poll(e,n){throw new Error("sub-classes must override this")}start(){B(this,nc)||(q(this,nc,!0),B(this,Bl).call(this,-2),B(this,Il).on("block",B(this,Bl)))}stop(){B(this,nc)&&(q(this,nc,!1),B(this,Il).off("block",B(this,Bl)))}pause(e){this.stop()}resume(){this.start()}}Il=new WeakMap,Bl=new WeakMap,nc=new WeakMap;var vh,_o;class tW extends US{constructor(n,r){super(n);ce(this,vh);ce(this,_o);q(this,vh,r),q(this,_o,-2)}pause(n){n&&q(this,_o,-2),super.pause(n)}async _poll(n,r){const i=await r.getBlock(B(this,vh));i!=null&&(B(this,_o)===-2?q(this,_o,i.number):i.number>B(this,_o)&&(r.emit(B(this,vh),i.number),q(this,_o,i.number)))}}vh=new WeakMap,_o=new WeakMap;var _b;class nW extends US{constructor(n,r){super(n);ce(this,_b);q(this,_b,yA(r))}async _poll(n,r){throw new Error("@TODO")}}_b=new WeakMap;var xh;class rW extends US{constructor(n,r){super(n);ce(this,xh);q(this,xh,r)}async _poll(n,r){const i=await r.getTransactionReceipt(B(this,xh));i&&r.emit(B(this,xh),i)}}xh=new WeakMap;var Io,Eh,Ah,rc,xi,Ib,q5;class LS{constructor(e,n){ce(this,Ib);ce(this,Io);ce(this,Eh);ce(this,Ah);ce(this,rc);ce(this,xi);q(this,Io,e),q(this,Eh,yA(n)),q(this,Ah,xe(this,Ib,q5).bind(this)),q(this,rc,!1),q(this,xi,-2)}start(){B(this,rc)||(q(this,rc,!0),B(this,xi)===-2&&B(this,Io).getBlockNumber().then(e=>{q(this,xi,e)}),B(this,Io).on("block",B(this,Ah)))}stop(){B(this,rc)&&(q(this,rc,!1),B(this,Io).off("block",B(this,Ah)))}pause(e){this.stop(),e&&q(this,xi,-2)}resume(){this.start()}}Io=new WeakMap,Eh=new WeakMap,Ah=new WeakMap,rc=new WeakMap,xi=new WeakMap,Ib=new WeakSet,q5=async function(e){if(B(this,xi)===-2)return;const n=yA(B(this,Eh));n.fromBlock=B(this,xi)+1,n.toBlock=e;const r=await B(this,Io).getLogs(n);if(r.length===0){B(this,xi)<e-60&&q(this,xi,e-60);return}for(const i of r)B(this,Io).emit(B(this,Eh),i),q(this,xi,i.blockNumber)};const iW=BigInt(2),sW=10;function Ky(t){return t&&typeof t.then=="function"}function N0(t,e){return t+":"+JSON.stringify(e,(n,r)=>{if(r==null)return"null";if(typeof r=="bigint")return`bigint:${r.toString()}`;if(typeof r=="string")return r.toLowerCase();if(typeof r=="object"&&!Array.isArray(r)){const i=Object.keys(r);return i.sort(),i.reduce((o,a)=>(o[a]=r[a],o),{})}return r})}class G5{constructor(e){se(this,"name");Me(this,{name:e})}start(){}stop(){}pause(e){}resume(){}}function oW(t){return JSON.parse(JSON.stringify(t))}function bA(t){return t=Array.from(new Set(t).values()),t.sort(),t}async function vx(t,e){if(t==null)throw new Error("invalid event");if(Array.isArray(t)&&(t={topics:t}),typeof t=="string")switch(t){case"block":case"debug":case"error":case"finalized":case"network":case"pending":case"safe":return{type:t,tag:t}}if(Et(t,32)){const n=t.toLowerCase();return{type:"transaction",tag:N0("tx",{hash:n}),hash:n}}if(t.orphan){const n=t;return{type:"orphan",tag:N0("orphan",n),filter:oW(n)}}if(t.address||t.topics){const n=t,r={topics:(n.topics||[]).map(i=>i==null?null:Array.isArray(i)?bA(i.map(o=>o.toLowerCase())):i.toLowerCase())};if(n.address){const i=[],o=[],a=l=>{Et(l)?i.push(l):o.push((async()=>{i.push(await rr(l,e))})())};Array.isArray(n.address)?n.address.forEach(a):a(n.address),o.length&&await Promise.all(o),r.address=bA(i.map(l=>l.toLowerCase()))}return{filter:r,tag:N0("event",r),type:"event"}}J(!1,"unknown ProviderEvent","event",t)}function xx(){return new Date().getTime()}const aW={cacheTimeout:250,pollingInterval:4e3};var Hn,ic,qn,Sh,Qr,Ml,sc,Bo,qg,Ei,Th,Ch,He,zr,wA,vA,Mp,xA,kp,R0;class cW{constructor(e,n){ce(this,He);ce(this,Hn);ce(this,ic);ce(this,qn);ce(this,Sh);ce(this,Qr);ce(this,Ml);ce(this,sc);ce(this,Bo);ce(this,qg);ce(this,Ei);ce(this,Th);ce(this,Ch);if(q(this,Ch,Object.assign({},aW,n||{})),e==="any")q(this,Ml,!0),q(this,Qr,null);else if(e){const r=Us.from(e);q(this,Ml,!1),q(this,Qr,Promise.resolve(r)),setTimeout(()=>{this.emit("network",r,null)},0)}else q(this,Ml,!1),q(this,Qr,null);q(this,Bo,-1),q(this,sc,new Map),q(this,Hn,new Map),q(this,ic,new Map),q(this,qn,null),q(this,Sh,!1),q(this,qg,1),q(this,Ei,new Map),q(this,Th,!1)}get pollingInterval(){return B(this,Ch).pollingInterval}get provider(){return this}get plugins(){return Array.from(B(this,ic).values())}attachPlugin(e){if(B(this,ic).get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return B(this,ic).set(e.name,e.connect(this)),this}getPlugin(e){return B(this,ic).get(e)||null}get disableCcipRead(){return B(this,Th)}set disableCcipRead(e){q(this,Th,!!e)}async ccipReadFetch(e,n,r){if(this.disableCcipRead||r.length===0||e.to==null)return null;const i=e.to.toLowerCase(),o=n.toLowerCase(),a=[];for(let l=0;l<r.length;l++){const f=r[l],h=f.replace("{sender}",i).replace("{data}",o),d=new bc(h);f.indexOf("{data}")===-1&&(d.body={data:o,sender:i}),this.emit("debug",{action:"sendCcipReadFetchRequest",request:d,index:l,urls:r});let g="unknown error",y;try{y=await d.send()}catch(b){a.push(b.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:d,result:{error:b}});continue}try{const b=y.bodyJson;if(b.data)return this.emit("debug",{action:"receiveCcipReadFetchResult",request:d,result:b}),b.data;b.message&&(g=b.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:d,result:b})}catch{}me(y.statusCode<400||y.statusCode>=500,`response not found during CCIP fetch: ${g}`,"OFFCHAIN_FAULT",{reason:"404_MISSING_RESOURCE",transaction:e,info:{url:f,errorMessage:g}}),a.push(g)}me(!1,`error encountered during CCIP fetch: ${a.map(l=>JSON.stringify(l)).join(", ")}`,"OFFCHAIN_FAULT",{reason:"500_SERVER_ERROR",transaction:e,info:{urls:r,errorMessages:a}})}_wrapBlock(e,n){return new OY(GY(e),this)}_wrapLog(e,n){return new tm(HY(e),this)}_wrapTransactionReceipt(e,n){return new R5(WY(e),this)}_wrapTransactionResponse(e,n){return new Eg(H5(e),this)}_detectNetwork(){me(!1,"sub-classes must implement this","UNSUPPORTED_OPERATION",{operation:"_detectNetwork"})}async _perform(e){me(!1,`unsupported method: ${e.method}`,"UNSUPPORTED_OPERATION",{operation:e.method,info:e})}async getBlockNumber(){const e=Ge(await xe(this,He,zr).call(this,{method:"getBlockNumber"}),"%response");return B(this,Bo)>=0&&q(this,Bo,e),e}_getAddress(e){return rr(e,this)}_getBlockTag(e){if(e==null)return"latest";switch(e){case"earliest":return"0x0";case"finalized":case"latest":case"pending":case"safe":return e}if(Et(e))return Et(e,32)?e:Xi(e);if(typeof e=="bigint"&&(e=Ge(e,"blockTag")),typeof e=="number")return e>=0?Xi(e):B(this,Bo)>=0?Xi(B(this,Bo)+e):this.getBlockNumber().then(n=>Xi(n+e));J(!1,"invalid blockTag","blockTag",e)}_getFilter(e){const n=(e.topics||[]).map(f=>f==null?null:Array.isArray(f)?bA(f.map(h=>h.toLowerCase())):f.toLowerCase()),r="blockHash"in e?e.blockHash:void 0,i=(f,h,d)=>{let g;switch(f.length){case 0:break;case 1:g=f[0];break;default:f.sort(),g=f}if(r&&(h!=null||d!=null))throw new Error("invalid filter");const y={};return g&&(y.address=g),n.length&&(y.topics=n),h&&(y.fromBlock=h),d&&(y.toBlock=d),r&&(y.blockHash=r),y};let o=[];if(e.address)if(Array.isArray(e.address))for(const f of e.address)o.push(this._getAddress(f));else o.push(this._getAddress(e.address));let a;"fromBlock"in e&&(a=this._getBlockTag(e.fromBlock));let l;return"toBlock"in e&&(l=this._getBlockTag(e.toBlock)),o.filter(f=>typeof f!="string").length||a!=null&&typeof a!="string"||l!=null&&typeof l!="string"?Promise.all([Promise.all(o),a,l]).then(f=>i(f[0],f[1],f[2])):i(o,a,l)}_getTransactionRequest(e){const n=rb(e),r=[];if(["to","from"].forEach(i=>{if(n[i]==null)return;const o=rr(n[i],this);Ky(o)?r.push(async function(){n[i]=await o}()):n[i]=o}),n.blockTag!=null){const i=this._getBlockTag(n.blockTag);Ky(i)?r.push(async function(){n.blockTag=await i}()):n.blockTag=i}return r.length?async function(){return await Promise.all(r),n}():n}async getNetwork(){if(B(this,Qr)==null){const i=(async()=>{try{const o=await this._detectNetwork();return this.emit("network",o,null),o}catch(o){throw B(this,Qr)===i&&q(this,Qr,null),o}})();return q(this,Qr,i),(await i).clone()}const e=B(this,Qr),[n,r]=await Promise.all([e,this._detectNetwork()]);return n.chainId!==r.chainId&&(B(this,Ml)?(this.emit("network",r,n),B(this,Qr)===e&&q(this,Qr,Promise.resolve(r))):me(!1,`network changed: ${n.chainId} => ${r.chainId} `,"NETWORK_ERROR",{event:"changed"})),n.clone()}async getFeeData(){const e=await this.getNetwork(),n=async()=>{const{_block:i,gasPrice:o,priorityFee:a}=await Jn({_block:xe(this,He,xA).call(this,"latest",!1),gasPrice:(async()=>{try{const d=await xe(this,He,zr).call(this,{method:"getGasPrice"});return Te(d,"%response")}catch{}return null})(),priorityFee:(async()=>{try{const d=await xe(this,He,zr).call(this,{method:"getPriorityFee"});return Te(d,"%response")}catch{}return null})()});let l=null,f=null;const h=this._wrapBlock(i,e);return h&&h.baseFeePerGas&&(f=a??BigInt("1000000000"),l=h.baseFeePerGas*iW+f),new tR(o,l,f)},r=e.getPlugin("org.ethers.plugins.network.FetchUrlFeeDataPlugin");if(r){const i=new bc(r.url),o=await r.processFunc(n,this,i);return new tR(o.gasPrice,o.maxFeePerGas,o.maxPriorityFeePerGas)}return await n()}async estimateGas(e){let n=this._getTransactionRequest(e);return Ky(n)&&(n=await n),Te(await xe(this,He,zr).call(this,{method:"estimateGas",transaction:n}),"%response")}async call(e){const{tx:n,blockTag:r}=await Jn({tx:this._getTransactionRequest(e),blockTag:this._getBlockTag(e.blockTag)});return await xe(this,He,vA).call(this,xe(this,He,wA).call(this,n,r,e.enableCcipRead?0:-1))}async getBalance(e,n){return Te(await xe(this,He,Mp).call(this,{method:"getBalance"},e,n),"%response")}async getTransactionCount(e,n){return Ge(await xe(this,He,Mp).call(this,{method:"getTransactionCount"},e,n),"%response")}async getCode(e,n){return Ae(await xe(this,He,Mp).call(this,{method:"getCode"},e,n))}async getStorage(e,n,r){const i=Te(n,"position");return Ae(await xe(this,He,Mp).call(this,{method:"getStorage",position:i},e,r))}async broadcastTransaction(e){const{blockNumber:n,hash:r,network:i}=await Jn({blockNumber:this.getBlockNumber(),hash:this._perform({method:"broadcastTransaction",signedTransaction:e}),network:this.getNetwork()}),o=W0.from(e);if(o.hash!==r)throw new Error("@TODO: the returned hash did not match");return this._wrapTransactionResponse(o,i).replaceableTransaction(n)}async getBlock(e,n){const{network:r,params:i}=await Jn({network:this.getNetwork(),params:xe(this,He,xA).call(this,e,!!n)});return i==null?null:this._wrapBlock(i,r)}async getTransaction(e){const{network:n,params:r}=await Jn({network:this.getNetwork(),params:xe(this,He,zr).call(this,{method:"getTransaction",hash:e})});return r==null?null:this._wrapTransactionResponse(r,n)}async getTransactionReceipt(e){const{network:n,params:r}=await Jn({network:this.getNetwork(),params:xe(this,He,zr).call(this,{method:"getTransactionReceipt",hash:e})});if(r==null)return null;if(r.gasPrice==null&&r.effectiveGasPrice==null){const i=await xe(this,He,zr).call(this,{method:"getTransaction",hash:e});if(i==null)throw new Error("report this; could not find tx or effectiveGasPrice");r.effectiveGasPrice=i.gasPrice}return this._wrapTransactionReceipt(r,n)}async getTransactionResult(e){const{result:n}=await Jn({network:this.getNetwork(),result:xe(this,He,zr).call(this,{method:"getTransactionResult",hash:e})});return n==null?null:Ae(n)}async getLogs(e){let n=this._getFilter(e);Ky(n)&&(n=await n);const{network:r,params:i}=await Jn({network:this.getNetwork(),params:xe(this,He,zr).call(this,{method:"getLogs",filter:n})});return i.map(o=>this._wrapLog(o,r))}_getProvider(e){me(!1,"provider cannot connect to target network","UNSUPPORTED_OPERATION",{operation:"_getProvider()"})}async getResolver(e){return await sb.fromName(this,e)}async getAvatar(e){const n=await this.getResolver(e);return n?await n.getAvatar():null}async resolveName(e){const n=await this.getResolver(e);return n?await n.getAddress():null}async lookupAddress(e){e=ct(e);const n=fA(e.substring(2).toLowerCase()+".addr.reverse");try{const r=await sb.getEnsAddress(this),o=await new dc(r,["function resolver(bytes32) view returns (address)"],this).resolver(n);if(o==null||o===pg)return null;const l=await new dc(o,["function name(bytes32) view returns (string)"],this).name(n);return await this.resolveName(l)!==e?null:l}catch(r){if(Pn(r,"BAD_DATA")&&r.value==="0x"||Pn(r,"CALL_EXCEPTION"))return null;throw r}return null}async waitForTransaction(e,n,r){const i=n??1;return i===0?this.getTransactionReceipt(e):new Promise(async(o,a)=>{let l=null;const f=async h=>{try{const d=await this.getTransactionReceipt(e);if(d!=null&&h-d.blockNumber+1>=i){o(d),l&&(clearTimeout(l),l=null);return}}catch(d){console.log("EEE",d)}this.once("block",f)};r!=null&&(l=setTimeout(()=>{l!=null&&(l=null,this.off("block",f),a(Ct("timeout","TIMEOUT",{reason:"timeout"})))},r)),f(await this.getBlockNumber())})}async waitForBlock(e){me(!1,"not implemented yet","NOT_IMPLEMENTED",{operation:"waitForBlock"})}_clearTimeout(e){const n=B(this,Ei).get(e);n&&(n.timer&&clearTimeout(n.timer),B(this,Ei).delete(e))}_setTimeout(e,n){n==null&&(n=0);const r=op(this,qg)._++,i=()=>{B(this,Ei).delete(r),e()};if(this.paused)B(this,Ei).set(r,{timer:null,func:i,time:n});else{const o=setTimeout(i,n);B(this,Ei).set(r,{timer:o,func:i,time:xx()})}return r}_forEachSubscriber(e){for(const n of B(this,Hn).values())e(n.subscriber)}_getSubscriber(e){switch(e.type){case"debug":case"error":case"network":return new G5(e.type);case"block":{const n=new eW(this);return n.pollingInterval=this.pollingInterval,n}case"safe":case"finalized":return new tW(this,e.type);case"event":return new LS(this,e.filter);case"transaction":return new rW(this,e.hash);case"orphan":return new nW(this,e.filter)}throw new Error(`unsupported event: ${e.type}`)}_recoverSubscriber(e,n){for(const r of B(this,Hn).values())if(r.subscriber===e){r.started&&r.subscriber.stop(),r.subscriber=n,r.started&&n.start(),B(this,qn)!=null&&n.pause(B(this,qn));break}}async on(e,n){const r=await xe(this,He,R0).call(this,e);return r.listeners.push({listener:n,once:!1}),r.started||(r.subscriber.start(),r.started=!0,B(this,qn)!=null&&r.subscriber.pause(B(this,qn))),this}async once(e,n){const r=await xe(this,He,R0).call(this,e);return r.listeners.push({listener:n,once:!0}),r.started||(r.subscriber.start(),r.started=!0,B(this,qn)!=null&&r.subscriber.pause(B(this,qn))),this}async emit(e,...n){const r=await xe(this,He,kp).call(this,e,n);if(!r||r.listeners.length===0)return!1;const i=r.listeners.length;return r.listeners=r.listeners.filter(({listener:o,once:a})=>{const l=new o6(this,a?null:o,e);try{o.call(this,...n,l)}catch{}return!a}),r.listeners.length===0&&(r.started&&r.subscriber.stop(),B(this,Hn).delete(r.tag)),i>0}async listenerCount(e){if(e){const r=await xe(this,He,kp).call(this,e);return r?r.listeners.length:0}let n=0;for(const{listeners:r}of B(this,Hn).values())n+=r.length;return n}async listeners(e){if(e){const r=await xe(this,He,kp).call(this,e);return r?r.listeners.map(({listener:i})=>i):[]}let n=[];for(const{listeners:r}of B(this,Hn).values())n=n.concat(r.map(({listener:i})=>i));return n}async off(e,n){const r=await xe(this,He,kp).call(this,e);if(!r)return this;if(n){const i=r.listeners.map(({listener:o})=>o).indexOf(n);i>=0&&r.listeners.splice(i,1)}return(!n||r.listeners.length===0)&&(r.started&&r.subscriber.stop(),B(this,Hn).delete(r.tag)),this}async removeAllListeners(e){if(e){const{tag:n,started:r,subscriber:i}=await xe(this,He,R0).call(this,e);r&&i.stop(),B(this,Hn).delete(n)}else for(const[n,{started:r,subscriber:i}]of B(this,Hn))r&&i.stop(),B(this,Hn).delete(n);return this}async addListener(e,n){return await this.on(e,n)}async removeListener(e,n){return this.off(e,n)}get destroyed(){return B(this,Sh)}destroy(){this.removeAllListeners();for(const e of B(this,Ei).keys())this._clearTimeout(e);q(this,Sh,!0)}get paused(){return B(this,qn)!=null}set paused(e){!!e!==this.paused&&(this.paused?this.resume():this.pause(!1))}pause(e){if(q(this,Bo,-1),B(this,qn)!=null){if(B(this,qn)==!!e)return;me(!1,"cannot change pause type; resume first","UNSUPPORTED_OPERATION",{operation:"pause"})}this._forEachSubscriber(n=>n.pause(e)),q(this,qn,!!e);for(const n of B(this,Ei).values())n.timer&&clearTimeout(n.timer),n.time=xx()-n.time}resume(){if(B(this,qn)!=null){this._forEachSubscriber(e=>e.resume()),q(this,qn,null);for(const e of B(this,Ei).values()){let n=e.time;n<0&&(n=0),e.time=xx(),setTimeout(e.func,n)}}}}Hn=new WeakMap,ic=new WeakMap,qn=new WeakMap,Sh=new WeakMap,Qr=new WeakMap,Ml=new WeakMap,sc=new WeakMap,Bo=new WeakMap,qg=new WeakMap,Ei=new WeakMap,Th=new WeakMap,Ch=new WeakMap,He=new WeakSet,zr=async function(e){const n=B(this,Ch).cacheTimeout;if(n<0)return await this._perform(e);const r=N0(e.method,e);let i=B(this,sc).get(r);return i||(i=this._perform(e),B(this,sc).set(r,i),setTimeout(()=>{B(this,sc).get(r)===i&&B(this,sc).delete(r)},n)),await i},wA=async function(e,n,r){me(r<sW,"CCIP read exceeded maximum redirections","OFFCHAIN_FAULT",{reason:"TOO_MANY_REDIRECTS",transaction:Object.assign({},e,{blockTag:n,enableCcipRead:!0})});const i=rb(e);try{return Ae(await this._perform({method:"call",transaction:i,blockTag:n}))}catch(o){if(!this.disableCcipRead&&vS(o)&&o.data&&r>=0&&n==="latest"&&i.to!=null&&Mt(o.data,0,4)==="0x556f1830"){const a=o.data,l=await rr(i.to,this);let f;try{f=dW(Mt(o.data,4))}catch(g){me(!1,g.message,"OFFCHAIN_FAULT",{reason:"BAD_DATA",transaction:i,info:{data:a}})}me(f.sender.toLowerCase()===l.toLowerCase(),"CCIP Read sender mismatch","CALL_EXCEPTION",{action:"call",data:a,reason:"OffchainLookup",transaction:i,invocation:null,revert:{signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",name:"OffchainLookup",args:f.errorArgs}});const h=await this.ccipReadFetch(i,f.calldata,f.urls);me(h!=null,"CCIP Read failed to fetch data","OFFCHAIN_FAULT",{reason:"FETCH_FAILED",transaction:i,info:{data:o.data,errorArgs:f.errorArgs}});const d={to:l,data:kt([f.selector,hW([h,f.extraData])])};this.emit("debug",{action:"sendCcipReadCall",transaction:d});try{const g=await xe(this,He,wA).call(this,d,n,r+1);return this.emit("debug",{action:"receiveCcipReadCallResult",transaction:Object.assign({},d),result:g}),g}catch(g){throw this.emit("debug",{action:"receiveCcipReadCallError",transaction:Object.assign({},d),error:g}),g}}throw o}},vA=async function(e){const{value:n}=await Jn({network:this.getNetwork(),value:e});return n},Mp=async function(e,n,r){let i=this._getAddress(n),o=this._getBlockTag(r);return(typeof i!="string"||typeof o!="string")&&([i,o]=await Promise.all([i,o])),await xe(this,He,vA).call(this,xe(this,He,zr).call(this,Object.assign(e,{address:i,blockTag:o})))},xA=async function(e,n){if(Et(e,32))return await xe(this,He,zr).call(this,{method:"getBlock",blockHash:e,includeTransactions:n});let r=this._getBlockTag(e);return typeof r!="string"&&(r=await r),await xe(this,He,zr).call(this,{method:"getBlock",blockTag:r,includeTransactions:n})},kp=async function(e,n){let r=await vx(e,this);return r.type==="event"&&n&&n.length>0&&n[0].removed===!0&&(r=await vx({orphan:"drop-log",log:n[0]},this)),B(this,Hn).get(r.tag)||null},R0=async function(e){const n=await vx(e,this),r=n.tag;let i=B(this,Hn).get(r);return i||(i={subscriber:this._getSubscriber(n),tag:r,addressableMap:new WeakMap,nameMap:new Map,started:!1,listeners:[]},B(this,Hn).set(r,i)),i};function lW(t,e){try{const n=EA(t,e);if(n)return Q0(n)}catch{}return null}function EA(t,e){if(t==="0x")return null;try{const n=Ge(Mt(t,e,e+32)),r=Ge(Mt(t,n,n+32));return Mt(t,n+32,n+32+r)}catch{}return null}function lR(t){const e=an(t);if(e.length>32)throw new Error("internal; should not happen");const n=new Uint8Array(32);return n.set(e,32-e.length),n}function uW(t){if(t.length%32===0)return t;const e=new Uint8Array(Math.ceil(t.length/32)*32);return e.set(t),e}const fW=new Uint8Array([]);function hW(t){const e=[];let n=0;for(let r=0;r<t.length;r++)e.push(fW),n+=32;for(let r=0;r<t.length;r++){const i=qe(t[r]);e[r]=lR(n),e.push(lR(i.length)),e.push(uW(i)),n+=32+Math.ceil(i.length/32)*32}return kt(e)}const uR="0x0000000000000000000000000000000000000000000000000000000000000000";function dW(t){const e={sender:"",urls:[],calldata:"",selector:"",extraData:"",errorArgs:[]};me(jf(t)>=160,"insufficient OffchainLookup data","OFFCHAIN_FAULT",{reason:"insufficient OffchainLookup data"});const n=Mt(t,0,32);me(Mt(n,0,12)===Mt(uR,0,12),"corrupt OffchainLookup sender","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup sender"}),e.sender=Mt(n,12);try{const r=[],i=Ge(Mt(t,32,64)),o=Ge(Mt(t,i,i+32)),a=Mt(t,i+32);for(let l=0;l<o;l++){const f=lW(a,l*32);if(f==null)throw new Error("abort");r.push(f)}e.urls=r}catch{me(!1,"corrupt OffchainLookup urls","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup urls"})}try{const r=EA(t,64);if(r==null)throw new Error("abort");e.calldata=r}catch{me(!1,"corrupt OffchainLookup calldata","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup calldata"})}me(Mt(t,100,128)===Mt(uR,0,28),"corrupt OffchainLookup callbaackSelector","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup callbaackSelector"}),e.selector=Mt(t,96,100);try{const r=EA(t,128);if(r==null)throw new Error("abort");e.extraData=r}catch{me(!1,"corrupt OffchainLookup extraData","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup extraData"})}return e.errorArgs="sender,urls,calldata,selector,extraData".split(/,/).map(r=>e[r]),e}function Yc(t,e){if(t.provider)return t.provider;me(!1,"missing provider","UNSUPPORTED_OPERATION",{operation:e})}async function fR(t,e){let n=rb(e);if(n.to!=null&&(n.to=rr(n.to,t)),n.from!=null){const r=n.from;n.from=Promise.all([t.getAddress(),rr(r,t)]).then(([i,o])=>(J(i.toLowerCase()===o.toLowerCase(),"transaction from mismatch","tx.from",o),i))}else n.from=t.getAddress();return await Jn(n)}class pW{constructor(e){se(this,"provider");Me(this,{provider:e||null})}async getNonce(e){return Yc(this,"getTransactionCount").getTransactionCount(await this.getAddress(),e)}async populateCall(e){return await fR(this,e)}async populateTransaction(e){const n=Yc(this,"populateTransaction"),r=await fR(this,e);r.nonce==null&&(r.nonce=await this.getNonce("pending")),r.gasLimit==null&&(r.gasLimit=await this.estimateGas(r));const i=await this.provider.getNetwork();if(r.chainId!=null){const a=Te(r.chainId);J(a===i.chainId,"transaction chainId mismatch","tx.chainId",e.chainId)}else r.chainId=i.chainId;const o=r.maxFeePerGas!=null||r.maxPriorityFeePerGas!=null;if(r.gasPrice!=null&&(r.type===2||o)?J(!1,"eip-1559 transaction do not support gasPrice","tx",e):(r.type===0||r.type===1)&&o&&J(!1,"pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","tx",e),(r.type===2||r.type==null)&&r.maxFeePerGas!=null&&r.maxPriorityFeePerGas!=null)r.type=2;else if(r.type===0||r.type===1){const a=await n.getFeeData();me(a.gasPrice!=null,"network does not support gasPrice","UNSUPPORTED_OPERATION",{operation:"getGasPrice"}),r.gasPrice==null&&(r.gasPrice=a.gasPrice)}else{const a=await n.getFeeData();if(r.type==null)if(a.maxFeePerGas!=null&&a.maxPriorityFeePerGas!=null)if(r.authorizationList&&r.authorizationList.length?r.type=4:r.type=2,r.gasPrice!=null){const l=r.gasPrice;delete r.gasPrice,r.maxFeePerGas=l,r.maxPriorityFeePerGas=l}else r.maxFeePerGas==null&&(r.maxFeePerGas=a.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=a.maxPriorityFeePerGas);else a.gasPrice!=null?(me(!o,"network does not support EIP-1559","UNSUPPORTED_OPERATION",{operation:"populateTransaction"}),r.gasPrice==null&&(r.gasPrice=a.gasPrice),r.type=0):me(!1,"failed to get consistent fee data","UNSUPPORTED_OPERATION",{operation:"signer.getFeeData"});else(r.type===2||r.type===3||r.type===4)&&(r.maxFeePerGas==null&&(r.maxFeePerGas=a.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=a.maxPriorityFeePerGas))}return await Jn(r)}async populateAuthorization(e){const n=Object.assign({},e);return n.chainId==null&&(n.chainId=(await Yc(this,"getNetwork").getNetwork()).chainId),n.nonce==null&&(n.nonce=await this.getNonce()),n}async estimateGas(e){return Yc(this,"estimateGas").estimateGas(await this.populateCall(e))}async call(e){return Yc(this,"call").call(await this.populateCall(e))}async resolveName(e){return await Yc(this,"resolveName").resolveName(e)}async sendTransaction(e){const n=Yc(this,"sendTransaction"),r=await this.populateTransaction(e);delete r.from;const i=W0.from(r);return await n.broadcastTransaction(await this.signTransaction(i))}authorize(e){me(!1,"authorization not implemented for this signer","UNSUPPORTED_OPERATION",{operation:"authorize"})}}function gW(t){return JSON.parse(JSON.stringify(t))}var Zn,Ds,kl,oc,Ul,Oh,Ac,AA,SA;class K5{constructor(e){ce(this,Ac);ce(this,Zn);ce(this,Ds);ce(this,kl);ce(this,oc);ce(this,Ul);ce(this,Oh);q(this,Zn,e),q(this,Ds,null),q(this,kl,xe(this,Ac,AA).bind(this)),q(this,oc,!1),q(this,Ul,null),q(this,Oh,!1)}_subscribe(e){throw new Error("subclasses must override this")}_emitResults(e,n){throw new Error("subclasses must override this")}_recover(e){throw new Error("subclasses must override this")}start(){B(this,oc)||(q(this,oc,!0),xe(this,Ac,AA).call(this,-2))}stop(){B(this,oc)&&(q(this,oc,!1),q(this,Oh,!0),xe(this,Ac,SA).call(this),B(this,Zn).off("block",B(this,kl)))}pause(e){e&&xe(this,Ac,SA).call(this),B(this,Zn).off("block",B(this,kl))}resume(){this.start()}}Zn=new WeakMap,Ds=new WeakMap,kl=new WeakMap,oc=new WeakMap,Ul=new WeakMap,Oh=new WeakMap,Ac=new WeakSet,AA=async function(e){try{B(this,Ds)==null&&q(this,Ds,this._subscribe(B(this,Zn)));let n=null;try{n=await B(this,Ds)}catch(o){if(!Pn(o,"UNSUPPORTED_OPERATION")||o.operation!=="eth_newFilter")throw o}if(n==null){q(this,Ds,null),B(this,Zn)._recoverSubscriber(this,this._recover(B(this,Zn)));return}const r=await B(this,Zn).getNetwork();if(B(this,Ul)||q(this,Ul,r),B(this,Ul).chainId!==r.chainId)throw new Error("chaid changed");if(B(this,Oh))return;const i=await B(this,Zn).send("eth_getFilterChanges",[n]);await this._emitResults(B(this,Zn),i)}catch(n){console.log("@TODO",n)}B(this,Zn).once("block",B(this,kl))},SA=function(){const e=B(this,Ds);e&&(q(this,Ds,null),e.then(n=>{B(this,Zn).destroyed||B(this,Zn).send("eth_uninstallFilter",[n])}))};var Ll;class mW extends K5{constructor(n,r){super(n);ce(this,Ll);q(this,Ll,gW(r))}_recover(n){return new LS(n,B(this,Ll))}async _subscribe(n){return await n.send("eth_newFilter",[B(this,Ll)])}async _emitResults(n,r){for(const i of r)n.emit(B(this,Ll),n._wrapLog(i,n._network))}}Ll=new WeakMap;class yW extends K5{async _subscribe(e){return await e.send("eth_newPendingTransactionFilter",[])}async _emitResults(e,n){for(const r of n)e.emit("pending",r)}}const bW="bigint,boolean,function,number,string,symbol".split(/,/g);function _0(t){if(t==null||bW.indexOf(typeof t)>=0||typeof t.getAddress=="function")return t;if(Array.isArray(t))return t.map(_0);if(typeof t=="object")return Object.keys(t).reduce((e,n)=>(e[n]=t[n],e),{});throw new Error(`should not happen: ${t} (${typeof t})`)}function wW(t){return new Promise(e=>{setTimeout(e,t)})}function Zu(t){return t&&t.toLowerCase()}function hR(t){return t&&typeof t.pollingInterval=="number"}const Q5={polling:!1,staticNetwork:null,batchStallTime:10,batchMaxSize:1<<20,batchMaxCount:100,cacheTimeout:250,pollingInterval:4e3};class Ex extends pW{constructor(n,r){super(n);se(this,"address");r=ct(r),Me(this,{address:r})}connect(n){me(!1,"cannot reconnect JsonRpcSigner","UNSUPPORTED_OPERATION",{operation:"signer.connect"})}async getAddress(){return this.address}async populateTransaction(n){return await this.populateCall(n)}async sendUncheckedTransaction(n){const r=_0(n),i=[];if(r.from){const a=r.from;i.push((async()=>{const l=await rr(a,this.provider);J(l!=null&&l.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",n),r.from=l})())}else r.from=this.address;if(r.gasLimit==null&&i.push((async()=>{r.gasLimit=await this.provider.estimateGas({...r,from:this.address})})()),r.to!=null){const a=r.to;i.push((async()=>{r.to=await rr(a,this.provider)})())}i.length&&await Promise.all(i);const o=this.provider.getRpcTransaction(r);return this.provider.send("eth_sendTransaction",[o])}async sendTransaction(n){const r=await this.provider.getBlockNumber(),i=await this.sendUncheckedTransaction(n);return await new Promise((o,a)=>{const l=[1e3,100];let f=0;const h=async()=>{try{const d=await this.provider.getTransaction(i);if(d!=null){o(d.replaceableTransaction(r));return}}catch(d){if(Pn(d,"CANCELLED")||Pn(d,"BAD_DATA")||Pn(d,"NETWORK_ERROR")||Pn(d,"UNSUPPORTED_OPERATION")){d.info==null&&(d.info={}),d.info.sendTransactionHash=i,a(d);return}if(Pn(d,"INVALID_ARGUMENT")&&(f++,d.info==null&&(d.info={}),d.info.sendTransactionHash=i,f>10)){a(d);return}this.provider.emit("error",Ct("failed to fetch transation after sending (will try again)","UNKNOWN_ERROR",{error:d}))}this.provider._setTimeout(()=>{h()},l.pop()||4e3)};h()})}async signTransaction(n){const r=_0(n);if(r.from){const o=await rr(r.from,this.provider);J(o!=null&&o.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",n),r.from=o}else r.from=this.address;const i=this.provider.getRpcTransaction(r);return await this.provider.send("eth_signTransaction",[i])}async signMessage(n){const r=typeof n=="string"?Lo(n):n;return await this.provider.send("personal_sign",[Ae(r),this.address.toLowerCase()])}async signTypedData(n,r,i){const o=_0(i),a=await nb.resolveNames(n,r,o,async l=>{const f=await rr(l);return J(f!=null,"TypedData does not support null address","value",l),f});return await this.provider.send("eth_signTypedData_v4",[this.address.toLowerCase(),JSON.stringify(nb.getPayload(a.domain,r,a.value))])}async unlock(n){return this.provider.send("personal_unlockAccount",[this.address.toLowerCase(),n,null])}async _legacySignMessage(n){const r=typeof n=="string"?Lo(n):n;return await this.provider.send("eth_sign",[this.address.toLowerCase(),Ae(r)])}}var $l,Dh,Mo,Ps,Wi,Ai,wr,Gg,TA;class vW extends cW{constructor(n,r){super(n,r);ce(this,Gg);ce(this,$l);ce(this,Dh);ce(this,Mo);ce(this,Ps);ce(this,Wi);ce(this,Ai);ce(this,wr);q(this,Dh,1),q(this,$l,Object.assign({},Q5,r||{})),q(this,Mo,[]),q(this,Ps,null),q(this,Ai,null),q(this,wr,null);{let o=null;const a=new Promise(l=>{o=l});q(this,Wi,{promise:a,resolve:o})}const i=this._getOption("staticNetwork");typeof i=="boolean"?(J(!i||n!=="any","staticNetwork cannot be used on special network 'any'","options",r),i&&n!=null&&q(this,Ai,Us.from(n))):i&&(J(n==null||i.matches(n),"staticNetwork MUST match network object","options",r),q(this,Ai,i))}_getOption(n){return B(this,$l)[n]}get _network(){return me(B(this,Ai),"network is not available yet","NETWORK_ERROR"),B(this,Ai)}async _perform(n){if(n.method==="call"||n.method==="estimateGas"){let i=n.transaction;if(i&&i.type!=null&&Te(i.type)&&i.maxFeePerGas==null&&i.maxPriorityFeePerGas==null){const o=await this.getFeeData();o.maxFeePerGas==null&&o.maxPriorityFeePerGas==null&&(n=Object.assign({},n,{transaction:Object.assign({},i,{type:void 0})}))}}const r=this.getRpcRequest(n);return r!=null?await this.send(r.method,r.args):super._perform(n)}async _detectNetwork(){const n=this._getOption("staticNetwork");if(n)if(n===!0){if(B(this,Ai))return B(this,Ai)}else return n;return B(this,wr)?await B(this,wr):this.ready?(q(this,wr,(async()=>{try{const r=Us.from(Te(await this.send("eth_chainId",[])));return q(this,wr,null),r}catch(r){throw q(this,wr,null),r}})()),await B(this,wr)):(q(this,wr,(async()=>{const r={id:op(this,Dh)._++,method:"eth_chainId",params:[],jsonrpc:"2.0"};this.emit("debug",{action:"sendRpcPayload",payload:r});let i;try{i=(await this._send(r))[0],q(this,wr,null)}catch(o){throw q(this,wr,null),this.emit("debug",{action:"receiveRpcError",error:o}),o}if(this.emit("debug",{action:"receiveRpcResult",result:i}),"result"in i)return Us.from(Te(i.result));throw this.getRpcError(r,i)})()),await B(this,wr))}_start(){B(this,Wi)==null||B(this,Wi).resolve==null||(B(this,Wi).resolve(),q(this,Wi,null),(async()=>{for(;B(this,Ai)==null&&!this.destroyed;)try{q(this,Ai,await this._detectNetwork())}catch(n){if(this.destroyed)break;console.log("JsonRpcProvider failed to detect network and cannot start up; retry in 1s (perhaps the URL is wrong or the node is not started)"),this.emit("error",Ct("failed to bootstrap network detection","NETWORK_ERROR",{event:"initial-network-discovery",info:{error:n}})),await wW(1e3)}xe(this,Gg,TA).call(this)})())}async _waitUntilReady(){if(B(this,Wi)!=null)return await B(this,Wi).promise}_getSubscriber(n){return n.type==="pending"?new yW(this):n.type==="event"?this._getOption("polling")?new LS(this,n.filter):new mW(this,n.filter):n.type==="orphan"&&n.filter.orphan==="drop-log"?new G5("orphan"):super._getSubscriber(n)}get ready(){return B(this,Wi)==null}getRpcTransaction(n){const r={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(i=>{if(n[i]==null)return;let o=i;i==="gasLimit"&&(o="gas"),r[o]=Xi(Te(n[i],`tx.${i}`))}),["from","to","data"].forEach(i=>{n[i]!=null&&(r[i]=Ae(n[i]))}),n.accessList&&(r.accessList=iu(n.accessList)),n.blobVersionedHashes&&(r.blobVersionedHashes=n.blobVersionedHashes.map(i=>i.toLowerCase())),n.authorizationList&&(r.authorizationList=n.authorizationList.map(i=>{const o=W6(i);return{address:o.address,nonce:Xi(o.nonce),chainId:Xi(o.chainId),yParity:Xi(o.signature.yParity),r:Xi(o.signature.r),s:Xi(o.signature.s)}})),r}getRpcRequest(n){switch(n.method){case"chainId":return{method:"eth_chainId",args:[]};case"getBlockNumber":return{method:"eth_blockNumber",args:[]};case"getGasPrice":return{method:"eth_gasPrice",args:[]};case"getPriorityFee":return{method:"eth_maxPriorityFeePerGas",args:[]};case"getBalance":return{method:"eth_getBalance",args:[Zu(n.address),n.blockTag]};case"getTransactionCount":return{method:"eth_getTransactionCount",args:[Zu(n.address),n.blockTag]};case"getCode":return{method:"eth_getCode",args:[Zu(n.address),n.blockTag]};case"getStorage":return{method:"eth_getStorageAt",args:[Zu(n.address),"0x"+n.position.toString(16),n.blockTag]};case"broadcastTransaction":return{method:"eth_sendRawTransaction",args:[n.signedTransaction]};case"getBlock":if("blockTag"in n)return{method:"eth_getBlockByNumber",args:[n.blockTag,!!n.includeTransactions]};if("blockHash"in n)return{method:"eth_getBlockByHash",args:[n.blockHash,!!n.includeTransactions]};break;case"getTransaction":return{method:"eth_getTransactionByHash",args:[n.hash]};case"getTransactionReceipt":return{method:"eth_getTransactionReceipt",args:[n.hash]};case"call":return{method:"eth_call",args:[this.getRpcTransaction(n.transaction),n.blockTag]};case"estimateGas":return{method:"eth_estimateGas",args:[this.getRpcTransaction(n.transaction)]};case"getLogs":return n.filter&&n.filter.address!=null&&(Array.isArray(n.filter.address)?n.filter.address=n.filter.address.map(Zu):n.filter.address=Zu(n.filter.address)),{method:"eth_getLogs",args:[n.filter]}}return null}getRpcError(n,r){const{method:i}=n,{error:o}=r;if(i==="eth_estimateGas"&&o.message){const f=o.message;if(!f.match(/revert/i)&&f.match(/insufficient funds/i))return Ct("insufficient funds","INSUFFICIENT_FUNDS",{transaction:n.params[0],info:{payload:n,error:o}});if(f.match(/nonce/i)&&f.match(/too low/i))return Ct("nonce has already been used","NONCE_EXPIRED",{transaction:n.params[0],info:{payload:n,error:o}})}if(i==="eth_call"||i==="eth_estimateGas"){const f=CA(o),h=xg.getBuiltinCallException(i==="eth_call"?"call":"estimateGas",n.params[0],f?f.data:null);return h.info={error:o,payload:n},h}const a=JSON.stringify(EW(o));if(typeof o.message=="string"&&o.message.match(/user denied|ethers-user-denied/i))return Ct("user rejected action","ACTION_REJECTED",{action:{eth_sign:"signMessage",personal_sign:"signMessage",eth_signTypedData_v4:"signTypedData",eth_signTransaction:"signTransaction",eth_sendTransaction:"sendTransaction",eth_requestAccounts:"requestAccess",wallet_requestAccounts:"requestAccess"}[i]||"unknown",reason:"rejected",info:{payload:n,error:o}});if(i==="eth_sendRawTransaction"||i==="eth_sendTransaction"){const f=n.params[0];if(a.match(/insufficient funds|base fee exceeds gas limit/i))return Ct("insufficient funds for intrinsic transaction cost","INSUFFICIENT_FUNDS",{transaction:f,info:{error:o}});if(a.match(/nonce/i)&&a.match(/too low/i))return Ct("nonce has already been used","NONCE_EXPIRED",{transaction:f,info:{error:o}});if(a.match(/replacement transaction/i)&&a.match(/underpriced/i))return Ct("replacement fee too low","REPLACEMENT_UNDERPRICED",{transaction:f,info:{error:o}});if(a.match(/only replay-protected/i))return Ct("legacy pre-eip-155 transactions not supported","UNSUPPORTED_OPERATION",{operation:i,info:{transaction:f,info:{error:o}}})}let l=!!a.match(/the method .* does not exist/i);return l||o&&o.details&&o.details.startsWith("Unauthorized method:")&&(l=!0),l?Ct("unsupported operation","UNSUPPORTED_OPERATION",{operation:n.method,info:{error:o,payload:n}}):Ct("could not coalesce error","UNKNOWN_ERROR",{error:o,payload:n})}send(n,r){if(this.destroyed)return Promise.reject(Ct("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:n}));const i=op(this,Dh)._++,o=new Promise((a,l)=>{B(this,Mo).push({resolve:a,reject:l,payload:{method:n,params:r,id:i,jsonrpc:"2.0"}})});return xe(this,Gg,TA).call(this),o}async getSigner(n){n==null&&(n=0);const r=this.send("eth_accounts",[]);if(typeof n=="number"){const o=await r;if(n>=o.length)throw new Error("no such account");return new Ex(this,o[n])}const{accounts:i}=await Jn({network:this.getNetwork(),accounts:r});n=ct(n);for(const o of i)if(ct(o)===n)return new Ex(this,n);throw new Error("invalid account")}async listAccounts(){return(await this.send("eth_accounts",[])).map(r=>new Ex(this,r))}destroy(){B(this,Ps)&&(clearTimeout(B(this,Ps)),q(this,Ps,null));for(const{payload:n,reject:r}of B(this,Mo))r(Ct("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:n.method}));q(this,Mo,[]),super.destroy()}}$l=new WeakMap,Dh=new WeakMap,Mo=new WeakMap,Ps=new WeakMap,Wi=new WeakMap,Ai=new WeakMap,wr=new WeakMap,Gg=new WeakSet,TA=function(){if(B(this,Ps))return;const n=this._getOption("batchMaxCount")===1?0:this._getOption("batchStallTime");q(this,Ps,setTimeout(()=>{q(this,Ps,null);const r=B(this,Mo);for(q(this,Mo,[]);r.length;){const i=[r.shift()];for(;r.length&&i.length!==B(this,$l).batchMaxCount;)if(i.push(r.shift()),JSON.stringify(i.map(a=>a.payload)).length>B(this,$l).batchMaxSize){r.unshift(i.pop());break}(async()=>{const o=i.length===1?i[0].payload:i.map(a=>a.payload);this.emit("debug",{action:"sendRpcPayload",payload:o});try{const a=await this._send(o);this.emit("debug",{action:"receiveRpcResult",result:a});for(const{resolve:l,reject:f,payload:h}of i){if(this.destroyed){f(Ct("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:h.method}));continue}const d=a.filter(g=>g.id===h.id)[0];if(d==null){const g=Ct("missing response for request","BAD_DATA",{value:a,info:{payload:h}});this.emit("error",g),f(g);continue}if("error"in d){f(this.getRpcError(h,d));continue}l(d.result)}}catch(a){this.emit("debug",{action:"receiveRpcError",error:a});for(const{reject:l}of i)l(a)}})()}},n))};var ac;class xW extends vW{constructor(n,r){super(n,r);ce(this,ac);let i=this._getOption("pollingInterval");i==null&&(i=Q5.pollingInterval),q(this,ac,i)}_getSubscriber(n){const r=super._getSubscriber(n);return hR(r)&&(r.pollingInterval=B(this,ac)),r}get pollingInterval(){return B(this,ac)}set pollingInterval(n){if(!Number.isInteger(n)||n<0)throw new Error("invalid interval");q(this,ac,n),this._forEachSubscriber(r=>{hR(r)&&(r.pollingInterval=B(this,ac))})}}ac=new WeakMap;function CA(t){if(t==null)return null;if(typeof t.message=="string"&&t.message.match(/revert/i)&&Et(t.data))return{message:t.message,data:t.data};if(typeof t=="object"){for(const e in t){const n=CA(t[e]);if(n)return n}return null}if(typeof t=="string")try{return CA(JSON.parse(t))}catch{}return null}function OA(t,e){if(t!=null){if(typeof t.message=="string"&&e.push(t.message),typeof t=="object")for(const n in t)OA(t[n],e);if(typeof t=="string")try{return OA(JSON.parse(t),e)}catch{}}}function EW(t){const e=[];return OA(t,e),e}var Ph,Nh;const ul=class ul extends xW{constructor(n,r,i){const o=Object.assign({},i??{},{batchMaxCount:1});J(n&&n.request,"invalid EIP-1193 provider","ethereum",n);super(r,o);ce(this,Ph);ce(this,Nh);q(this,Nh,null),i&&i.providerInfo&&q(this,Nh,i.providerInfo),q(this,Ph,async(a,l)=>{const f={method:a,params:l};this.emit("debug",{action:"sendEip1193Request",payload:f});try{const h=await n.request(f);return this.emit("debug",{action:"receiveEip1193Result",result:h}),h}catch(h){const d=new Error(h.message);throw d.code=h.code,d.data=h.data,d.payload=f,this.emit("debug",{action:"receiveEip1193Error",error:d}),d}})}get providerInfo(){return B(this,Nh)}async send(n,r){return await this._start(),await super.send(n,r)}async _send(n){J(!Array.isArray(n),"EIP-1193 does not support batch request","payload",n);try{const r=await B(this,Ph).call(this,n.method,n.params||[]);return[{id:n.id,result:r}]}catch(r){return[{id:n.id,error:{code:r.code,data:r.data,message:r.message}}]}}getRpcError(n,r){switch(r=JSON.parse(JSON.stringify(r)),r.error.code||-1){case 4001:r.error.message=`ethers-user-denied: ${r.error.message}`;break;case 4200:r.error.message=`ethers-unsupported: ${r.error.message}`;break}return super.getRpcError(n,r)}async hasSigner(n){n==null&&(n=0);const r=await this.send("eth_accounts",[]);return typeof n=="number"?r.length>n:(n=n.toLowerCase(),r.filter(i=>i.toLowerCase()===n).length!==0)}async getSigner(n){if(n==null&&(n=0),!await this.hasSigner(n))try{await B(this,Ph).call(this,"eth_requestAccounts",[])}catch(r){const i=r.payload;throw this.getRpcError(i,{id:i.id,error:r})}return await super.getSigner(n)}static async discover(n){if(n==null&&(n={}),n.provider)return new ul(n.provider);const r=n.window?n.window:typeof window<"u"?window:null;if(r==null)return null;const i=n.anyProvider;if(i&&r.ethereum)return new ul(r.ethereum);if(!("addEventListener"in r&&"dispatchEvent"in r&&"removeEventListener"in r))return null;const o=n.timeout?n.timeout:300;return o===0?null:await new Promise((a,l)=>{let f=[];const h=y=>{f.push(y.detail),i&&d()},d=()=>{if(clearTimeout(g),f.length)if(n&&n.filter){const y=n.filter(f.map(b=>Object.assign({},b.info)));if(y==null)a(null);else if(y instanceof ul)a(y);else{let b=null;if(y.uuid&&(b=f.filter(w=>y.uuid===w.info.uuid)[0]),b){const{provider:x,info:w}=b;a(new ul(x,void 0,{providerInfo:w}))}else l(Ct("filter returned unknown info","UNSUPPORTED_OPERATION",{value:y}))}}else{const{provider:y,info:b}=f[0];a(new ul(y,void 0,{providerInfo:b}))}else a(null);r.removeEventListener("eip6963:announceProvider",h)},g=setTimeout(()=>{d()},o);r.addEventListener("eip6963:announceProvider",h),r.dispatchEvent(new Event("eip6963:requestProvider"))})}};Ph=new WeakMap,Nh=new WeakMap;let Qp=ul;const AW="modulepreload",SW=function(t){return"/"+t},dR={},Y5=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){let a=function(h){return Promise.all(h.map(d=>Promise.resolve(d).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),f=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));i=a(n.map(h=>{if(h=SW(h),h in dR)return;dR[h]=!0;const d=h.endsWith(".css"),g=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${g}`))return;const y=document.createElement("link");if(y.rel=d?"stylesheet":AW,d||(y.as="script"),y.crossOrigin="",y.href=h,f&&y.setAttribute("nonce",f),document.head.appendChild(y),d)return new Promise((b,x)=>{y.addEventListener("load",b),y.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${h}`)))})}))}function o(a){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=a,window.dispatchEvent(l),!l.defaultPrevented)throw a}return i.then(a=>{for(const l of a||[])l.status==="rejected"&&o(l.reason);return e().catch(o)})};var Qy={exports:{}},pR;function TW(){if(pR)return Qy.exports;pR=1;var t=typeof Reflect=="object"?Reflect:null,e=t&&typeof t.apply=="function"?t.apply:function(O,P,M){return Function.prototype.apply.call(O,P,M)},n;t&&typeof t.ownKeys=="function"?n=t.ownKeys:Object.getOwnPropertySymbols?n=function(O){return Object.getOwnPropertyNames(O).concat(Object.getOwnPropertySymbols(O))}:n=function(O){return Object.getOwnPropertyNames(O)};function r(R){console&&console.warn&&console.warn(R)}var i=Number.isNaN||function(O){return O!==O};function o(){o.init.call(this)}Qy.exports=o,Qy.exports.once=A,o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var a=10;function l(R){if(typeof R!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof R)}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return a},set:function(R){if(typeof R!="number"||R<0||i(R))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+R+".");a=R}}),o.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(O){if(typeof O!="number"||O<0||i(O))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+O+".");return this._maxListeners=O,this};function f(R){return R._maxListeners===void 0?o.defaultMaxListeners:R._maxListeners}o.prototype.getMaxListeners=function(){return f(this)},o.prototype.emit=function(O){for(var P=[],M=1;M<arguments.length;M++)P.push(arguments[M]);var I=O==="error",k=this._events;if(k!==void 0)I=I&&k.error===void 0;else if(!I)return!1;if(I){var z;if(P.length>0&&(z=P[0]),z instanceof Error)throw z;var V=new Error("Unhandled error."+(z?" ("+z.message+")":""));throw V.context=z,V}var G=k[O];if(G===void 0)return!1;if(typeof G=="function")e(G,this,P);else for(var Z=G.length,Y=x(G,Z),M=0;M<Z;++M)e(Y[M],this,P);return!0};function h(R,O,P,M){var I,k,z;if(l(P),k=R._events,k===void 0?(k=R._events=Object.create(null),R._eventsCount=0):(k.newListener!==void 0&&(R.emit("newListener",O,P.listener?P.listener:P),k=R._events),z=k[O]),z===void 0)z=k[O]=P,++R._eventsCount;else if(typeof z=="function"?z=k[O]=M?[P,z]:[z,P]:M?z.unshift(P):z.push(P),I=f(R),I>0&&z.length>I&&!z.warned){z.warned=!0;var V=new Error("Possible EventEmitter memory leak detected. "+z.length+" "+String(O)+" listeners added. Use emitter.setMaxListeners() to increase limit");V.name="MaxListenersExceededWarning",V.emitter=R,V.type=O,V.count=z.length,r(V)}return R}o.prototype.addListener=function(O,P){return h(this,O,P,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(O,P){return h(this,O,P,!0)};function d(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function g(R,O,P){var M={fired:!1,wrapFn:void 0,target:R,type:O,listener:P},I=d.bind(M);return I.listener=P,M.wrapFn=I,I}o.prototype.once=function(O,P){return l(P),this.on(O,g(this,O,P)),this},o.prototype.prependOnceListener=function(O,P){return l(P),this.prependListener(O,g(this,O,P)),this},o.prototype.removeListener=function(O,P){var M,I,k,z,V;if(l(P),I=this._events,I===void 0)return this;if(M=I[O],M===void 0)return this;if(M===P||M.listener===P)--this._eventsCount===0?this._events=Object.create(null):(delete I[O],I.removeListener&&this.emit("removeListener",O,M.listener||P));else if(typeof M!="function"){for(k=-1,z=M.length-1;z>=0;z--)if(M[z]===P||M[z].listener===P){V=M[z].listener,k=z;break}if(k<0)return this;k===0?M.shift():w(M,k),M.length===1&&(I[O]=M[0]),I.removeListener!==void 0&&this.emit("removeListener",O,V||P)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(O){var P,M,I;if(M=this._events,M===void 0)return this;if(M.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):M[O]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete M[O]),this;if(arguments.length===0){var k=Object.keys(M),z;for(I=0;I<k.length;++I)z=k[I],z!=="removeListener"&&this.removeAllListeners(z);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(P=M[O],typeof P=="function")this.removeListener(O,P);else if(P!==void 0)for(I=P.length-1;I>=0;I--)this.removeListener(O,P[I]);return this};function y(R,O,P){var M=R._events;if(M===void 0)return[];var I=M[O];return I===void 0?[]:typeof I=="function"?P?[I.listener||I]:[I]:P?E(I):x(I,I.length)}o.prototype.listeners=function(O){return y(this,O,!0)},o.prototype.rawListeners=function(O){return y(this,O,!1)},o.listenerCount=function(R,O){return typeof R.listenerCount=="function"?R.listenerCount(O):b.call(R,O)},o.prototype.listenerCount=b;function b(R){var O=this._events;if(O!==void 0){var P=O[R];if(typeof P=="function")return 1;if(P!==void 0)return P.length}return 0}o.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]};function x(R,O){for(var P=new Array(O),M=0;M<O;++M)P[M]=R[M];return P}function w(R,O){for(;O+1<R.length;O++)R[O]=R[O+1];R.pop()}function E(R){for(var O=new Array(R.length),P=0;P<O.length;++P)O[P]=R[P].listener||R[P];return O}function A(R,O){return new Promise(function(P,M){function I(z){R.removeListener(O,k),M(z)}function k(){typeof R.removeListener=="function"&&R.removeListener("error",I),P([].slice.call(arguments))}S(R,O,k,{once:!0}),O!=="error"&&C(R,I,{once:!0})})}function C(R,O,P){typeof R.on=="function"&&S(R,"error",O,P)}function S(R,O,P,M){if(typeof R.on=="function")M.once?R.once(O,P):R.on(O,P);else if(typeof R.addEventListener=="function")R.addEventListener(O,function I(k){M.once&&R.removeEventListener(O,I),P(k)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof R)}return Qy.exports}var ei=TW();const $S=Kg(ei);var gR=function(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))},CW=function(){function t(e,n,r){this.name=e,this.version=n,this.os=r,this.type="browser"}return t}(),OW=function(){function t(e){this.version=e,this.type="node",this.name="node",this.os=process.platform}return t}(),DW=function(){function t(e,n,r,i){this.name=e,this.version=n,this.os=r,this.bot=i,this.type="bot-device"}return t}(),PW=function(){function t(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return t}(),NW=function(){function t(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return t}(),RW=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,_W=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,mR=3,IW=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",RW]],yR=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function BW(t){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new NW:typeof navigator<"u"?kW(navigator.userAgent):LW()}function MW(t){return t!==""&&IW.reduce(function(e,n){var r=n[0],i=n[1];if(e)return e;var o=i.exec(t);return!!o&&[r,o]},!1)}function kW(t){var e=MW(t);if(!e)return null;var n=e[0],r=e[1];if(n==="searchbot")return new PW;var i=r[1]&&r[1].split(".").join("_").split("_").slice(0,3);i?i.length<mR&&(i=gR(gR([],i,!0),$W(mR-i.length),!0)):i=[];var o=i.join("."),a=UW(t),l=_W.exec(t);return l&&l[1]?new DW(n,o,a,l[1]):new CW(n,o,a)}function UW(t){for(var e=0,n=yR.length;e<n;e++){var r=yR[e],i=r[0],o=r[1],a=o.exec(t);if(a)return i}return null}function LW(){var t=typeof process<"u"&&process.version;return t?new OW(process.version.slice(1)):null}function $W(t){for(var e=[],n=0;n<t;n++)e.push("0");return e}var Ax={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var DA=function(t,e){return DA=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},DA(t,e)};function jW(t,e){DA(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var PA=function(){return PA=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},PA.apply(this,arguments)};function FW(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function zW(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var l=t.length-1;l>=0;l--)(a=t[l])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o}function VW(t,e){return function(n,r){e(n,r,t)}}function HW(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function qW(t,e,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function l(d){try{h(r.next(d))}catch(g){a(g)}}function f(d){try{h(r.throw(d))}catch(g){a(g)}}function h(d){d.done?o(d.value):i(d.value).then(l,f)}h((r=r.apply(t,e||[])).next())})}function GW(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,a;return a={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function l(h){return function(d){return f([h,d])}}function f(h){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=h[0]&2?i.return:h[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,h[1])).done)return o;switch(i=0,o&&(h=[h[0]&2,o.value]),h[0]){case 0:case 1:o=h;break;case 4:return n.label++,{value:h[1],done:!1};case 5:n.label++,i=h[1],h=[0];continue;case 7:h=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(h[0]===6||h[0]===2)){n=0;continue}if(h[0]===3&&(!o||h[1]>o[0]&&h[1]<o[3])){n.label=h[1];break}if(h[0]===6&&n.label<o[1]){n.label=o[1],o=h;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(h);break}o[2]&&n.ops.pop(),n.trys.pop();continue}h=e.call(t,n)}catch(d){h=[6,d],i=0}finally{r=o=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}}function KW(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}function QW(t,e){for(var n in t)n!=="default"&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function NA(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function W5(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(l){a={error:l}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return o}function YW(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(W5(arguments[e]));return t}function WW(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var o=arguments[e],a=0,l=o.length;a<l;a++,i++)r[i]=o[a];return r}function Sg(t){return this instanceof Sg?(this.v=t,this):new Sg(t)}function XW(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i={},a("next"),a("throw"),a("return"),i[Symbol.asyncIterator]=function(){return this},i;function a(y){r[y]&&(i[y]=function(b){return new Promise(function(x,w){o.push([y,b,x,w])>1||l(y,b)})})}function l(y,b){try{f(r[y](b))}catch(x){g(o[0][3],x)}}function f(y){y.value instanceof Sg?Promise.resolve(y.value.v).then(h,d):g(o[0][2],y)}function h(y){l("next",y)}function d(y){l("throw",y)}function g(y,b){y(b),o.shift(),o.length&&l(o[0][0],o[0][1])}}function ZW(t){var e,n;return e={},r("next"),r("throw",function(i){throw i}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(i,o){e[i]=t[i]?function(a){return(n=!n)?{value:Sg(t[i](a)),done:i==="return"}:o?o(a):a}:o}}function JW(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof NA=="function"?NA(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(a){return new Promise(function(l,f){a=t[o](a),i(l,f,a.done,a.value)})}}function i(o,a,l,f){Promise.resolve(f).then(function(h){o({value:h,done:l})},a)}}function eX(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function tX(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function nX(t){return t&&t.__esModule?t:{default:t}}function rX(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function iX(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}const sX=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return PA},__asyncDelegator:ZW,__asyncGenerator:XW,__asyncValues:JW,__await:Sg,__awaiter:qW,__classPrivateFieldGet:rX,__classPrivateFieldSet:iX,__createBinding:KW,__decorate:zW,__exportStar:QW,__extends:jW,__generator:GW,__importDefault:nX,__importStar:tX,__makeTemplateObject:eX,__metadata:HW,__param:VW,__read:W5,__rest:FW,__spread:YW,__spreadArrays:WW,__values:NA},Symbol.toStringTag,{value:"Module"})),Jb=J8(sX);var Sx={},dp={},bR;function oX(){if(bR)return dp;bR=1,Object.defineProperty(dp,"__esModule",{value:!0}),dp.delay=void 0;function t(e){return new Promise(n=>{setTimeout(()=>{n(!0)},e)})}return dp.delay=t,dp}var Wc={},Tx={},Xc={},wR;function aX(){return wR||(wR=1,Object.defineProperty(Xc,"__esModule",{value:!0}),Xc.ONE_THOUSAND=Xc.ONE_HUNDRED=void 0,Xc.ONE_HUNDRED=100,Xc.ONE_THOUSAND=1e3),Xc}var Cx={},vR;function cX(){return vR||(vR=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ONE_YEAR=t.FOUR_WEEKS=t.THREE_WEEKS=t.TWO_WEEKS=t.ONE_WEEK=t.THIRTY_DAYS=t.SEVEN_DAYS=t.FIVE_DAYS=t.THREE_DAYS=t.ONE_DAY=t.TWENTY_FOUR_HOURS=t.TWELVE_HOURS=t.SIX_HOURS=t.THREE_HOURS=t.ONE_HOUR=t.SIXTY_MINUTES=t.THIRTY_MINUTES=t.TEN_MINUTES=t.FIVE_MINUTES=t.ONE_MINUTE=t.SIXTY_SECONDS=t.THIRTY_SECONDS=t.TEN_SECONDS=t.FIVE_SECONDS=t.ONE_SECOND=void 0,t.ONE_SECOND=1,t.FIVE_SECONDS=5,t.TEN_SECONDS=10,t.THIRTY_SECONDS=30,t.SIXTY_SECONDS=60,t.ONE_MINUTE=t.SIXTY_SECONDS,t.FIVE_MINUTES=t.ONE_MINUTE*5,t.TEN_MINUTES=t.ONE_MINUTE*10,t.THIRTY_MINUTES=t.ONE_MINUTE*30,t.SIXTY_MINUTES=t.ONE_MINUTE*60,t.ONE_HOUR=t.SIXTY_MINUTES,t.THREE_HOURS=t.ONE_HOUR*3,t.SIX_HOURS=t.ONE_HOUR*6,t.TWELVE_HOURS=t.ONE_HOUR*12,t.TWENTY_FOUR_HOURS=t.ONE_HOUR*24,t.ONE_DAY=t.TWENTY_FOUR_HOURS,t.THREE_DAYS=t.ONE_DAY*3,t.FIVE_DAYS=t.ONE_DAY*5,t.SEVEN_DAYS=t.ONE_DAY*7,t.THIRTY_DAYS=t.ONE_DAY*30,t.ONE_WEEK=t.SEVEN_DAYS,t.TWO_WEEKS=t.ONE_WEEK*2,t.THREE_WEEKS=t.ONE_WEEK*3,t.FOUR_WEEKS=t.ONE_WEEK*4,t.ONE_YEAR=t.ONE_DAY*365}(Cx)),Cx}var xR;function X5(){return xR||(xR=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=Jb;e.__exportStar(aX(),t),e.__exportStar(cX(),t)}(Tx)),Tx}var ER;function lX(){if(ER)return Wc;ER=1,Object.defineProperty(Wc,"__esModule",{value:!0}),Wc.fromMiliseconds=Wc.toMiliseconds=void 0;const t=X5();function e(r){return r*t.ONE_THOUSAND}Wc.toMiliseconds=e;function n(r){return Math.floor(r/t.ONE_THOUSAND)}return Wc.fromMiliseconds=n,Wc}var AR;function uX(){return AR||(AR=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=Jb;e.__exportStar(oX(),t),e.__exportStar(lX(),t)}(Sx)),Sx}var Ju={},SR;function fX(){if(SR)return Ju;SR=1,Object.defineProperty(Ju,"__esModule",{value:!0}),Ju.Watch=void 0;class t{constructor(){this.timestamps=new Map}start(n){if(this.timestamps.has(n))throw new Error(`Watch already started for label: ${n}`);this.timestamps.set(n,{started:Date.now()})}stop(n){const r=this.get(n);if(typeof r.elapsed<"u")throw new Error(`Watch already stopped for label: ${n}`);const i=Date.now()-r.started;this.timestamps.set(n,{started:r.started,elapsed:i})}get(n){const r=this.timestamps.get(n);if(typeof r>"u")throw new Error(`No timestamp found for label: ${n}`);return r}elapsed(n){const r=this.get(n);return r.elapsed||Date.now()-r.started}}return Ju.Watch=t,Ju.default=t,Ju}var Ox={},pp={},TR;function hX(){if(TR)return pp;TR=1,Object.defineProperty(pp,"__esModule",{value:!0}),pp.IWatch=void 0;class t{}return pp.IWatch=t,pp}var CR;function dX(){return CR||(CR=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),Jb.__exportStar(hX(),t)}(Ox)),Ox}var OR;function pX(){return OR||(OR=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=Jb;e.__exportStar(uX(),t),e.__exportStar(fX(),t),e.__exportStar(dX(),t),e.__exportStar(X5(),t)}(Ax)),Ax}var we=pX(),bt={},DR;function Z5(){if(DR)return bt;DR=1,Object.defineProperty(bt,"__esModule",{value:!0}),bt.getLocalStorage=bt.getLocalStorageOrThrow=bt.getCrypto=bt.getCryptoOrThrow=bt.getLocation=bt.getLocationOrThrow=bt.getNavigator=bt.getNavigatorOrThrow=bt.getDocument=bt.getDocumentOrThrow=bt.getFromWindowOrThrow=bt.getFromWindow=void 0;function t(y){let b;return typeof window<"u"&&typeof window[y]<"u"&&(b=window[y]),b}bt.getFromWindow=t;function e(y){const b=t(y);if(!b)throw new Error(`${y} is not defined in Window`);return b}bt.getFromWindowOrThrow=e;function n(){return e("document")}bt.getDocumentOrThrow=n;function r(){return t("document")}bt.getDocument=r;function i(){return e("navigator")}bt.getNavigatorOrThrow=i;function o(){return t("navigator")}bt.getNavigator=o;function a(){return e("location")}bt.getLocationOrThrow=a;function l(){return t("location")}bt.getLocation=l;function f(){return e("crypto")}bt.getCryptoOrThrow=f;function h(){return t("crypto")}bt.getCrypto=h;function d(){return e("localStorage")}bt.getLocalStorageOrThrow=d;function g(){return t("localStorage")}return bt.getLocalStorage=g,bt}var qo=Z5(),gp={},PR;function gX(){if(PR)return gp;PR=1,Object.defineProperty(gp,"__esModule",{value:!0}),gp.getWindowMetadata=void 0;const t=Z5();function e(){let n,r;try{n=t.getDocumentOrThrow(),r=t.getLocationOrThrow()}catch{return null}function i(){const b=n.getElementsByTagName("link"),x=[];for(let w=0;w<b.length;w++){const E=b[w],A=E.getAttribute("rel");if(A&&A.toLowerCase().indexOf("icon")>-1){const C=E.getAttribute("href");if(C)if(C.toLowerCase().indexOf("https:")===-1&&C.toLowerCase().indexOf("http:")===-1&&C.indexOf("//")!==0){let S=r.protocol+"//"+r.host;if(C.indexOf("/")===0)S+=C;else{const R=r.pathname.split("/");R.pop();const O=R.join("/");S+=O+"/"+C}x.push(S)}else if(C.indexOf("//")===0){const S=r.protocol+C;x.push(S)}else x.push(C)}}return x}function o(...b){const x=n.getElementsByTagName("meta");for(let w=0;w<x.length;w++){const E=x[w],A=["itemprop","property","name"].map(C=>E.getAttribute(C)).filter(C=>C?b.includes(C):!1);if(A.length&&A){const C=E.getAttribute("content");if(C)return C}}return""}function a(){let b=o("name","og:site_name","og:title","twitter:title");return b||(b=n.title),b}function l(){return o("description","og:description","twitter:description","keywords")}const f=a(),h=l(),d=r.origin,g=i();return{description:h,url:d,icons:g,name:f}}return gp.getWindowMetadata=e,gp}var mX=gX();function Tg(t,{strict:e=!0}={}){return!t||typeof t!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(t):t.startsWith("0x")}function RA(t){return Tg(t,{strict:!1})?Math.ceil((t.length-2)/2):t.length}const J5="2.31.0";let mp={getDocsUrl:({docsBaseUrl:t,docsPath:e="",docsSlug:n})=>e?`${t??"https://viem.sh"}${e}${n?`#${n}`:""}`:void 0,version:`viem@${J5}`};class Yl extends Error{constructor(e,n={}){var l;const r=(()=>{var f;return n.cause instanceof Yl?n.cause.details:(f=n.cause)!=null&&f.message?n.cause.message:n.details})(),i=n.cause instanceof Yl&&n.cause.docsPath||n.docsPath,o=(l=mp.getDocsUrl)==null?void 0:l.call(mp,{...n,docsPath:i}),a=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...o?[`Docs: ${o}`]:[],...r?[`Details: ${r}`]:[],...mp.version?[`Version: ${mp.version}`]:[]].join(`
`);super(a,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=r,this.docsPath=i,this.metaMessages=n.metaMessages,this.name=n.name??this.name,this.shortMessage=e,this.version=J5}walk(e){return eM(this,e)}}function eM(t,e){return e!=null&&e(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause!==void 0?eM(t.cause,e):e?null:t}class tM extends Yl{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${e}) exceeds padding size (${n}).`,{name:"SizeExceedsPaddingSizeError"})}}function Xh(t,{dir:e,size:n=32}={}){return typeof t=="string"?yX(t,{dir:e,size:n}):bX(t,{dir:e,size:n})}function yX(t,{dir:e,size:n=32}={}){if(n===null)return t;const r=t.replace("0x","");if(r.length>n*2)throw new tM({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return`0x${r[e==="right"?"padEnd":"padStart"](n*2,"0")}`}function bX(t,{dir:e,size:n=32}={}){if(n===null)return t;if(t.length>n)throw new tM({size:t.length,targetSize:n,type:"bytes"});const r=new Uint8Array(n);for(let i=0;i<n;i++){const o=e==="right";r[o?i:n-i-1]=t[o?i:t.length-i-1]}return r}class wX extends Yl{constructor({max:e,min:n,signed:r,size:i,value:o}){super(`Number "${o}" is not in safe ${i?`${i*8}-bit ${r?"signed":"unsigned"} `:""}integer range ${e?`(${n} to ${e})`:`(above ${n})`}`,{name:"IntegerOutOfRangeError"})}}class vX extends Yl{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}}function Zh(t,{size:e}){if(RA(t)>e)throw new vX({givenSize:RA(t),maxSize:e})}function _A(t,e={}){const{signed:n}=e;e.size&&Zh(t,{size:e.size});const r=BigInt(t);if(!n)return r;const i=(t.length-2)/2,o=(1n<<BigInt(i)*8n-1n)-1n;return r<=o?r:r-BigInt(`0x${"f".padStart(i*2,"f")}`)-1n}function xX(t,e={}){return Number(_A(t,e))}const EX=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function IA(t,e={}){return typeof t=="number"||typeof t=="bigint"?rM(t,e):typeof t=="string"?TX(t,e):typeof t=="boolean"?AX(t,e):nM(t,e)}function AX(t,e={}){const n=`0x${Number(t)}`;return typeof e.size=="number"?(Zh(n,{size:e.size}),Xh(n,{size:e.size})):n}function nM(t,e={}){let n="";for(let i=0;i<t.length;i++)n+=EX[t[i]];const r=`0x${n}`;return typeof e.size=="number"?(Zh(r,{size:e.size}),Xh(r,{dir:"right",size:e.size})):r}function rM(t,e={}){const{signed:n,size:r}=e,i=BigInt(t);let o;r?n?o=(1n<<BigInt(r)*8n-1n)-1n:o=2n**(BigInt(r)*8n)-1n:typeof t=="number"&&(o=BigInt(Number.MAX_SAFE_INTEGER));const a=typeof o=="bigint"&&n?-o-1n:0;if(o&&i>o||i<a){const f=typeof t=="bigint"?"n":"";throw new wX({max:o?`${o}${f}`:void 0,min:`${a}${f}`,signed:n,size:r,value:`${t}${f}`})}const l=`0x${(n&&i<0?(1n<<BigInt(r*8))+BigInt(i):i).toString(16)}`;return r?Xh(l,{size:r}):l}const SX=new TextEncoder;function TX(t,e={}){const n=SX.encode(t);return nM(n,e)}const CX=new TextEncoder;function OX(t,e={}){return typeof t=="number"||typeof t=="bigint"?PX(t,e):typeof t=="boolean"?DX(t,e):Tg(t)?iM(t,e):sM(t,e)}function DX(t,e={}){const n=new Uint8Array(1);return n[0]=Number(t),typeof e.size=="number"?(Zh(n,{size:e.size}),Xh(n,{size:e.size})):n}const ho={zero:48,nine:57,A:65,F:70,a:97,f:102};function NR(t){if(t>=ho.zero&&t<=ho.nine)return t-ho.zero;if(t>=ho.A&&t<=ho.F)return t-(ho.A-10);if(t>=ho.a&&t<=ho.f)return t-(ho.a-10)}function iM(t,e={}){let n=t;e.size&&(Zh(n,{size:e.size}),n=Xh(n,{dir:"right",size:e.size}));let r=n.slice(2);r.length%2&&(r=`0${r}`);const i=r.length/2,o=new Uint8Array(i);for(let a=0,l=0;a<i;a++){const f=NR(r.charCodeAt(l++)),h=NR(r.charCodeAt(l++));if(f===void 0||h===void 0)throw new Yl(`Invalid byte sequence ("${r[l-2]}${r[l-1]}" in "${r}").`);o[a]=f*16+h}return o}function PX(t,e){const n=rM(t,e);return iM(n)}function sM(t,e={}){const n=CX.encode(t);return typeof e.size=="number"?(Zh(n,{size:e.size}),Xh(n,{dir:"right",size:e.size})):n}const Yy=BigInt(2**32-1),RR=BigInt(32);function NX(t,e=!1){return e?{h:Number(t&Yy),l:Number(t>>RR&Yy)}:{h:Number(t>>RR&Yy)|0,l:Number(t&Yy)|0}}function RX(t,e=!1){const n=t.length;let r=new Uint32Array(n),i=new Uint32Array(n);for(let o=0;o<n;o++){const{h:a,l}=NX(t[o],e);[r[o],i[o]]=[a,l]}return[r,i]}const _X=(t,e,n)=>t<<n|e>>>32-n,IX=(t,e,n)=>e<<n|t>>>32-n,BX=(t,e,n)=>e<<n-32|t>>>64-n,MX=(t,e,n)=>t<<n-32|e>>>64-n,ef=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function kX(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function ob(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function Cg(t,...e){if(!kX(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function wbe(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");ob(t.outputLen),ob(t.blockLen)}function _R(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function UX(t,e){Cg(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function LX(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function oM(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function vbe(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function xbe(t,e){return t<<32-e|t>>>e}const $X=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function jX(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function FX(t){for(let e=0;e<t.length;e++)t[e]=jX(t[e]);return t}const IR=$X?t=>t:FX;function zX(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function aM(t){return typeof t=="string"&&(t=zX(t)),Cg(t),t}function Ebe(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];Cg(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const o=t[r];n.set(o,i),i+=o.length}return n}class VX{}function HX(t){const e=r=>t().update(aM(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function Abe(t=32){if(ef&&typeof ef.getRandomValues=="function")return ef.getRandomValues(new Uint8Array(t));if(ef&&typeof ef.randomBytes=="function")return Uint8Array.from(ef.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}const qX=BigInt(0),yp=BigInt(1),GX=BigInt(2),KX=BigInt(7),QX=BigInt(256),YX=BigInt(113),cM=[],lM=[],uM=[];for(let t=0,e=yp,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],cM.push(2*(5*r+n)),lM.push((t+1)*(t+2)/2%64);let i=qX;for(let o=0;o<7;o++)e=(e<<yp^(e>>KX)*YX)%QX,e&GX&&(i^=yp<<(yp<<BigInt(o))-yp);uM.push(i)}const fM=RX(uM,!0),WX=fM[0],XX=fM[1],BR=(t,e,n)=>n>32?BX(t,e,n):_X(t,e,n),MR=(t,e,n)=>n>32?MX(t,e,n):IX(t,e,n);function ZX(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let a=0;a<10;a++)n[a]=t[a]^t[a+10]^t[a+20]^t[a+30]^t[a+40];for(let a=0;a<10;a+=2){const l=(a+8)%10,f=(a+2)%10,h=n[f],d=n[f+1],g=BR(h,d,1)^n[l],y=MR(h,d,1)^n[l+1];for(let b=0;b<50;b+=10)t[a+b]^=g,t[a+b+1]^=y}let i=t[2],o=t[3];for(let a=0;a<24;a++){const l=lM[a],f=BR(i,o,l),h=MR(i,o,l),d=cM[a];i=t[d],o=t[d+1],t[d]=f,t[d+1]=h}for(let a=0;a<50;a+=10){for(let l=0;l<10;l++)n[l]=t[a+l];for(let l=0;l<10;l++)t[a+l]^=~n[(l+2)%10]&n[(l+4)%10]}t[0]^=WX[r],t[1]^=XX[r]}oM(n)}class jS extends VX{constructor(e,n,r,i=!1,o=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=i,this.rounds=o,ob(r),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=LX(this.state)}clone(){return this._cloneInto()}keccak(){IR(this.state32),ZX(this.state32,this.rounds),IR(this.state32),this.posOut=0,this.pos=0}update(e){_R(this),e=aM(e),Cg(e);const{blockLen:n,state:r}=this,i=e.length;for(let o=0;o<i;){const a=Math.min(n-this.pos,i-o);for(let l=0;l<a;l++)r[this.pos++]^=e[o++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:i}=this;e[r]^=n,(n&128)!==0&&r===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){_R(this,!1),Cg(e),this.finish();const n=this.state,{blockLen:r}=this;for(let i=0,o=e.length;i<o;){this.posOut>=r&&this.keccak();const a=Math.min(r-this.posOut,o-i);e.set(n.subarray(this.posOut,this.posOut+a),i),this.posOut+=a,i+=a}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return ob(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(UX(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,oM(this.state)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:i,rounds:o,enableXOF:a}=this;return e||(e=new jS(n,r,i,a,o)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=o,e.suffix=r,e.outputLen=i,e.enableXOF=a,e.destroyed=this.destroyed,e}}const JX=(t,e,n)=>HX(()=>new jS(e,t,n)),eZ=JX(1,136,256/8);function hM(t,e){const n=e||"hex",r=eZ(Tg(t,{strict:!1})?OX(t):t);return n==="bytes"?r:IA(r)}class tZ extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const n=super.get(e);return super.has(e)&&n!==void 0&&(this.delete(e),super.set(e,n)),n}set(e,n){if(super.set(e,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}}const Dx=new tZ(8192);function nZ(t,e){if(Dx.has(`${t}.${e}`))return Dx.get(`${t}.${e}`);const n=t.substring(2).toLowerCase(),r=hM(sM(n),"bytes"),i=n.split("");for(let a=0;a<40;a+=2)r[a>>1]>>4>=8&&i[a]&&(i[a]=i[a].toUpperCase()),(r[a>>1]&15)>=8&&i[a+1]&&(i[a+1]=i[a+1].toUpperCase());const o=`0x${i.join("")}`;return Dx.set(`${t}.${e}`,o),o}function rZ(t){const e=hM(`0x${t.substring(4)}`).substring(26);return nZ(`0x${e}`)}async function iZ({hash:t,signature:e}){const n=Tg(t)?t:IA(t),{secp256k1:r}=await Y5(async()=>{const{secp256k1:a}=await import("./secp256k1-CHTr2iot.js");return{secp256k1:a}},[]);return`0x${(()=>{if(typeof e=="object"&&"r"in e&&"s"in e){const{r:h,s:d,v:g,yParity:y}=e,b=Number(y??g),x=kR(b);return new r.Signature(_A(h),_A(d)).addRecoveryBit(x)}const a=Tg(e)?e:IA(e);if(RA(a)!==65)throw new Error("invalid signature length");const l=xX(`0x${a.slice(130)}`),f=kR(l);return r.Signature.fromCompact(a.substring(2,130)).addRecoveryBit(f)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}function kR(t){if(t===0||t===1)return t;if(t===27)return 0;if(t===28)return 1;throw new Error("Invalid yParityOrV value")}async function sZ({hash:t,signature:e}){return rZ(await iZ({hash:t,signature:e}))}function oZ(t){if(t.length>=255)throw new TypeError("Alphabet too long");const e=new Uint8Array(256);for(let h=0;h<e.length;h++)e[h]=255;for(let h=0;h<t.length;h++){const d=t.charAt(h),g=d.charCodeAt(0);if(e[g]!==255)throw new TypeError(d+" is ambiguous");e[g]=h}const n=t.length,r=t.charAt(0),i=Math.log(n)/Math.log(256),o=Math.log(256)/Math.log(n);function a(h){if(h instanceof Uint8Array||(ArrayBuffer.isView(h)?h=new Uint8Array(h.buffer,h.byteOffset,h.byteLength):Array.isArray(h)&&(h=Uint8Array.from(h))),!(h instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(h.length===0)return"";let d=0,g=0,y=0;const b=h.length;for(;y!==b&&h[y]===0;)y++,d++;const x=(b-y)*o+1>>>0,w=new Uint8Array(x);for(;y!==b;){let C=h[y],S=0;for(let R=x-1;(C!==0||S<g)&&R!==-1;R--,S++)C+=256*w[R]>>>0,w[R]=C%n>>>0,C=C/n>>>0;if(C!==0)throw new Error("Non-zero carry");g=S,y++}let E=x-g;for(;E!==x&&w[E]===0;)E++;let A=r.repeat(d);for(;E<x;++E)A+=t.charAt(w[E]);return A}function l(h){if(typeof h!="string")throw new TypeError("Expected String");if(h.length===0)return new Uint8Array;let d=0,g=0,y=0;for(;h[d]===r;)g++,d++;const b=(h.length-d)*i+1>>>0,x=new Uint8Array(b);for(;d<h.length;){const C=h.charCodeAt(d);if(C>255)return;let S=e[C];if(S===255)return;let R=0;for(let O=b-1;(S!==0||R<y)&&O!==-1;O--,R++)S+=n*x[O]>>>0,x[O]=S%256>>>0,S=S/256>>>0;if(S!==0)throw new Error("Non-zero carry");y=R,d++}let w=b-y;for(;w!==b&&x[w]===0;)w++;const E=new Uint8Array(g+(b-w));let A=g;for(;w!==b;)E[A++]=x[w++];return E}function f(h){const d=l(h);if(d)return d;throw new Error("Non-base"+n+" character")}return{encode:a,decodeUnsafe:l,decode:f}}var aZ="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";const im=oZ(aZ);function cZ(t){const e=t.length;let n=0,r=0;for(;r<e;){let i=t.charCodeAt(r++);if((i&4294967168)===0){n++;continue}else if((i&4294965248)===0)n+=2;else{if(i>=55296&&i<=56319&&r<e){const o=t.charCodeAt(r);(o&64512)===56320&&(++r,i=((i&1023)<<10)+(o&1023)+65536)}(i&4294901760)===0?n+=3:n+=4}}return n}function lZ(t,e,n){const r=t.length;let i=n,o=0;for(;o<r;){let a=t.charCodeAt(o++);if((a&4294967168)===0){e[i++]=a;continue}else if((a&4294965248)===0)e[i++]=a>>6&31|192;else{if(a>=55296&&a<=56319&&o<r){const l=t.charCodeAt(o);(l&64512)===56320&&(++o,a=((a&1023)<<10)+(l&1023)+65536)}(a&4294901760)===0?(e[i++]=a>>12&15|224,e[i++]=a>>6&63|128):(e[i++]=a>>18&7|240,e[i++]=a>>12&63|128,e[i++]=a>>6&63|128)}e[i++]=a&63|128}}const uZ=new TextEncoder,fZ=50;function hZ(t,e,n){uZ.encodeInto(t,e.subarray(n))}function dZ(t,e,n){t.length>fZ?hZ(t,e,n):lZ(t,e,n)}const pZ=4096;function dM(t,e,n){let r=e;const i=r+n,o=[];let a="";for(;r<i;){const l=t[r++];if((l&128)===0)o.push(l);else if((l&224)===192){const f=t[r++]&63;o.push((l&31)<<6|f)}else if((l&240)===224){const f=t[r++]&63,h=t[r++]&63;o.push((l&31)<<12|f<<6|h)}else if((l&248)===240){const f=t[r++]&63,h=t[r++]&63,d=t[r++]&63;let g=(l&7)<<18|f<<12|h<<6|d;g>65535&&(g-=65536,o.push(g>>>10&1023|55296),g=56320|g&1023),o.push(g)}else o.push(l);o.length>=pZ&&(a+=String.fromCharCode(...o),o.length=0)}return o.length>0&&(a+=String.fromCharCode(...o)),a}const gZ=new TextDecoder,mZ=200;function yZ(t,e,n){const r=t.subarray(e,e+n);return gZ.decode(r)}function bZ(t,e,n){return n>mZ?yZ(t,e,n):dM(t,e,n)}class Wy{constructor(e,n){this.type=e,this.data=n}}class Yr extends Error{constructor(e){super(e);const n=Object.create(Yr.prototype);Object.setPrototypeOf(this,n),Object.defineProperty(this,"name",{configurable:!0,enumerable:!1,value:Yr.name})}}const bp=4294967295;function wZ(t,e,n){const r=n/4294967296,i=n;t.setUint32(e,r),t.setUint32(e+4,i)}function pM(t,e,n){const r=Math.floor(n/4294967296),i=n;t.setUint32(e,r),t.setUint32(e+4,i)}function gM(t,e){const n=t.getInt32(e),r=t.getUint32(e+4);return n*4294967296+r}function vZ(t,e){const n=t.getUint32(e),r=t.getUint32(e+4);return n*4294967296+r}const xZ=-1,EZ=4294967296-1,AZ=17179869184-1;function SZ({sec:t,nsec:e}){if(t>=0&&e>=0&&t<=AZ)if(e===0&&t<=EZ){const n=new Uint8Array(4);return new DataView(n.buffer).setUint32(0,t),n}else{const n=t/4294967296,r=t&4294967295,i=new Uint8Array(8),o=new DataView(i.buffer);return o.setUint32(0,e<<2|n&3),o.setUint32(4,r),i}else{const n=new Uint8Array(12),r=new DataView(n.buffer);return r.setUint32(0,e),pM(r,4,t),n}}function TZ(t){const e=t.getTime(),n=Math.floor(e/1e3),r=(e-n*1e3)*1e6,i=Math.floor(r/1e9);return{sec:n+i,nsec:r-i*1e9}}function CZ(t){if(t instanceof Date){const e=TZ(t);return SZ(e)}else return null}function OZ(t){const e=new DataView(t.buffer,t.byteOffset,t.byteLength);switch(t.byteLength){case 4:return{sec:e.getUint32(0),nsec:0};case 8:{const n=e.getUint32(0),r=e.getUint32(4),i=(n&3)*4294967296+r,o=n>>>2;return{sec:i,nsec:o}}case 12:{const n=gM(e,4),r=e.getUint32(0);return{sec:n,nsec:r}}default:throw new Yr(`Unrecognized data size for timestamp (expected 4, 8, or 12): ${t.length}`)}}function DZ(t){const e=OZ(t);return new Date(e.sec*1e3+e.nsec/1e6)}const PZ={type:xZ,encode:CZ,decode:DZ};class ab{constructor(){this.builtInEncoders=[],this.builtInDecoders=[],this.encoders=[],this.decoders=[],this.register(PZ)}register({type:e,encode:n,decode:r}){if(e>=0)this.encoders[e]=n,this.decoders[e]=r;else{const i=-1-e;this.builtInEncoders[i]=n,this.builtInDecoders[i]=r}}tryToEncode(e,n){for(let r=0;r<this.builtInEncoders.length;r++){const i=this.builtInEncoders[r];if(i!=null){const o=i(e,n);if(o!=null){const a=-1-r;return new Wy(a,o)}}}for(let r=0;r<this.encoders.length;r++){const i=this.encoders[r];if(i!=null){const o=i(e,n);if(o!=null){const a=r;return new Wy(a,o)}}}return e instanceof Wy?e:null}decode(e,n,r){const i=n<0?this.builtInDecoders[-1-n]:this.decoders[n];return i?i(e,n,r):new Wy(n,e)}}ab.defaultCodec=new ab;function NZ(t){return t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer}function BA(t){return t instanceof Uint8Array?t:ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):NZ(t)?new Uint8Array(t):Uint8Array.from(t)}const RZ=100,_Z=2048;let IZ=class mM{constructor(e){this.entered=!1,this.extensionCodec=(e==null?void 0:e.extensionCodec)??ab.defaultCodec,this.context=e==null?void 0:e.context,this.useBigInt64=(e==null?void 0:e.useBigInt64)??!1,this.maxDepth=(e==null?void 0:e.maxDepth)??RZ,this.initialBufferSize=(e==null?void 0:e.initialBufferSize)??_Z,this.sortKeys=(e==null?void 0:e.sortKeys)??!1,this.forceFloat32=(e==null?void 0:e.forceFloat32)??!1,this.ignoreUndefined=(e==null?void 0:e.ignoreUndefined)??!1,this.forceIntegerToFloat=(e==null?void 0:e.forceIntegerToFloat)??!1,this.pos=0,this.view=new DataView(new ArrayBuffer(this.initialBufferSize)),this.bytes=new Uint8Array(this.view.buffer)}clone(){return new mM({extensionCodec:this.extensionCodec,context:this.context,useBigInt64:this.useBigInt64,maxDepth:this.maxDepth,initialBufferSize:this.initialBufferSize,sortKeys:this.sortKeys,forceFloat32:this.forceFloat32,ignoreUndefined:this.ignoreUndefined,forceIntegerToFloat:this.forceIntegerToFloat})}reinitializeState(){this.pos=0}encodeSharedRef(e){if(this.entered)return this.clone().encodeSharedRef(e);try{return this.entered=!0,this.reinitializeState(),this.doEncode(e,1),this.bytes.subarray(0,this.pos)}finally{this.entered=!1}}encode(e){if(this.entered)return this.clone().encode(e);try{return this.entered=!0,this.reinitializeState(),this.doEncode(e,1),this.bytes.slice(0,this.pos)}finally{this.entered=!1}}doEncode(e,n){if(n>this.maxDepth)throw new Error(`Too deep objects in depth ${n}`);e==null?this.encodeNil():typeof e=="boolean"?this.encodeBoolean(e):typeof e=="number"?this.forceIntegerToFloat?this.encodeNumberAsFloat(e):this.encodeNumber(e):typeof e=="string"?this.encodeString(e):this.useBigInt64&&typeof e=="bigint"?this.encodeBigInt64(e):this.encodeObject(e,n)}ensureBufferSizeToWrite(e){const n=this.pos+e;this.view.byteLength<n&&this.resizeBuffer(n*2)}resizeBuffer(e){const n=new ArrayBuffer(e),r=new Uint8Array(n),i=new DataView(n);r.set(this.bytes),this.view=i,this.bytes=r}encodeNil(){this.writeU8(192)}encodeBoolean(e){e===!1?this.writeU8(194):this.writeU8(195)}encodeNumber(e){!this.forceIntegerToFloat&&Number.isSafeInteger(e)?e>=0?e<128?this.writeU8(e):e<256?(this.writeU8(204),this.writeU8(e)):e<65536?(this.writeU8(205),this.writeU16(e)):e<4294967296?(this.writeU8(206),this.writeU32(e)):this.useBigInt64?this.encodeNumberAsFloat(e):(this.writeU8(207),this.writeU64(e)):e>=-32?this.writeU8(224|e+32):e>=-128?(this.writeU8(208),this.writeI8(e)):e>=-32768?(this.writeU8(209),this.writeI16(e)):e>=-2147483648?(this.writeU8(210),this.writeI32(e)):this.useBigInt64?this.encodeNumberAsFloat(e):(this.writeU8(211),this.writeI64(e)):this.encodeNumberAsFloat(e)}encodeNumberAsFloat(e){this.forceFloat32?(this.writeU8(202),this.writeF32(e)):(this.writeU8(203),this.writeF64(e))}encodeBigInt64(e){e>=BigInt(0)?(this.writeU8(207),this.writeBigUint64(e)):(this.writeU8(211),this.writeBigInt64(e))}writeStringHeader(e){if(e<32)this.writeU8(160+e);else if(e<256)this.writeU8(217),this.writeU8(e);else if(e<65536)this.writeU8(218),this.writeU16(e);else if(e<4294967296)this.writeU8(219),this.writeU32(e);else throw new Error(`Too long string: ${e} bytes in UTF-8`)}encodeString(e){const r=cZ(e);this.ensureBufferSizeToWrite(5+r),this.writeStringHeader(r),dZ(e,this.bytes,this.pos),this.pos+=r}encodeObject(e,n){const r=this.extensionCodec.tryToEncode(e,this.context);if(r!=null)this.encodeExtension(r);else if(Array.isArray(e))this.encodeArray(e,n);else if(ArrayBuffer.isView(e))this.encodeBinary(e);else if(typeof e=="object")this.encodeMap(e,n);else throw new Error(`Unrecognized object: ${Object.prototype.toString.apply(e)}`)}encodeBinary(e){const n=e.byteLength;if(n<256)this.writeU8(196),this.writeU8(n);else if(n<65536)this.writeU8(197),this.writeU16(n);else if(n<4294967296)this.writeU8(198),this.writeU32(n);else throw new Error(`Too large binary: ${n}`);const r=BA(e);this.writeU8a(r)}encodeArray(e,n){const r=e.length;if(r<16)this.writeU8(144+r);else if(r<65536)this.writeU8(220),this.writeU16(r);else if(r<4294967296)this.writeU8(221),this.writeU32(r);else throw new Error(`Too large array: ${r}`);for(const i of e)this.doEncode(i,n+1)}countWithoutUndefined(e,n){let r=0;for(const i of n)e[i]!==void 0&&r++;return r}encodeMap(e,n){const r=Object.keys(e);this.sortKeys&&r.sort();const i=this.ignoreUndefined?this.countWithoutUndefined(e,r):r.length;if(i<16)this.writeU8(128+i);else if(i<65536)this.writeU8(222),this.writeU16(i);else if(i<4294967296)this.writeU8(223),this.writeU32(i);else throw new Error(`Too large map object: ${i}`);for(const o of r){const a=e[o];this.ignoreUndefined&&a===void 0||(this.encodeString(o),this.doEncode(a,n+1))}}encodeExtension(e){if(typeof e.data=="function"){const r=e.data(this.pos+6),i=r.length;if(i>=4294967296)throw new Error(`Too large extension object: ${i}`);this.writeU8(201),this.writeU32(i),this.writeI8(e.type),this.writeU8a(r);return}const n=e.data.length;if(n===1)this.writeU8(212);else if(n===2)this.writeU8(213);else if(n===4)this.writeU8(214);else if(n===8)this.writeU8(215);else if(n===16)this.writeU8(216);else if(n<256)this.writeU8(199),this.writeU8(n);else if(n<65536)this.writeU8(200),this.writeU16(n);else if(n<4294967296)this.writeU8(201),this.writeU32(n);else throw new Error(`Too large extension object: ${n}`);this.writeI8(e.type),this.writeU8a(e.data)}writeU8(e){this.ensureBufferSizeToWrite(1),this.view.setUint8(this.pos,e),this.pos++}writeU8a(e){const n=e.length;this.ensureBufferSizeToWrite(n),this.bytes.set(e,this.pos),this.pos+=n}writeI8(e){this.ensureBufferSizeToWrite(1),this.view.setInt8(this.pos,e),this.pos++}writeU16(e){this.ensureBufferSizeToWrite(2),this.view.setUint16(this.pos,e),this.pos+=2}writeI16(e){this.ensureBufferSizeToWrite(2),this.view.setInt16(this.pos,e),this.pos+=2}writeU32(e){this.ensureBufferSizeToWrite(4),this.view.setUint32(this.pos,e),this.pos+=4}writeI32(e){this.ensureBufferSizeToWrite(4),this.view.setInt32(this.pos,e),this.pos+=4}writeF32(e){this.ensureBufferSizeToWrite(4),this.view.setFloat32(this.pos,e),this.pos+=4}writeF64(e){this.ensureBufferSizeToWrite(8),this.view.setFloat64(this.pos,e),this.pos+=8}writeU64(e){this.ensureBufferSizeToWrite(8),wZ(this.view,this.pos,e),this.pos+=8}writeI64(e){this.ensureBufferSizeToWrite(8),pM(this.view,this.pos,e),this.pos+=8}writeBigUint64(e){this.ensureBufferSizeToWrite(8),this.view.setBigUint64(this.pos,e),this.pos+=8}writeBigInt64(e){this.ensureBufferSizeToWrite(8),this.view.setBigInt64(this.pos,e),this.pos+=8}};function BZ(t,e){return new IZ(e).encodeSharedRef(t)}function Px(t){return`${t<0?"-":""}0x${Math.abs(t).toString(16).padStart(2,"0")}`}const MZ=16,kZ=16;class UZ{constructor(e=MZ,n=kZ){this.hit=0,this.miss=0,this.maxKeyLength=e,this.maxLengthPerKey=n,this.caches=[];for(let r=0;r<this.maxKeyLength;r++)this.caches.push([])}canBeCached(e){return e>0&&e<=this.maxKeyLength}find(e,n,r){const i=this.caches[r-1];e:for(const o of i){const a=o.bytes;for(let l=0;l<r;l++)if(a[l]!==e[n+l])continue e;return o.str}return null}store(e,n){const r=this.caches[e.length-1],i={bytes:e,str:n};r.length>=this.maxLengthPerKey?r[Math.random()*r.length|0]=i:r.push(i)}decode(e,n,r){const i=this.find(e,n,r);if(i!=null)return this.hit++,i;this.miss++;const o=dM(e,n,r),a=Uint8Array.prototype.slice.call(e,n,n+r);return this.store(a,o),o}}const MA="array",Yp="map_key",yM="map_value",LZ=t=>{if(typeof t=="string"||typeof t=="number")return t;throw new Yr("The type of key must be string or number but "+typeof t)};class $Z{constructor(){this.stack=[],this.stackHeadPosition=-1}get length(){return this.stackHeadPosition+1}top(){return this.stack[this.stackHeadPosition]}pushArrayState(e){const n=this.getUninitializedStateFromPool();n.type=MA,n.position=0,n.size=e,n.array=new Array(e)}pushMapState(e){const n=this.getUninitializedStateFromPool();n.type=Yp,n.readCount=0,n.size=e,n.map={}}getUninitializedStateFromPool(){if(this.stackHeadPosition++,this.stackHeadPosition===this.stack.length){const e={type:void 0,size:0,array:void 0,position:0,readCount:0,map:void 0,key:null};this.stack.push(e)}return this.stack[this.stackHeadPosition]}release(e){if(this.stack[this.stackHeadPosition]!==e)throw new Error("Invalid stack state. Released state is not on top of the stack.");if(e.type===MA){const r=e;r.size=0,r.array=void 0,r.position=0,r.type=void 0}if(e.type===Yp||e.type===yM){const r=e;r.size=0,r.map=void 0,r.readCount=0,r.type=void 0}this.stackHeadPosition--}reset(){this.stack.length=0,this.stackHeadPosition=-1}}const wp=-1,FS=new DataView(new ArrayBuffer(0)),jZ=new Uint8Array(FS.buffer);try{FS.getInt8(0)}catch(t){if(!(t instanceof RangeError))throw new Error("This module is not supported in the current JavaScript engine because DataView does not throw RangeError on out-of-bounds access")}const UR=new RangeError("Insufficient data"),FZ=new UZ;let zZ=class bM{constructor(e){this.totalPos=0,this.pos=0,this.view=FS,this.bytes=jZ,this.headByte=wp,this.stack=new $Z,this.entered=!1,this.extensionCodec=(e==null?void 0:e.extensionCodec)??ab.defaultCodec,this.context=e==null?void 0:e.context,this.useBigInt64=(e==null?void 0:e.useBigInt64)??!1,this.rawStrings=(e==null?void 0:e.rawStrings)??!1,this.maxStrLength=(e==null?void 0:e.maxStrLength)??bp,this.maxBinLength=(e==null?void 0:e.maxBinLength)??bp,this.maxArrayLength=(e==null?void 0:e.maxArrayLength)??bp,this.maxMapLength=(e==null?void 0:e.maxMapLength)??bp,this.maxExtLength=(e==null?void 0:e.maxExtLength)??bp,this.keyDecoder=(e==null?void 0:e.keyDecoder)!==void 0?e.keyDecoder:FZ,this.mapKeyConverter=(e==null?void 0:e.mapKeyConverter)??LZ}clone(){return new bM({extensionCodec:this.extensionCodec,context:this.context,useBigInt64:this.useBigInt64,rawStrings:this.rawStrings,maxStrLength:this.maxStrLength,maxBinLength:this.maxBinLength,maxArrayLength:this.maxArrayLength,maxMapLength:this.maxMapLength,maxExtLength:this.maxExtLength,keyDecoder:this.keyDecoder})}reinitializeState(){this.totalPos=0,this.headByte=wp,this.stack.reset()}setBuffer(e){const n=BA(e);this.bytes=n,this.view=new DataView(n.buffer,n.byteOffset,n.byteLength),this.pos=0}appendBuffer(e){if(this.headByte===wp&&!this.hasRemaining(1))this.setBuffer(e);else{const n=this.bytes.subarray(this.pos),r=BA(e),i=new Uint8Array(n.length+r.length);i.set(n),i.set(r,n.length),this.setBuffer(i)}}hasRemaining(e){return this.view.byteLength-this.pos>=e}createExtraByteError(e){const{view:n,pos:r}=this;return new RangeError(`Extra ${n.byteLength-r} of ${n.byteLength} byte(s) found at buffer[${e}]`)}decode(e){if(this.entered)return this.clone().decode(e);try{this.entered=!0,this.reinitializeState(),this.setBuffer(e);const n=this.doDecodeSync();if(this.hasRemaining(1))throw this.createExtraByteError(this.pos);return n}finally{this.entered=!1}}*decodeMulti(e){if(this.entered){yield*this.clone().decodeMulti(e);return}try{for(this.entered=!0,this.reinitializeState(),this.setBuffer(e);this.hasRemaining(1);)yield this.doDecodeSync()}finally{this.entered=!1}}async decodeAsync(e){if(this.entered)return this.clone().decodeAsync(e);try{this.entered=!0;let n=!1,r;for await(const l of e){if(n)throw this.entered=!1,this.createExtraByteError(this.totalPos);this.appendBuffer(l);try{r=this.doDecodeSync(),n=!0}catch(f){if(!(f instanceof RangeError))throw f}this.totalPos+=this.pos}if(n){if(this.hasRemaining(1))throw this.createExtraByteError(this.totalPos);return r}const{headByte:i,pos:o,totalPos:a}=this;throw new RangeError(`Insufficient data in parsing ${Px(i)} at ${a} (${o} in the current buffer)`)}finally{this.entered=!1}}decodeArrayStream(e){return this.decodeMultiAsync(e,!0)}decodeStream(e){return this.decodeMultiAsync(e,!1)}async*decodeMultiAsync(e,n){if(this.entered){yield*this.clone().decodeMultiAsync(e,n);return}try{this.entered=!0;let r=n,i=-1;for await(const o of e){if(n&&i===0)throw this.createExtraByteError(this.totalPos);this.appendBuffer(o),r&&(i=this.readArraySize(),r=!1,this.complete());try{for(;yield this.doDecodeSync(),--i!==0;);}catch(a){if(!(a instanceof RangeError))throw a}this.totalPos+=this.pos}}finally{this.entered=!1}}doDecodeSync(){e:for(;;){const e=this.readHeadByte();let n;if(e>=224)n=e-256;else if(e<192)if(e<128)n=e;else if(e<144){const i=e-128;if(i!==0){this.pushMapState(i),this.complete();continue e}else n={}}else if(e<160){const i=e-144;if(i!==0){this.pushArrayState(i),this.complete();continue e}else n=[]}else{const i=e-160;n=this.decodeString(i,0)}else if(e===192)n=null;else if(e===194)n=!1;else if(e===195)n=!0;else if(e===202)n=this.readF32();else if(e===203)n=this.readF64();else if(e===204)n=this.readU8();else if(e===205)n=this.readU16();else if(e===206)n=this.readU32();else if(e===207)this.useBigInt64?n=this.readU64AsBigInt():n=this.readU64();else if(e===208)n=this.readI8();else if(e===209)n=this.readI16();else if(e===210)n=this.readI32();else if(e===211)this.useBigInt64?n=this.readI64AsBigInt():n=this.readI64();else if(e===217){const i=this.lookU8();n=this.decodeString(i,1)}else if(e===218){const i=this.lookU16();n=this.decodeString(i,2)}else if(e===219){const i=this.lookU32();n=this.decodeString(i,4)}else if(e===220){const i=this.readU16();if(i!==0){this.pushArrayState(i),this.complete();continue e}else n=[]}else if(e===221){const i=this.readU32();if(i!==0){this.pushArrayState(i),this.complete();continue e}else n=[]}else if(e===222){const i=this.readU16();if(i!==0){this.pushMapState(i),this.complete();continue e}else n={}}else if(e===223){const i=this.readU32();if(i!==0){this.pushMapState(i),this.complete();continue e}else n={}}else if(e===196){const i=this.lookU8();n=this.decodeBinary(i,1)}else if(e===197){const i=this.lookU16();n=this.decodeBinary(i,2)}else if(e===198){const i=this.lookU32();n=this.decodeBinary(i,4)}else if(e===212)n=this.decodeExtension(1,0);else if(e===213)n=this.decodeExtension(2,0);else if(e===214)n=this.decodeExtension(4,0);else if(e===215)n=this.decodeExtension(8,0);else if(e===216)n=this.decodeExtension(16,0);else if(e===199){const i=this.lookU8();n=this.decodeExtension(i,1)}else if(e===200){const i=this.lookU16();n=this.decodeExtension(i,2)}else if(e===201){const i=this.lookU32();n=this.decodeExtension(i,4)}else throw new Yr(`Unrecognized type byte: ${Px(e)}`);this.complete();const r=this.stack;for(;r.length>0;){const i=r.top();if(i.type===MA)if(i.array[i.position]=n,i.position++,i.position===i.size)n=i.array,r.release(i);else continue e;else if(i.type===Yp){if(n==="__proto__")throw new Yr("The key __proto__ is not allowed");i.key=this.mapKeyConverter(n),i.type=yM;continue e}else if(i.map[i.key]=n,i.readCount++,i.readCount===i.size)n=i.map,r.release(i);else{i.key=null,i.type=Yp;continue e}}return n}}readHeadByte(){return this.headByte===wp&&(this.headByte=this.readU8()),this.headByte}complete(){this.headByte=wp}readArraySize(){const e=this.readHeadByte();switch(e){case 220:return this.readU16();case 221:return this.readU32();default:{if(e<160)return e-144;throw new Yr(`Unrecognized array type byte: ${Px(e)}`)}}}pushMapState(e){if(e>this.maxMapLength)throw new Yr(`Max length exceeded: map length (${e}) > maxMapLengthLength (${this.maxMapLength})`);this.stack.pushMapState(e)}pushArrayState(e){if(e>this.maxArrayLength)throw new Yr(`Max length exceeded: array length (${e}) > maxArrayLength (${this.maxArrayLength})`);this.stack.pushArrayState(e)}decodeString(e,n){return!this.rawStrings||this.stateIsMapKey()?this.decodeUtf8String(e,n):this.decodeBinary(e,n)}decodeUtf8String(e,n){var o;if(e>this.maxStrLength)throw new Yr(`Max length exceeded: UTF-8 byte length (${e}) > maxStrLength (${this.maxStrLength})`);if(this.bytes.byteLength<this.pos+n+e)throw UR;const r=this.pos+n;let i;return this.stateIsMapKey()&&((o=this.keyDecoder)!=null&&o.canBeCached(e))?i=this.keyDecoder.decode(this.bytes,r,e):i=bZ(this.bytes,r,e),this.pos+=n+e,i}stateIsMapKey(){return this.stack.length>0?this.stack.top().type===Yp:!1}decodeBinary(e,n){if(e>this.maxBinLength)throw new Yr(`Max length exceeded: bin length (${e}) > maxBinLength (${this.maxBinLength})`);if(!this.hasRemaining(e+n))throw UR;const r=this.pos+n,i=this.bytes.subarray(r,r+e);return this.pos+=n+e,i}decodeExtension(e,n){if(e>this.maxExtLength)throw new Yr(`Max length exceeded: ext length (${e}) > maxExtLength (${this.maxExtLength})`);const r=this.view.getInt8(this.pos+n),i=this.decodeBinary(e,n+1);return this.extensionCodec.decode(i,r,this.context)}lookU8(){return this.view.getUint8(this.pos)}lookU16(){return this.view.getUint16(this.pos)}lookU32(){return this.view.getUint32(this.pos)}readU8(){const e=this.view.getUint8(this.pos);return this.pos++,e}readI8(){const e=this.view.getInt8(this.pos);return this.pos++,e}readU16(){const e=this.view.getUint16(this.pos);return this.pos+=2,e}readI16(){const e=this.view.getInt16(this.pos);return this.pos+=2,e}readU32(){const e=this.view.getUint32(this.pos);return this.pos+=4,e}readI32(){const e=this.view.getInt32(this.pos);return this.pos+=4,e}readU64(){const e=vZ(this.view,this.pos);return this.pos+=8,e}readI64(){const e=gM(this.view,this.pos);return this.pos+=8,e}readU64AsBigInt(){const e=this.view.getBigUint64(this.pos);return this.pos+=8,e}readI64AsBigInt(){const e=this.view.getBigInt64(this.pos);return this.pos+=8,e}readF32(){const e=this.view.getFloat32(this.pos);return this.pos+=4,e}readF64(){const e=this.view.getFloat64(this.pos);return this.pos+=8,e}};function VZ(t,e){return new zZ(e).decode(t)}/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */function HZ(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function wM(t,e){return Array.isArray(e)?e.length===0?!0:t?e.every(n=>typeof n=="string"):e.every(n=>Number.isSafeInteger(n)):!1}function cb(t,e){if(typeof e!="string")throw new Error(`${t}: string expected`);return!0}function zS(t){if(!Number.isSafeInteger(t))throw new Error(`invalid integer: ${t}`)}function kA(t){if(!Array.isArray(t))throw new Error("array expected")}function lb(t,e){if(!wM(!0,e))throw new Error(`${t}: array of strings expected`)}function qZ(t,e){if(!wM(!1,e))throw new Error(`${t}: array of numbers expected`)}function GZ(...t){const e=o=>o,n=(o,a)=>l=>o(a(l)),r=t.map(o=>o.encode).reduceRight(n,e),i=t.map(o=>o.decode).reduce(n,e);return{encode:r,decode:i}}function KZ(t){const e=typeof t=="string"?t.split(""):t,n=e.length;lb("alphabet",e);const r=new Map(e.map((i,o)=>[i,o]));return{encode:i=>(kA(i),i.map(o=>{if(!Number.isSafeInteger(o)||o<0||o>=n)throw new Error(`alphabet.encode: digit index outside alphabet "${o}". Allowed: ${t}`);return e[o]})),decode:i=>(kA(i),i.map(o=>{cb("alphabet.decode",o);const a=r.get(o);if(a===void 0)throw new Error(`Unknown letter: "${o}". Allowed: ${t}`);return a}))}}function QZ(t=""){return cb("join",t),{encode:e=>(lb("join.decode",e),e.join(t)),decode:e=>(cb("join.decode",e),e.split(t))}}function YZ(t,e="="){return zS(t),cb("padding",e),{encode(n){for(lb("padding.encode",n);n.length*t%8;)n.push(e);return n},decode(n){lb("padding.decode",n);let r=n.length;if(r*t%8)throw new Error("padding: invalid, string should have whole number of bytes");for(;r>0&&n[r-1]===e;r--)if((r-1)*t%8===0)throw new Error("padding: invalid, string has too much padding");return n.slice(0,r)}}}const vM=(t,e)=>e===0?t:vM(e,t%e),ub=(t,e)=>t+(e-vM(t,e)),Nx=(()=>{let t=[];for(let e=0;e<40;e++)t.push(2**e);return t})();function LR(t,e,n,r){if(kA(t),e<=0||e>32)throw new Error(`convertRadix2: wrong from=${e}`);if(n<=0||n>32)throw new Error(`convertRadix2: wrong to=${n}`);if(ub(e,n)>32)throw new Error(`convertRadix2: carry overflow from=${e} to=${n} carryBits=${ub(e,n)}`);let i=0,o=0;const a=Nx[e],l=Nx[n]-1,f=[];for(const h of t){if(zS(h),h>=a)throw new Error(`convertRadix2: invalid data word=${h} from=${e}`);if(i=i<<e|h,o+e>32)throw new Error(`convertRadix2: carry overflow pos=${o} from=${e}`);for(o+=e;o>=n;o-=n)f.push((i>>o-n&l)>>>0);const d=Nx[o];if(d===void 0)throw new Error("invalid carry");i&=d-1}if(i=i<<n-o&l,!r&&o>=e)throw new Error("Excess padding");if(!r&&i>0)throw new Error(`Non-zero padding: ${i}`);return r&&o>0&&f.push(i>>>0),f}function WZ(t,e=!1){if(zS(t),t<=0||t>32)throw new Error("radix2: bits should be in (0..32]");if(ub(8,t)>32||ub(t,8)>32)throw new Error("radix2: carry overflow");return{encode:n=>{if(!HZ(n))throw new Error("radix2.encode input should be Uint8Array");return LR(Array.from(n),8,t,!e)},decode:n=>(qZ("radix2.decode",n),Uint8Array.from(LR(n,t,8,e)))}}const XZ=GZ(WZ(5),KZ("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),YZ(5),QZ("")),ZZ=t=>JSON.stringify(t,(e,n)=>typeof n=="bigint"?n.toString()+"n":n),JZ=t=>{const e=/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,n=t.replace(e,'$1"$2n"$3');return JSON.parse(n,(r,i)=>typeof i=="string"&&i.match(/^\d+n$/)?BigInt(i.substring(0,i.length-1)):i)};function Wl(t){if(typeof t!="string")throw new Error(`Cannot safe json parse value of type ${typeof t}`);try{return JZ(t)}catch{return t}}function Go(t){return typeof t=="string"?t:ZZ(t)||""}function eJ(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function xM(t,...e){if(!eJ(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function $R(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function tJ(t,e){xM(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}const tf=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Rx=t=>new DataView(t.buffer,t.byteOffset,t.byteLength);function nJ(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}function EM(t){return typeof t=="string"&&(t=nJ(t)),xM(t),t}let rJ=class{clone(){return this._cloneInto()}};function iJ(t){const e=r=>t().update(EM(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function AM(t=32){if(tf&&typeof tf.getRandomValues=="function")return tf.getRandomValues(new Uint8Array(t));if(tf&&typeof tf.randomBytes=="function")return tf.randomBytes(t);throw new Error("crypto.getRandomValues must be defined")}function sJ(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),o=BigInt(4294967295),a=Number(n>>i&o),l=Number(n&o),f=r?4:0,h=r?0:4;t.setUint32(e+f,a,r),t.setUint32(e+h,l,r)}let oJ=class extends rJ{constructor(e,n,r,i){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=Rx(this.buffer)}update(e){$R(this);const{view:n,buffer:r,blockLen:i}=this;e=EM(e);const o=e.length;for(let a=0;a<o;){const l=Math.min(i-this.pos,o-a);if(l===i){const f=Rx(e);for(;i<=o-a;a+=i)this.process(f,a);continue}r.set(e.subarray(a,a+l),this.pos),this.pos+=l,a+=l,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){$R(this),tJ(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:o}=this;let{pos:a}=this;n[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>i-a&&(this.process(r,0),a=0);for(let g=a;g<i;g++)n[g]=0;sJ(r,i-8,BigInt(this.length*8),o),this.process(r,0);const l=Rx(e),f=this.outputLen;if(f%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const h=f/4,d=this.get();if(h>d.length)throw new Error("_sha2: outputLen bigger than state");for(let g=0;g<h;g++)l.setUint32(4*g,d[g],o)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:o,destroyed:a,pos:l}=this;return e.length=i,e.pos=l,e.finished=o,e.destroyed=a,i%n&&e.buffer.set(r),e}};const Xy=BigInt(2**32-1),UA=BigInt(32);function SM(t,e=!1){return e?{h:Number(t&Xy),l:Number(t>>UA&Xy)}:{h:Number(t>>UA&Xy)|0,l:Number(t&Xy)|0}}function aJ(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:o,l:a}=SM(t[i],e);[n[i],r[i]]=[o,a]}return[n,r]}const cJ=(t,e)=>BigInt(t>>>0)<<UA|BigInt(e>>>0),lJ=(t,e,n)=>t>>>n,uJ=(t,e,n)=>t<<32-n|e>>>n,fJ=(t,e,n)=>t>>>n|e<<32-n,hJ=(t,e,n)=>t<<32-n|e>>>n,dJ=(t,e,n)=>t<<64-n|e>>>n-32,pJ=(t,e,n)=>t>>>n-32|e<<64-n,gJ=(t,e)=>e,mJ=(t,e)=>t,yJ=(t,e,n)=>t<<n|e>>>32-n,bJ=(t,e,n)=>e<<n|t>>>32-n,wJ=(t,e,n)=>e<<n-32|t>>>64-n,vJ=(t,e,n)=>t<<n-32|e>>>64-n;function xJ(t,e,n,r){const i=(e>>>0)+(r>>>0);return{h:t+n+(i/2**32|0)|0,l:i|0}}const EJ=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),AJ=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,SJ=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),TJ=(t,e,n,r,i)=>e+n+r+i+(t/2**32|0)|0,CJ=(t,e,n,r,i)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(i>>>0),OJ=(t,e,n,r,i,o)=>e+n+r+i+o+(t/2**32|0)|0,je={fromBig:SM,split:aJ,toBig:cJ,shrSH:lJ,shrSL:uJ,rotrSH:fJ,rotrSL:hJ,rotrBH:dJ,rotrBL:pJ,rotr32H:gJ,rotr32L:mJ,rotlSH:yJ,rotlSL:bJ,rotlBH:wJ,rotlBL:vJ,add:xJ,add3L:EJ,add3H:AJ,add4L:SJ,add4H:TJ,add5H:OJ,add5L:CJ},[DJ,PJ]=je.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),Oa=new Uint32Array(80),Da=new Uint32Array(80);let NJ=class extends oJ{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:n,Bh:r,Bl:i,Ch:o,Cl:a,Dh:l,Dl:f,Eh:h,El:d,Fh:g,Fl:y,Gh:b,Gl:x,Hh:w,Hl:E}=this;return[e,n,r,i,o,a,l,f,h,d,g,y,b,x,w,E]}set(e,n,r,i,o,a,l,f,h,d,g,y,b,x,w,E){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=i|0,this.Ch=o|0,this.Cl=a|0,this.Dh=l|0,this.Dl=f|0,this.Eh=h|0,this.El=d|0,this.Fh=g|0,this.Fl=y|0,this.Gh=b|0,this.Gl=x|0,this.Hh=w|0,this.Hl=E|0}process(e,n){for(let S=0;S<16;S++,n+=4)Oa[S]=e.getUint32(n),Da[S]=e.getUint32(n+=4);for(let S=16;S<80;S++){const R=Oa[S-15]|0,O=Da[S-15]|0,P=je.rotrSH(R,O,1)^je.rotrSH(R,O,8)^je.shrSH(R,O,7),M=je.rotrSL(R,O,1)^je.rotrSL(R,O,8)^je.shrSL(R,O,7),I=Oa[S-2]|0,k=Da[S-2]|0,z=je.rotrSH(I,k,19)^je.rotrBH(I,k,61)^je.shrSH(I,k,6),V=je.rotrSL(I,k,19)^je.rotrBL(I,k,61)^je.shrSL(I,k,6),G=je.add4L(M,V,Da[S-7],Da[S-16]),Z=je.add4H(G,P,z,Oa[S-7],Oa[S-16]);Oa[S]=Z|0,Da[S]=G|0}let{Ah:r,Al:i,Bh:o,Bl:a,Ch:l,Cl:f,Dh:h,Dl:d,Eh:g,El:y,Fh:b,Fl:x,Gh:w,Gl:E,Hh:A,Hl:C}=this;for(let S=0;S<80;S++){const R=je.rotrSH(g,y,14)^je.rotrSH(g,y,18)^je.rotrBH(g,y,41),O=je.rotrSL(g,y,14)^je.rotrSL(g,y,18)^je.rotrBL(g,y,41),P=g&b^~g&w,M=y&x^~y&E,I=je.add5L(C,O,M,PJ[S],Da[S]),k=je.add5H(I,A,R,P,DJ[S],Oa[S]),z=I|0,V=je.rotrSH(r,i,28)^je.rotrBH(r,i,34)^je.rotrBH(r,i,39),G=je.rotrSL(r,i,28)^je.rotrBL(r,i,34)^je.rotrBL(r,i,39),Z=r&o^r&l^o&l,Y=i&a^i&f^a&f;A=w|0,C=E|0,w=b|0,E=x|0,b=g|0,x=y|0,{h:g,l:y}=je.add(h|0,d|0,k|0,z|0),h=l|0,d=f|0,l=o|0,f=a|0,o=r|0,a=i|0;const D=je.add3L(z,G,Y);r=je.add3H(D,k,V,Z),i=D|0}({h:r,l:i}=je.add(this.Ah|0,this.Al|0,r|0,i|0)),{h:o,l:a}=je.add(this.Bh|0,this.Bl|0,o|0,a|0),{h:l,l:f}=je.add(this.Ch|0,this.Cl|0,l|0,f|0),{h,l:d}=je.add(this.Dh|0,this.Dl|0,h|0,d|0),{h:g,l:y}=je.add(this.Eh|0,this.El|0,g|0,y|0),{h:b,l:x}=je.add(this.Fh|0,this.Fl|0,b|0,x|0),{h:w,l:E}=je.add(this.Gh|0,this.Gl|0,w|0,E|0),{h:A,l:C}=je.add(this.Hh|0,this.Hl|0,A|0,C|0),this.set(r,i,o,a,l,f,h,d,g,y,b,x,w,E,A,C)}roundClean(){Oa.fill(0),Da.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};const RJ=iJ(()=>new NJ);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const VS=BigInt(0),TM=BigInt(1),_J=BigInt(2);function HS(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function qS(t){if(!HS(t))throw new Error("Uint8Array expected")}function _x(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}const IJ=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function GS(t){qS(t);let e="";for(let n=0;n<t.length;n++)e+=IJ[t[n]];return e}function CM(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?VS:BigInt("0x"+t)}const po={_0:48,_9:57,A:65,F:70,a:97,f:102};function jR(t){if(t>=po._0&&t<=po._9)return t-po._0;if(t>=po.A&&t<=po.F)return t-(po.A-10);if(t>=po.a&&t<=po.f)return t-(po.a-10)}function OM(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let i=0,o=0;i<n;i++,o+=2){const a=jR(t.charCodeAt(o)),l=jR(t.charCodeAt(o+1));if(a===void 0||l===void 0){const f=t[o]+t[o+1];throw new Error('hex string expected, got non-hex character "'+f+'" at index '+o)}r[i]=a*16+l}return r}function BJ(t){return CM(GS(t))}function I0(t){return qS(t),CM(GS(Uint8Array.from(t).reverse()))}function DM(t,e){return OM(t.toString(16).padStart(e*2,"0"))}function LA(t,e){return DM(t,e).reverse()}function go(t,e,n){let r;if(typeof e=="string")try{r=OM(e)}catch(o){throw new Error(t+" must be hex string or Uint8Array, cause: "+o)}else if(HS(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(t+" of length "+n+" expected, got "+i);return r}function FR(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];qS(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const o=t[r];n.set(o,i),i+=o.length}return n}const Ix=t=>typeof t=="bigint"&&VS<=t;function MJ(t,e,n){return Ix(t)&&Ix(e)&&Ix(n)&&e<=t&&t<n}function vp(t,e,n,r){if(!MJ(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function kJ(t){let e;for(e=0;t>VS;t>>=TM,e+=1);return e}const UJ=t=>(_J<<BigInt(t-1))-TM,LJ={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||HS(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function KS(t,e,n={}){const r=(i,o,a)=>{const l=LJ[o];if(typeof l!="function")throw new Error("invalid validator function");const f=t[i];if(!(a&&f===void 0)&&!l(f,t))throw new Error("param "+String(i)+" is invalid. Expected "+o+", got "+f)};for(const[i,o]of Object.entries(e))r(i,o,!1);for(const[i,o]of Object.entries(n))r(i,o,!0);return t}function zR(t){const e=new WeakMap;return(n,...r)=>{const i=e.get(n);if(i!==void 0)return i;const o=t(n,...r);return e.set(n,o),o}}const bn=BigInt(0),qt=BigInt(1),sl=BigInt(2),$J=BigInt(3),$A=BigInt(4),VR=BigInt(5),HR=BigInt(8);function sn(t,e){const n=t%e;return n>=bn?n:e+n}function jJ(t,e,n){if(e<bn)throw new Error("invalid exponent, negatives unsupported");if(n<=bn)throw new Error("invalid modulus");if(n===qt)return bn;let r=qt;for(;e>bn;)e&qt&&(r=r*t%n),t=t*t%n,e>>=qt;return r}function ds(t,e,n){let r=t;for(;e-- >bn;)r*=r,r%=n;return r}function qR(t,e){if(t===bn)throw new Error("invert: expected non-zero number");if(e<=bn)throw new Error("invert: expected positive modulus, got "+e);let n=sn(t,e),r=e,i=bn,o=qt;for(;n!==bn;){const a=r/n,l=r%n,f=i-o*a;r=n,n=l,i=o,o=f}if(r!==qt)throw new Error("invert: does not exist");return sn(i,e)}function FJ(t){const e=(t-qt)/sl;let n,r,i;for(n=t-qt,r=0;n%sl===bn;n/=sl,r++);for(i=sl;i<t&&jJ(i,e,t)!==t-qt;i++)if(i>1e3)throw new Error("Cannot find square root: likely non-prime P");if(r===1){const a=(t+qt)/$A;return function(l,f){const h=l.pow(f,a);if(!l.eql(l.sqr(h),f))throw new Error("Cannot find square root");return h}}const o=(n+qt)/sl;return function(a,l){if(a.pow(l,e)===a.neg(a.ONE))throw new Error("Cannot find square root");let f=r,h=a.pow(a.mul(a.ONE,i),n),d=a.pow(l,o),g=a.pow(l,n);for(;!a.eql(g,a.ONE);){if(a.eql(g,a.ZERO))return a.ZERO;let y=1;for(let x=a.sqr(g);y<f&&!a.eql(x,a.ONE);y++)x=a.sqr(x);const b=a.pow(h,qt<<BigInt(f-y-1));h=a.sqr(b),d=a.mul(d,b),g=a.mul(g,h),f=y}return d}}function zJ(t){if(t%$A===$J){const e=(t+qt)/$A;return function(n,r){const i=n.pow(r,e);if(!n.eql(n.sqr(i),r))throw new Error("Cannot find square root");return i}}if(t%HR===VR){const e=(t-VR)/HR;return function(n,r){const i=n.mul(r,sl),o=n.pow(i,e),a=n.mul(r,o),l=n.mul(n.mul(a,sl),o),f=n.mul(a,n.sub(l,n.ONE));if(!n.eql(n.sqr(f),r))throw new Error("Cannot find square root");return f}}return FJ(t)}const VJ=(t,e)=>(sn(t,e)&qt)===qt,HJ=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function qJ(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=HJ.reduce((r,i)=>(r[i]="function",r),e);return KS(t,n)}function GJ(t,e,n){if(n<bn)throw new Error("invalid exponent, negatives unsupported");if(n===bn)return t.ONE;if(n===qt)return e;let r=t.ONE,i=e;for(;n>bn;)n&qt&&(r=t.mul(r,i)),i=t.sqr(i),n>>=qt;return r}function KJ(t,e){const n=new Array(e.length),r=e.reduce((o,a,l)=>t.is0(a)?o:(n[l]=o,t.mul(o,a)),t.ONE),i=t.inv(r);return e.reduceRight((o,a,l)=>t.is0(a)?o:(n[l]=t.mul(o,n[l]),t.mul(o,a)),i),n}function PM(t,e){const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function NM(t,e,n=!1,r={}){if(t<=bn)throw new Error("invalid field: expected ORDER > 0, got "+t);const{nBitLength:i,nByteLength:o}=PM(t,e);if(o>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let a;const l=Object.freeze({ORDER:t,isLE:n,BITS:i,BYTES:o,MASK:UJ(i),ZERO:bn,ONE:qt,create:f=>sn(f,t),isValid:f=>{if(typeof f!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof f);return bn<=f&&f<t},is0:f=>f===bn,isOdd:f=>(f&qt)===qt,neg:f=>sn(-f,t),eql:(f,h)=>f===h,sqr:f=>sn(f*f,t),add:(f,h)=>sn(f+h,t),sub:(f,h)=>sn(f-h,t),mul:(f,h)=>sn(f*h,t),pow:(f,h)=>GJ(l,f,h),div:(f,h)=>sn(f*qR(h,t),t),sqrN:f=>f*f,addN:(f,h)=>f+h,subN:(f,h)=>f-h,mulN:(f,h)=>f*h,inv:f=>qR(f,t),sqrt:r.sqrt||(f=>(a||(a=zJ(t)),a(l,f))),invertBatch:f=>KJ(l,f),cmov:(f,h,d)=>d?h:f,toBytes:f=>n?LA(f,o):DM(f,o),fromBytes:f=>{if(f.length!==o)throw new Error("Field.fromBytes: expected "+o+" bytes, got "+f.length);return n?I0(f):BJ(f)}});return Object.freeze(l)}const GR=BigInt(0),Zy=BigInt(1);function Bx(t,e){const n=e.negate();return t?n:e}function RM(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function Mx(t,e){RM(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1);return{windows:n,windowSize:r}}function QJ(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function YJ(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const kx=new WeakMap,_M=new WeakMap;function Ux(t){return _M.get(t)||1}function WJ(t,e){return{constTimeNegate:Bx,hasPrecomputes(n){return Ux(n)!==1},unsafeLadder(n,r,i=t.ZERO){let o=n;for(;r>GR;)r&Zy&&(i=i.add(o)),o=o.double(),r>>=Zy;return i},precomputeWindow(n,r){const{windows:i,windowSize:o}=Mx(r,e),a=[];let l=n,f=l;for(let h=0;h<i;h++){f=l,a.push(f);for(let d=1;d<o;d++)f=f.add(l),a.push(f);l=f.double()}return a},wNAF(n,r,i){const{windows:o,windowSize:a}=Mx(n,e);let l=t.ZERO,f=t.BASE;const h=BigInt(2**n-1),d=2**n,g=BigInt(n);for(let y=0;y<o;y++){const b=y*a;let x=Number(i&h);i>>=g,x>a&&(x-=d,i+=Zy);const w=b,E=b+Math.abs(x)-1,A=y%2!==0,C=x<0;x===0?f=f.add(Bx(A,r[w])):l=l.add(Bx(C,r[E]))}return{p:l,f}},wNAFUnsafe(n,r,i,o=t.ZERO){const{windows:a,windowSize:l}=Mx(n,e),f=BigInt(2**n-1),h=2**n,d=BigInt(n);for(let g=0;g<a;g++){const y=g*l;if(i===GR)break;let b=Number(i&f);if(i>>=d,b>l&&(b-=h,i+=Zy),b===0)continue;let x=r[y+Math.abs(b)-1];b<0&&(x=x.negate()),o=o.add(x)}return o},getPrecomputes(n,r,i){let o=kx.get(r);return o||(o=this.precomputeWindow(r,n),n!==1&&kx.set(r,i(o))),o},wNAFCached(n,r,i){const o=Ux(n);return this.wNAF(o,this.getPrecomputes(o,n,i),r)},wNAFCachedUnsafe(n,r,i,o){const a=Ux(n);return a===1?this.unsafeLadder(n,r,o):this.wNAFUnsafe(a,this.getPrecomputes(a,n,i),r,o)},setWindowSize(n,r){RM(r,e),_M.set(n,r),kx.delete(n)}}}function XJ(t,e,n,r){if(QJ(n,t),YJ(r,e),n.length!==r.length)throw new Error("arrays of points and scalars must have equal length");const i=t.ZERO,o=kJ(BigInt(n.length)),a=o>12?o-3:o>4?o-2:o?2:1,l=(1<<a)-1,f=new Array(l+1).fill(i),h=Math.floor((e.BITS-1)/a)*a;let d=i;for(let g=h;g>=0;g-=a){f.fill(i);for(let b=0;b<r.length;b++){const x=r[b],w=Number(x>>BigInt(g)&BigInt(l));f[w]=f[w].add(n[b])}let y=i;for(let b=f.length-1,x=i;b>0;b--)x=x.add(f[b]),y=y.add(x);if(d=d.add(y),g!==0)for(let b=0;b<a;b++)d=d.double()}return d}function ZJ(t){return qJ(t.Fp),KS(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...PM(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}const Li=BigInt(0),pr=BigInt(1),Jy=BigInt(2),JJ=BigInt(8),eee={zip215:!0};function tee(t){const e=ZJ(t);return KS(t,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function nee(t){const e=tee(t),{Fp:n,n:r,prehash:i,hash:o,randomBytes:a,nByteLength:l,h:f}=e,h=Jy<<BigInt(l*8)-pr,d=n.create,g=NM(e.n,e.nBitLength),y=e.uvRatio||((D,T)=>{try{return{isValid:!0,value:n.sqrt(D*n.inv(T))}}catch{return{isValid:!1,value:Li}}}),b=e.adjustScalarBytes||(D=>D),x=e.domain||((D,T,U)=>{if(_x("phflag",U),T.length||U)throw new Error("Contexts/pre-hash are not supported");return D});function w(D,T){vp("coordinate "+D,T,Li,h)}function E(D){if(!(D instanceof S))throw new Error("ExtendedPoint expected")}const A=zR((D,T)=>{const{ex:U,ey:$,ez:H}=D,_=D.is0();T==null&&(T=_?JJ:n.inv(H));const K=d(U*T),te=d($*T),X=d(H*T);if(_)return{x:Li,y:pr};if(X!==pr)throw new Error("invZ was invalid");return{x:K,y:te}}),C=zR(D=>{const{a:T,d:U}=e;if(D.is0())throw new Error("bad point: ZERO");const{ex:$,ey:H,ez:_,et:K}=D,te=d($*$),X=d(H*H),ne=d(_*_),fe=d(ne*ne),ue=d(te*T),he=d(ne*d(ue+X)),ye=d(fe+d(U*d(te*X)));if(he!==ye)throw new Error("bad point: equation left != right (1)");const ve=d($*H),Ce=d(_*K);if(ve!==Ce)throw new Error("bad point: equation left != right (2)");return!0});class S{constructor(T,U,$,H){this.ex=T,this.ey=U,this.ez=$,this.et=H,w("x",T),w("y",U),w("z",$),w("t",H),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(T){if(T instanceof S)throw new Error("extended point not allowed");const{x:U,y:$}=T||{};return w("x",U),w("y",$),new S(U,$,pr,d(U*$))}static normalizeZ(T){const U=n.invertBatch(T.map($=>$.ez));return T.map(($,H)=>$.toAffine(U[H])).map(S.fromAffine)}static msm(T,U){return XJ(S,g,T,U)}_setWindowSize(T){P.setWindowSize(this,T)}assertValidity(){C(this)}equals(T){E(T);const{ex:U,ey:$,ez:H}=this,{ex:_,ey:K,ez:te}=T,X=d(U*te),ne=d(_*H),fe=d($*te),ue=d(K*H);return X===ne&&fe===ue}is0(){return this.equals(S.ZERO)}negate(){return new S(d(-this.ex),this.ey,this.ez,d(-this.et))}double(){const{a:T}=e,{ex:U,ey:$,ez:H}=this,_=d(U*U),K=d($*$),te=d(Jy*d(H*H)),X=d(T*_),ne=U+$,fe=d(d(ne*ne)-_-K),ue=X+K,he=ue-te,ye=X-K,ve=d(fe*he),Ce=d(ue*ye),Ne=d(fe*ye),_e=d(he*ue);return new S(ve,Ce,_e,Ne)}add(T){E(T);const{a:U,d:$}=e,{ex:H,ey:_,ez:K,et:te}=this,{ex:X,ey:ne,ez:fe,et:ue}=T;if(U===BigInt(-1)){const ss=d((_-H)*(ne+X)),cd=d((_+H)*(ne-X)),Xo=d(cd-ss);if(Xo===Li)return this.double();const mm=d(K*Jy*ue),ld=d(te*Jy*fe),ym=ld+mm,bm=cd+ss,Zo=ld-mm,Yn=d(ym*Xo),os=d(bm*Zo),Wn=d(ym*Zo),Sw=d(Xo*bm);return new S(Yn,os,Sw,Wn)}const he=d(H*X),ye=d(_*ne),ve=d(te*$*ue),Ce=d(K*fe),Ne=d((H+_)*(X+ne)-he-ye),_e=Ce-ve,Je=Ce+ve,ht=d(ye-U*he),cr=d(Ne*_e),ti=d(Je*ht),cn=d(Ne*ht),ad=d(_e*Je);return new S(cr,ti,ad,cn)}subtract(T){return this.add(T.negate())}wNAF(T){return P.wNAFCached(this,T,S.normalizeZ)}multiply(T){const U=T;vp("scalar",U,pr,r);const{p:$,f:H}=this.wNAF(U);return S.normalizeZ([$,H])[0]}multiplyUnsafe(T,U=S.ZERO){const $=T;return vp("scalar",$,Li,r),$===Li?O:this.is0()||$===pr?this:P.wNAFCachedUnsafe(this,$,S.normalizeZ,U)}isSmallOrder(){return this.multiplyUnsafe(f).is0()}isTorsionFree(){return P.unsafeLadder(this,r).is0()}toAffine(T){return A(this,T)}clearCofactor(){const{h:T}=e;return T===pr?this:this.multiplyUnsafe(T)}static fromHex(T,U=!1){const{d:$,a:H}=e,_=n.BYTES;T=go("pointHex",T,_),_x("zip215",U);const K=T.slice(),te=T[_-1];K[_-1]=te&-129;const X=I0(K),ne=U?h:n.ORDER;vp("pointHex.y",X,Li,ne);const fe=d(X*X),ue=d(fe-pr),he=d($*fe-H);let{isValid:ye,value:ve}=y(ue,he);if(!ye)throw new Error("Point.fromHex: invalid y coordinate");const Ce=(ve&pr)===pr,Ne=(te&128)!==0;if(!U&&ve===Li&&Ne)throw new Error("Point.fromHex: x=0 and x_0=1");return Ne!==Ce&&(ve=d(-ve)),S.fromAffine({x:ve,y:X})}static fromPrivateKey(T){return k(T).point}toRawBytes(){const{x:T,y:U}=this.toAffine(),$=LA(U,n.BYTES);return $[$.length-1]|=T&pr?128:0,$}toHex(){return GS(this.toRawBytes())}}S.BASE=new S(e.Gx,e.Gy,pr,d(e.Gx*e.Gy)),S.ZERO=new S(Li,pr,pr,Li);const{BASE:R,ZERO:O}=S,P=WJ(S,l*8);function M(D){return sn(D,r)}function I(D){return M(I0(D))}function k(D){const T=n.BYTES;D=go("private key",D,T);const U=go("hashed private key",o(D),2*T),$=b(U.slice(0,T)),H=U.slice(T,2*T),_=I($),K=R.multiply(_),te=K.toRawBytes();return{head:$,prefix:H,scalar:_,point:K,pointBytes:te}}function z(D){return k(D).pointBytes}function V(D=new Uint8Array,...T){const U=FR(...T);return I(o(x(U,go("context",D),!!i)))}function G(D,T,U={}){D=go("message",D),i&&(D=i(D));const{prefix:$,scalar:H,pointBytes:_}=k(T),K=V(U.context,$,D),te=R.multiply(K).toRawBytes(),X=V(U.context,te,_,D),ne=M(K+X*H);vp("signature.s",ne,Li,r);const fe=FR(te,LA(ne,n.BYTES));return go("result",fe,n.BYTES*2)}const Z=eee;function Y(D,T,U,$=Z){const{context:H,zip215:_}=$,K=n.BYTES;D=go("signature",D,2*K),T=go("message",T),U=go("publicKey",U,K),_!==void 0&&_x("zip215",_),i&&(T=i(T));const te=I0(D.slice(K,2*K));let X,ne,fe;try{X=S.fromHex(U,_),ne=S.fromHex(D.slice(0,K),_),fe=R.multiplyUnsafe(te)}catch{return!1}if(!_&&X.isSmallOrder())return!1;const ue=V(H,ne.toRawBytes(),X.toRawBytes(),T);return ne.add(X.multiplyUnsafe(ue)).subtract(fe).clearCofactor().equals(S.ZERO)}return R._setWindowSize(8),{CURVE:e,getPublicKey:z,sign:G,verify:Y,ExtendedPoint:S,utils:{getExtendedPublicKey:k,randomPrivateKey:()=>a(n.BYTES),precompute(D=8,T=S.BASE){return T._setWindowSize(D),T.multiply(BigInt(3)),T}}}}BigInt(0),BigInt(1);const QS=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),KR=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const ree=BigInt(1),QR=BigInt(2);BigInt(3);const iee=BigInt(5),see=BigInt(8);function oee(t){const e=BigInt(10),n=BigInt(20),r=BigInt(40),i=BigInt(80),o=QS,a=t*t%o*t%o,l=ds(a,QR,o)*a%o,f=ds(l,ree,o)*t%o,h=ds(f,iee,o)*f%o,d=ds(h,e,o)*h%o,g=ds(d,n,o)*d%o,y=ds(g,r,o)*g%o,b=ds(y,i,o)*y%o,x=ds(b,i,o)*y%o,w=ds(x,e,o)*h%o;return{pow_p_5_8:ds(w,QR,o)*t%o,b2:a}}function aee(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}function cee(t,e){const n=QS,r=sn(e*e*e,n),i=sn(r*r*e,n),o=oee(t*i).pow_p_5_8;let a=sn(t*r*o,n);const l=sn(e*a*a,n),f=a,h=sn(a*KR,n),d=l===t,g=l===sn(-t,n),y=l===sn(-t*KR,n);return d&&(a=f),(g||y)&&(a=h),VJ(a,n)&&(a=sn(-a,n)),{isValid:d||g,value:a}}const lee=NM(QS,void 0,!0),uee={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:lee,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:see,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:RJ,randomBytes:AM,adjustScalarBytes:aee,uvRatio:cee},IM=nee(uee),fee="EdDSA",hee="JWT",fb=".",ew="base64url",BM="utf8",MM="utf8",dee=":",pee="did",gee="key",YR="base58btc",mee="z",yee="K36",bee=32;function YS(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function kM(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?YS(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function UM(t,e){e||(e=t.reduce((i,o)=>i+o.length,0));const n=kM(e);let r=0;for(const i of t)n.set(i,r),r+=i.length;return YS(n)}function wee(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var i=0;i<t.length;i++){var o=t.charAt(i),a=o.charCodeAt(0);if(n[a]!==255)throw new TypeError(o+" is ambiguous");n[a]=i}var l=t.length,f=t.charAt(0),h=Math.log(l)/Math.log(256),d=Math.log(256)/Math.log(l);function g(x){if(x instanceof Uint8Array||(ArrayBuffer.isView(x)?x=new Uint8Array(x.buffer,x.byteOffset,x.byteLength):Array.isArray(x)&&(x=Uint8Array.from(x))),!(x instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(x.length===0)return"";for(var w=0,E=0,A=0,C=x.length;A!==C&&x[A]===0;)A++,w++;for(var S=(C-A)*d+1>>>0,R=new Uint8Array(S);A!==C;){for(var O=x[A],P=0,M=S-1;(O!==0||P<E)&&M!==-1;M--,P++)O+=256*R[M]>>>0,R[M]=O%l>>>0,O=O/l>>>0;if(O!==0)throw new Error("Non-zero carry");E=P,A++}for(var I=S-E;I!==S&&R[I]===0;)I++;for(var k=f.repeat(w);I<S;++I)k+=t.charAt(R[I]);return k}function y(x){if(typeof x!="string")throw new TypeError("Expected String");if(x.length===0)return new Uint8Array;var w=0;if(x[w]!==" "){for(var E=0,A=0;x[w]===f;)E++,w++;for(var C=(x.length-w)*h+1>>>0,S=new Uint8Array(C);x[w];){var R=n[x.charCodeAt(w)];if(R===255)return;for(var O=0,P=C-1;(R!==0||O<A)&&P!==-1;P--,O++)R+=l*S[P]>>>0,S[P]=R%256>>>0,R=R/256>>>0;if(R!==0)throw new Error("Non-zero carry");A=O,w++}if(x[w]!==" "){for(var M=C-A;M!==C&&S[M]===0;)M++;for(var I=new Uint8Array(E+(C-M)),k=E;M!==C;)I[k++]=S[M++];return I}}}function b(x){var w=y(x);if(w)return w;throw new Error(`Non-${e} character`)}return{encode:g,decodeUnsafe:y,decode:b}}var vee=wee,xee=vee;const LM=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},Eee=t=>new TextEncoder().encode(t),Aee=t=>new TextDecoder().decode(t);let See=class{constructor(e,n,r){this.name=e,this.prefix=n,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},Tee=class{constructor(e,n,r){if(this.name=e,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return $M(this,e)}},Cee=class{constructor(e){this.decoders=e}or(e){return $M(this,e)}decode(e){const n=e[0],r=this.decoders[n];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};const $M=(t,e)=>new Cee({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});let Oee=class{constructor(e,n,r,i){this.name=e,this.prefix=n,this.baseEncode=r,this.baseDecode=i,this.encoder=new See(e,n,r),this.decoder=new Tee(e,n,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}};const tw=({name:t,prefix:e,encode:n,decode:r})=>new Oee(t,e,n,r),sm=({prefix:t,name:e,alphabet:n})=>{const{encode:r,decode:i}=xee(n,e);return tw({prefix:t,name:e,encode:r,decode:o=>LM(i(o))})},Dee=(t,e,n,r)=>{const i={};for(let d=0;d<e.length;++d)i[e[d]]=d;let o=t.length;for(;t[o-1]==="=";)--o;const a=new Uint8Array(o*n/8|0);let l=0,f=0,h=0;for(let d=0;d<o;++d){const g=i[t[d]];if(g===void 0)throw new SyntaxError(`Non-${r} character`);f=f<<n|g,l+=n,l>=8&&(l-=8,a[h++]=255&f>>l)}if(l>=n||255&f<<8-l)throw new SyntaxError("Unexpected end of data");return a},Pee=(t,e,n)=>{const r=e[e.length-1]==="=",i=(1<<n)-1;let o="",a=0,l=0;for(let f=0;f<t.length;++f)for(l=l<<8|t[f],a+=8;a>n;)a-=n,o+=e[i&l>>a];if(a&&(o+=e[i&l<<n-a]),r)for(;o.length*n&7;)o+="=";return o},_n=({name:t,prefix:e,bitsPerChar:n,alphabet:r})=>tw({prefix:e,name:t,encode(i){return Pee(i,r,n)},decode(i){return Dee(i,r,n,t)}}),Nee=tw({prefix:"\0",name:"identity",encode:t=>Aee(t),decode:t=>Eee(t)});var Ree=Object.freeze({__proto__:null,identity:Nee});const _ee=_n({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var Iee=Object.freeze({__proto__:null,base2:_ee});const Bee=_n({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var Mee=Object.freeze({__proto__:null,base8:Bee});const kee=sm({prefix:"9",name:"base10",alphabet:"0123456789"});var Uee=Object.freeze({__proto__:null,base10:kee});const Lee=_n({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),$ee=_n({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var jee=Object.freeze({__proto__:null,base16:Lee,base16upper:$ee});const Fee=_n({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),zee=_n({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Vee=_n({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Hee=_n({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),qee=_n({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Gee=_n({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Kee=_n({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Qee=_n({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Yee=_n({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var Wee=Object.freeze({__proto__:null,base32:Fee,base32upper:zee,base32pad:Vee,base32padupper:Hee,base32hex:qee,base32hexupper:Gee,base32hexpad:Kee,base32hexpadupper:Qee,base32z:Yee});const Xee=sm({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),Zee=sm({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var Jee=Object.freeze({__proto__:null,base36:Xee,base36upper:Zee});const ete=sm({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),tte=sm({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var nte=Object.freeze({__proto__:null,base58btc:ete,base58flickr:tte});const rte=_n({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),ite=_n({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),ste=_n({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),ote=_n({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var ate=Object.freeze({__proto__:null,base64:rte,base64pad:ite,base64url:ste,base64urlpad:ote});const jM=Array.from("🚀🪐☄🛰🌌🌑🌒🌓🌔🌕🌖🌗🌘🌍🌏🌎🐉☀💻🖥💾💿😂❤😍🤣😊🙏💕😭😘👍😅👏😁🔥🥰💔💖💙😢🤔😆🙄💪😉☺👌🤗💜😔😎😇🌹🤦🎉💞✌✨🤷😱😌🌸🙌😋💗💚😏💛🙂💓🤩😄😀🖤😃💯🙈👇🎶😒🤭❣😜💋👀😪😑💥🙋😞😩😡🤪👊🥳😥🤤👉💃😳✋😚😝😴🌟😬🙃🍀🌷😻😓⭐✅🥺🌈😈🤘💦✔😣🏃💐☹🎊💘😠☝😕🌺🎂🌻😐🖕💝🙊😹🗣💫💀👑🎵🤞😛🔴😤🌼😫⚽🤙☕🏆🤫👈😮🙆🍻🍃🐶💁😲🌿🧡🎁⚡🌞🎈❌✊👋😰🤨😶🤝🚶💰🍓💢🤟🙁🚨💨🤬✈🎀🍺🤓😙💟🌱😖👶🥴▶➡❓💎💸⬇😨🌚🦋😷🕺⚠🙅😟😵👎🤲🤠🤧📌🔵💅🧐🐾🍒😗🤑🌊🤯🐷☎💧😯💆👆🎤🙇🍑❄🌴💣🐸💌📍🥀🤢👅💡💩👐📸👻🤐🤮🎼🥵🚩🍎🍊👼💍📣🥂"),cte=jM.reduce((t,e,n)=>(t[n]=e,t),[]),lte=jM.reduce((t,e,n)=>(t[e.codePointAt(0)]=n,t),[]);function ute(t){return t.reduce((e,n)=>(e+=cte[n],e),"")}function fte(t){const e=[];for(const n of t){const r=lte[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);e.push(r)}return new Uint8Array(e)}const hte=tw({prefix:"🚀",name:"base256emoji",encode:ute,decode:fte});var dte=Object.freeze({__proto__:null,base256emoji:hte}),pte=FM,WR=128,gte=-128,mte=Math.pow(2,31);function FM(t,e,n){e=e||[],n=n||0;for(var r=n;t>=mte;)e[n++]=t&255|WR,t/=128;for(;t&gte;)e[n++]=t&255|WR,t>>>=7;return e[n]=t|0,FM.bytes=n-r+1,e}var yte=jA,bte=128,XR=127;function jA(t,r){var n=0,r=r||0,i=0,o=r,a,l=t.length;do{if(o>=l)throw jA.bytes=0,new RangeError("Could not decode varint");a=t[o++],n+=i<28?(a&XR)<<i:(a&XR)*Math.pow(2,i),i+=7}while(a>=bte);return jA.bytes=o-r,n}var wte=Math.pow(2,7),vte=Math.pow(2,14),xte=Math.pow(2,21),Ete=Math.pow(2,28),Ate=Math.pow(2,35),Ste=Math.pow(2,42),Tte=Math.pow(2,49),Cte=Math.pow(2,56),Ote=Math.pow(2,63),Dte=function(t){return t<wte?1:t<vte?2:t<xte?3:t<Ete?4:t<Ate?5:t<Ste?6:t<Tte?7:t<Cte?8:t<Ote?9:10},Pte={encode:pte,decode:yte,encodingLength:Dte},zM=Pte;const ZR=(t,e,n=0)=>(zM.encode(t,e,n),e),JR=t=>zM.encodingLength(t),FA=(t,e)=>{const n=e.byteLength,r=JR(t),i=r+JR(n),o=new Uint8Array(i+n);return ZR(t,o,0),ZR(n,o,r),o.set(e,i),new Nte(t,n,e,o)};let Nte=class{constructor(e,n,r,i){this.code=e,this.size=n,this.digest=r,this.bytes=i}};const VM=({name:t,code:e,encode:n})=>new Rte(t,e,n);let Rte=class{constructor(e,n,r){this.name=e,this.code=n,this.encode=r}digest(e){if(e instanceof Uint8Array){const n=this.encode(e);return n instanceof Uint8Array?FA(this.code,n):n.then(r=>FA(this.code,r))}else throw Error("Unknown type, must be binary type")}};const HM=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),_te=VM({name:"sha2-256",code:18,encode:HM("SHA-256")}),Ite=VM({name:"sha2-512",code:19,encode:HM("SHA-512")});var Bte=Object.freeze({__proto__:null,sha256:_te,sha512:Ite});const qM=0,Mte="identity",GM=LM,kte=t=>FA(qM,GM(t)),Ute={code:qM,name:Mte,encode:GM,digest:kte};var Lte=Object.freeze({__proto__:null,identity:Ute});new TextEncoder,new TextDecoder;const e_={...Ree,...Iee,...Mee,...Uee,...jee,...Wee,...Jee,...nte,...ate,...dte};({...Bte,...Lte});function KM(t,e,n,r){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:n},decoder:{decode:r}}}const t_=KM("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),Lx=KM("ascii","a",t=>{let e="a";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},t=>{t=t.substring(1);const e=kM(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}),QM={utf8:t_,"utf-8":t_,hex:e_.base16,latin1:Lx,ascii:Lx,binary:Lx,...e_};function nw(t,e="utf8"){const n=QM[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):n.encoder.encode(t).substring(1)}function Jh(t,e="utf8"){const n=QM[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?YS(globalThis.Buffer.from(t,"utf-8")):n.decoder.decode(`${n.prefix}${t}`)}function n_(t){return Wl(nw(Jh(t,ew),BM))}function hb(t){return nw(Jh(Go(t),BM),ew)}function YM(t){const e=Jh(yee,YR),n=mee+nw(UM([e,t]),YR);return[pee,gee,n].join(dee)}function $te(t){return nw(t,ew)}function jte(t){return Jh(t,ew)}function Fte(t){return Jh([hb(t.header),hb(t.payload)].join(fb),MM)}function zte(t){return[hb(t.header),hb(t.payload),$te(t.signature)].join(fb)}function zA(t){const e=t.split(fb),n=n_(e[0]),r=n_(e[1]),i=jte(e[2]),o=Jh(e.slice(0,2).join(fb),MM);return{header:n,payload:r,signature:i,data:o}}function r_(t=AM(bee)){const e=IM.getPublicKey(t);return{secretKey:UM([t,e]),publicKey:e}}async function Vte(t,e,n,r,i=we.fromMiliseconds(Date.now())){const o={alg:fee,typ:hee},a=YM(r.publicKey),l=i+n,f={iss:a,sub:t,aud:e,iat:i,exp:l},h=Fte({header:o,payload:f}),d=IM.sign(h,r.secretKey.slice(0,32));return zte({header:o,payload:f,signature:d})}function WS(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function WM(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?WS(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function Wp(t,e){e||(e=t.reduce((i,o)=>i+o.length,0));const n=WM(e);let r=0;for(const i of t)n.set(i,r),r+=i.length;return WS(n)}function Hte(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var i=0;i<t.length;i++){var o=t.charAt(i),a=o.charCodeAt(0);if(n[a]!==255)throw new TypeError(o+" is ambiguous");n[a]=i}var l=t.length,f=t.charAt(0),h=Math.log(l)/Math.log(256),d=Math.log(256)/Math.log(l);function g(x){if(x instanceof Uint8Array||(ArrayBuffer.isView(x)?x=new Uint8Array(x.buffer,x.byteOffset,x.byteLength):Array.isArray(x)&&(x=Uint8Array.from(x))),!(x instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(x.length===0)return"";for(var w=0,E=0,A=0,C=x.length;A!==C&&x[A]===0;)A++,w++;for(var S=(C-A)*d+1>>>0,R=new Uint8Array(S);A!==C;){for(var O=x[A],P=0,M=S-1;(O!==0||P<E)&&M!==-1;M--,P++)O+=256*R[M]>>>0,R[M]=O%l>>>0,O=O/l>>>0;if(O!==0)throw new Error("Non-zero carry");E=P,A++}for(var I=S-E;I!==S&&R[I]===0;)I++;for(var k=f.repeat(w);I<S;++I)k+=t.charAt(R[I]);return k}function y(x){if(typeof x!="string")throw new TypeError("Expected String");if(x.length===0)return new Uint8Array;var w=0;if(x[w]!==" "){for(var E=0,A=0;x[w]===f;)E++,w++;for(var C=(x.length-w)*h+1>>>0,S=new Uint8Array(C);x[w];){var R=n[x.charCodeAt(w)];if(R===255)return;for(var O=0,P=C-1;(R!==0||O<A)&&P!==-1;P--,O++)R+=l*S[P]>>>0,S[P]=R%256>>>0,R=R/256>>>0;if(R!==0)throw new Error("Non-zero carry");A=O,w++}if(x[w]!==" "){for(var M=C-A;M!==C&&S[M]===0;)M++;for(var I=new Uint8Array(E+(C-M)),k=E;M!==C;)I[k++]=S[M++];return I}}}function b(x){var w=y(x);if(w)return w;throw new Error(`Non-${e} character`)}return{encode:g,decodeUnsafe:y,decode:b}}var qte=Hte,Gte=qte;const Kte=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},Qte=t=>new TextEncoder().encode(t),Yte=t=>new TextDecoder().decode(t);class Wte{constructor(e,n,r){this.name=e,this.prefix=n,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class Xte{constructor(e,n,r){if(this.name=e,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return XM(this,e)}}class Zte{constructor(e){this.decoders=e}or(e){return XM(this,e)}decode(e){const n=e[0],r=this.decoders[n];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const XM=(t,e)=>new Zte({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});class Jte{constructor(e,n,r,i){this.name=e,this.prefix=n,this.baseEncode=r,this.baseDecode=i,this.encoder=new Wte(e,n,r),this.decoder=new Xte(e,n,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const rw=({name:t,prefix:e,encode:n,decode:r})=>new Jte(t,e,n,r),om=({prefix:t,name:e,alphabet:n})=>{const{encode:r,decode:i}=Gte(n,e);return rw({prefix:t,name:e,encode:r,decode:o=>Kte(i(o))})},ene=(t,e,n,r)=>{const i={};for(let d=0;d<e.length;++d)i[e[d]]=d;let o=t.length;for(;t[o-1]==="=";)--o;const a=new Uint8Array(o*n/8|0);let l=0,f=0,h=0;for(let d=0;d<o;++d){const g=i[t[d]];if(g===void 0)throw new SyntaxError(`Non-${r} character`);f=f<<n|g,l+=n,l>=8&&(l-=8,a[h++]=255&f>>l)}if(l>=n||255&f<<8-l)throw new SyntaxError("Unexpected end of data");return a},tne=(t,e,n)=>{const r=e[e.length-1]==="=",i=(1<<n)-1;let o="",a=0,l=0;for(let f=0;f<t.length;++f)for(l=l<<8|t[f],a+=8;a>n;)a-=n,o+=e[i&l>>a];if(a&&(o+=e[i&l<<n-a]),r)for(;o.length*n&7;)o+="=";return o},In=({name:t,prefix:e,bitsPerChar:n,alphabet:r})=>rw({prefix:e,name:t,encode(i){return tne(i,r,n)},decode(i){return ene(i,r,n,t)}}),nne=rw({prefix:"\0",name:"identity",encode:t=>Yte(t),decode:t=>Qte(t)}),rne=Object.freeze(Object.defineProperty({__proto__:null,identity:nne},Symbol.toStringTag,{value:"Module"})),ine=In({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),sne=Object.freeze(Object.defineProperty({__proto__:null,base2:ine},Symbol.toStringTag,{value:"Module"})),one=In({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),ane=Object.freeze(Object.defineProperty({__proto__:null,base8:one},Symbol.toStringTag,{value:"Module"})),cne=om({prefix:"9",name:"base10",alphabet:"0123456789"}),lne=Object.freeze(Object.defineProperty({__proto__:null,base10:cne},Symbol.toStringTag,{value:"Module"})),une=In({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),fne=In({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),hne=Object.freeze(Object.defineProperty({__proto__:null,base16:une,base16upper:fne},Symbol.toStringTag,{value:"Module"})),dne=In({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),pne=In({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),gne=In({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),mne=In({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),yne=In({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),bne=In({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),wne=In({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),vne=In({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),xne=In({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),Ene=Object.freeze(Object.defineProperty({__proto__:null,base32:dne,base32hex:yne,base32hexpad:wne,base32hexpadupper:vne,base32hexupper:bne,base32pad:gne,base32padupper:mne,base32upper:pne,base32z:xne},Symbol.toStringTag,{value:"Module"})),Ane=om({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),Sne=om({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),Tne=Object.freeze(Object.defineProperty({__proto__:null,base36:Ane,base36upper:Sne},Symbol.toStringTag,{value:"Module"})),Cne=om({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),One=om({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),Dne=Object.freeze(Object.defineProperty({__proto__:null,base58btc:Cne,base58flickr:One},Symbol.toStringTag,{value:"Module"})),Pne=In({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Nne=In({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Rne=In({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),_ne=In({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),Ine=Object.freeze(Object.defineProperty({__proto__:null,base64:Pne,base64pad:Nne,base64url:Rne,base64urlpad:_ne},Symbol.toStringTag,{value:"Module"})),ZM=Array.from("🚀🪐☄🛰🌌🌑🌒🌓🌔🌕🌖🌗🌘🌍🌏🌎🐉☀💻🖥💾💿😂❤😍🤣😊🙏💕😭😘👍😅👏😁🔥🥰💔💖💙😢🤔😆🙄💪😉☺👌🤗💜😔😎😇🌹🤦🎉💞✌✨🤷😱😌🌸🙌😋💗💚😏💛🙂💓🤩😄😀🖤😃💯🙈👇🎶😒🤭❣😜💋👀😪😑💥🙋😞😩😡🤪👊🥳😥🤤👉💃😳✋😚😝😴🌟😬🙃🍀🌷😻😓⭐✅🥺🌈😈🤘💦✔😣🏃💐☹🎊💘😠☝😕🌺🎂🌻😐🖕💝🙊😹🗣💫💀👑🎵🤞😛🔴😤🌼😫⚽🤙☕🏆🤫👈😮🙆🍻🍃🐶💁😲🌿🧡🎁⚡🌞🎈❌✊👋😰🤨😶🤝🚶💰🍓💢🤟🙁🚨💨🤬✈🎀🍺🤓😙💟🌱😖👶🥴▶➡❓💎💸⬇😨🌚🦋😷🕺⚠🙅😟😵👎🤲🤠🤧📌🔵💅🧐🐾🍒😗🤑🌊🤯🐷☎💧😯💆👆🎤🙇🍑❄🌴💣🐸💌📍🥀🤢👅💡💩👐📸👻🤐🤮🎼🥵🚩🍎🍊👼💍📣🥂"),Bne=ZM.reduce((t,e,n)=>(t[n]=e,t),[]),Mne=ZM.reduce((t,e,n)=>(t[e.codePointAt(0)]=n,t),[]);function kne(t){return t.reduce((e,n)=>(e+=Bne[n],e),"")}function Une(t){const e=[];for(const n of t){const r=Mne[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);e.push(r)}return new Uint8Array(e)}const Lne=rw({prefix:"🚀",name:"base256emoji",encode:kne,decode:Une}),$ne=Object.freeze(Object.defineProperty({__proto__:null,base256emoji:Lne},Symbol.toStringTag,{value:"Module"}));new TextEncoder;new TextDecoder;const i_={...rne,...sne,...ane,...lne,...hne,...Ene,...Tne,...Dne,...Ine,...$ne};function JM(t,e,n,r){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:n},decoder:{decode:r}}}const s_=JM("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),$x=JM("ascii","a",t=>{let e="a";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},t=>{t=t.substring(1);const e=WM(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}),ek={utf8:s_,"utf-8":s_,hex:i_.base16,latin1:$x,ascii:$x,binary:$x,...i_};function Di(t,e="utf8"){const n=ek[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?WS(globalThis.Buffer.from(t,"utf-8")):n.decoder.decode(`${n.prefix}${t}`)}function Pr(t,e="utf8"){const n=ek[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):n.encoder.encode(t).substring(1)}const jne={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe",batchFetchMessages:"waku_batchFetchMessages"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe",batchFetchMessages:"irn_batchFetchMessages"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe",batchFetchMessages:"iridium_batchFetchMessages"}};var jx,o_;function tk(){if(o_)return jx;o_=1;const t="Input must be an string, Buffer or Uint8Array";function e(a){let l;if(a instanceof Uint8Array)l=a;else if(typeof a=="string")l=new TextEncoder().encode(a);else throw new Error(t);return l}function n(a){return Array.prototype.map.call(a,function(l){return(l<16?"0":"")+l.toString(16)}).join("")}function r(a){return(4294967296+a).toString(16).substring(1)}function i(a,l,f){let h=`
`+a+" = ";for(let d=0;d<l.length;d+=2){if(f===32)h+=r(l[d]).toUpperCase(),h+=" ",h+=r(l[d+1]).toUpperCase();else if(f===64)h+=r(l[d+1]).toUpperCase(),h+=r(l[d]).toUpperCase();else throw new Error("Invalid size "+f);d%6===4?h+=`
`+new Array(a.length+4).join(" "):d<l.length-2&&(h+=" ")}console.log(h)}function o(a,l,f){let h=new Date().getTime();const d=new Uint8Array(l);for(let y=0;y<l;y++)d[y]=y%256;const g=new Date().getTime();console.log("Generated random input in "+(g-h)+"ms"),h=g;for(let y=0;y<f;y++){const b=a(d),x=new Date().getTime(),w=x-h;h=x,console.log("Hashed in "+w+"ms: "+b.substring(0,20)+"..."),console.log(Math.round(l/(1<<20)/(w/1e3)*100)/100+" MB PER SECOND")}}return jx={normalizeInput:e,toHex:n,debugPrint:i,testSpeed:o},jx}var Fx,a_;function Fne(){if(a_)return Fx;a_=1;const t=tk();function e(A,C,S){const R=A[C]+A[S];let O=A[C+1]+A[S+1];R>=4294967296&&O++,A[C]=R,A[C+1]=O}function n(A,C,S,R){let O=A[C]+S;S<0&&(O+=4294967296);let P=A[C+1]+R;O>=4294967296&&P++,A[C]=O,A[C+1]=P}function r(A,C){return A[C]^A[C+1]<<8^A[C+2]<<16^A[C+3]<<24}function i(A,C,S,R,O,P){const M=h[O],I=h[O+1],k=h[P],z=h[P+1];e(f,A,C),n(f,A,M,I);let V=f[R]^f[A],G=f[R+1]^f[A+1];f[R]=G,f[R+1]=V,e(f,S,R),V=f[C]^f[S],G=f[C+1]^f[S+1],f[C]=V>>>24^G<<8,f[C+1]=G>>>24^V<<8,e(f,A,C),n(f,A,k,z),V=f[R]^f[A],G=f[R+1]^f[A+1],f[R]=V>>>16^G<<16,f[R+1]=G>>>16^V<<16,e(f,S,R),V=f[C]^f[S],G=f[C+1]^f[S+1],f[C]=G>>>31^V<<1,f[C+1]=V>>>31^G<<1}const o=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),a=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3],l=new Uint8Array(a.map(function(A){return A*2})),f=new Uint32Array(32),h=new Uint32Array(32);function d(A,C){let S=0;for(S=0;S<16;S++)f[S]=A.h[S],f[S+16]=o[S];for(f[24]=f[24]^A.t,f[25]=f[25]^A.t/4294967296,C&&(f[28]=~f[28],f[29]=~f[29]),S=0;S<32;S++)h[S]=r(A.b,4*S);for(S=0;S<12;S++)i(0,8,16,24,l[S*16+0],l[S*16+1]),i(2,10,18,26,l[S*16+2],l[S*16+3]),i(4,12,20,28,l[S*16+4],l[S*16+5]),i(6,14,22,30,l[S*16+6],l[S*16+7]),i(0,10,20,30,l[S*16+8],l[S*16+9]),i(2,12,22,24,l[S*16+10],l[S*16+11]),i(4,14,16,26,l[S*16+12],l[S*16+13]),i(6,8,18,28,l[S*16+14],l[S*16+15]);for(S=0;S<16;S++)A.h[S]=A.h[S]^f[S]^f[S+16]}const g=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);function y(A,C,S,R){if(A===0||A>64)throw new Error("Illegal output length, expected 0 < length <= 64");if(C&&C.length>64)throw new Error("Illegal key, expected Uint8Array with 0 < length <= 64");if(S&&S.length!==16)throw new Error("Illegal salt, expected Uint8Array with length is 16");if(R&&R.length!==16)throw new Error("Illegal personal, expected Uint8Array with length is 16");const O={b:new Uint8Array(128),h:new Uint32Array(16),t:0,c:0,outlen:A};g.fill(0),g[0]=A,C&&(g[1]=C.length),g[2]=1,g[3]=1,S&&g.set(S,32),R&&g.set(R,48);for(let P=0;P<16;P++)O.h[P]=o[P]^r(g,P*4);return C&&(b(O,C),O.c=128),O}function b(A,C){for(let S=0;S<C.length;S++)A.c===128&&(A.t+=A.c,d(A,!1),A.c=0),A.b[A.c++]=C[S]}function x(A){for(A.t+=A.c;A.c<128;)A.b[A.c++]=0;d(A,!0);const C=new Uint8Array(A.outlen);for(let S=0;S<A.outlen;S++)C[S]=A.h[S>>2]>>8*(S&3);return C}function w(A,C,S,R,O){S=S||64,A=t.normalizeInput(A),R&&(R=t.normalizeInput(R)),O&&(O=t.normalizeInput(O));const P=y(S,C,R,O);return b(P,A),x(P)}function E(A,C,S,R,O){const P=w(A,C,S,R,O);return t.toHex(P)}return Fx={blake2b:w,blake2bHex:E,blake2bInit:y,blake2bUpdate:b,blake2bFinal:x},Fx}var zx,c_;function zne(){if(c_)return zx;c_=1;const t=tk();function e(x,w){return x[w]^x[w+1]<<8^x[w+2]<<16^x[w+3]<<24}function n(x,w,E,A,C,S){a[x]=a[x]+a[w]+C,a[A]=r(a[A]^a[x],16),a[E]=a[E]+a[A],a[w]=r(a[w]^a[E],12),a[x]=a[x]+a[w]+S,a[A]=r(a[A]^a[x],8),a[E]=a[E]+a[A],a[w]=r(a[w]^a[E],7)}function r(x,w){return x>>>w^x<<32-w}const i=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),o=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0]),a=new Uint32Array(16),l=new Uint32Array(16);function f(x,w){let E=0;for(E=0;E<8;E++)a[E]=x.h[E],a[E+8]=i[E];for(a[12]^=x.t,a[13]^=x.t/4294967296,w&&(a[14]=~a[14]),E=0;E<16;E++)l[E]=e(x.b,4*E);for(E=0;E<10;E++)n(0,4,8,12,l[o[E*16+0]],l[o[E*16+1]]),n(1,5,9,13,l[o[E*16+2]],l[o[E*16+3]]),n(2,6,10,14,l[o[E*16+4]],l[o[E*16+5]]),n(3,7,11,15,l[o[E*16+6]],l[o[E*16+7]]),n(0,5,10,15,l[o[E*16+8]],l[o[E*16+9]]),n(1,6,11,12,l[o[E*16+10]],l[o[E*16+11]]),n(2,7,8,13,l[o[E*16+12]],l[o[E*16+13]]),n(3,4,9,14,l[o[E*16+14]],l[o[E*16+15]]);for(E=0;E<8;E++)x.h[E]^=a[E]^a[E+8]}function h(x,w){if(!(x>0&&x<=32))throw new Error("Incorrect output length, should be in [1, 32]");const E=w?w.length:0;if(w&&!(E>0&&E<=32))throw new Error("Incorrect key length, should be in [1, 32]");const A={h:new Uint32Array(i),b:new Uint8Array(64),c:0,t:0,outlen:x};return A.h[0]^=16842752^E<<8^x,E>0&&(d(A,w),A.c=64),A}function d(x,w){for(let E=0;E<w.length;E++)x.c===64&&(x.t+=x.c,f(x,!1),x.c=0),x.b[x.c++]=w[E]}function g(x){for(x.t+=x.c;x.c<64;)x.b[x.c++]=0;f(x,!0);const w=new Uint8Array(x.outlen);for(let E=0;E<x.outlen;E++)w[E]=x.h[E>>2]>>8*(E&3)&255;return w}function y(x,w,E){E=E||32,x=t.normalizeInput(x);const A=h(E,w);return d(A,x),g(A)}function b(x,w,E){const A=y(x,w,E);return t.toHex(A)}return zx={blake2s:y,blake2sHex:b,blake2sInit:h,blake2sUpdate:d,blake2sFinal:g},zx}var Vx,l_;function Vne(){if(l_)return Vx;l_=1;const t=Fne(),e=zne();return Vx={blake2b:t.blake2b,blake2bHex:t.blake2bHex,blake2bInit:t.blake2bInit,blake2bUpdate:t.blake2bUpdate,blake2bFinal:t.blake2bFinal,blake2s:e.blake2s,blake2sHex:e.blake2sHex,blake2sInit:e.blake2sInit,blake2sUpdate:e.blake2sUpdate,blake2sFinal:e.blake2sFinal},Vx}var Hne=Vne(),qne={};const Gne=":";function Hl(t){const[e,n]=t.split(Gne);return{namespace:e,reference:n}}function u_(t,e=[]){const n=[];return Object.keys(t).forEach(r=>{if(e.length&&!e.includes(r))return;const i=t[r];n.push(...i.accounts)}),n}function nk(t,e){return t.includes(":")?[t]:e.chains||[]}var Kne=Object.defineProperty,Qne=Object.defineProperties,Yne=Object.getOwnPropertyDescriptors,f_=Object.getOwnPropertySymbols,Wne=Object.prototype.hasOwnProperty,Xne=Object.prototype.propertyIsEnumerable,VA=(t,e,n)=>e in t?Kne(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,h_=(t,e)=>{for(var n in e||(e={}))Wne.call(e,n)&&VA(t,n,e[n]);if(f_)for(var n of f_(e))Xne.call(e,n)&&VA(t,n,e[n]);return t},Zne=(t,e)=>Qne(t,Yne(e)),d_=(t,e,n)=>VA(t,typeof e!="symbol"?e+"":e,n);const Jne="ReactNative",Xr={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},ere="js";function db(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}function Cc(){return!qo.getDocument()&&!!qo.getNavigator()&&navigator.product===Jne}function tre(){return Cc()&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"&&(global==null?void 0:global.Platform.OS)==="android"}function nre(){return Cc()&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"&&(global==null?void 0:global.Platform.OS)==="ios"}function ed(){return!db()&&!!qo.getNavigator()&&!!qo.getDocument()}function am(){return Cc()?Xr.reactNative:db()?Xr.node:ed()?Xr.browser:Xr.unknown}function p_(){var t;try{return Cc()&&typeof global<"u"&&typeof(global==null?void 0:global.Application)<"u"?(t=global.Application)==null?void 0:t.applicationId:void 0}catch{return}}function rre(t,e){const n=new URLSearchParams(t);for(const r of Object.keys(e).sort())if(e.hasOwnProperty(r)){const i=e[r];i!==void 0&&n.set(r,i)}return n.toString()}function ire(t){var e,n;const r=rk();try{return t!=null&&t.url&&r.url&&new URL(t.url).host!==new URL(r.url).host&&(console.warn(`The configured WalletConnect 'metadata.url':${t.url} differs from the actual page url:${r.url}. This is probably unintended and can lead to issues.`),t.url=r.url),(e=t==null?void 0:t.icons)!=null&&e.length&&t.icons.length>0&&(t.icons=t.icons.filter(i=>i!=="")),Zne(h_(h_({},r),t),{url:(t==null?void 0:t.url)||r.url,name:(t==null?void 0:t.name)||r.name,description:(t==null?void 0:t.description)||r.description,icons:(n=t==null?void 0:t.icons)!=null&&n.length&&t.icons.length>0?t.icons:r.icons})}catch(i){return console.warn("Error populating app metadata",i),t||r}}function rk(){return mX.getWindowMetadata()||{name:"",description:"",url:"",icons:[""]}}function sre(){if(am()===Xr.reactNative&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"){const{OS:n,Version:r}=global.Platform;return[n,r].join("-")}const t=BW();if(t===null)return"unknown";const e=t.os?t.os.replace(" ","").toLowerCase():"unknown";return t.type==="browser"?[e,t.name,t.version].join("-"):[e,t.version].join("-")}function ore(){var t;const e=am();return e===Xr.browser?[e,((t=qo.getLocation())==null?void 0:t.host)||"unknown"].join(":"):e}function ik(t,e,n){const r=sre(),i=ore();return[[t,e].join("-"),[ere,n].join("-"),r,i].join("/")}function are({protocol:t,version:e,relayUrl:n,sdkVersion:r,auth:i,projectId:o,useOnCloseEvent:a,bundleId:l,packageName:f}){const h=n.split("?"),d=ik(t,e,r),g={auth:i,ua:d,projectId:o,useOnCloseEvent:a,packageName:f||void 0,bundleId:l||void 0},y=rre(h[1]||"",g);return h[0]+"?"+y}function ml(t,e){return t.filter(n=>e.includes(n)).length===t.length}function HA(t){return Object.fromEntries(t.entries())}function qA(t){return new Map(Object.entries(t))}function tl(t=we.FIVE_MINUTES,e){const n=we.toMiliseconds(t||we.FIVE_MINUTES);let r,i,o,a;return{resolve:l=>{o&&r&&(clearTimeout(o),r(l),a=Promise.resolve(l))},reject:l=>{o&&i&&(clearTimeout(o),i(l))},done:()=>new Promise((l,f)=>{if(a)return l(a);o=setTimeout(()=>{const h=new Error(e);a=Promise.reject(h),f(h)},n),r=l,i=f})}}function Ls(t,e,n){return new Promise(async(r,i)=>{const o=setTimeout(()=>i(new Error(n)),e);try{const a=await t;r(a)}catch(a){i(a)}clearTimeout(o)})}function sk(t,e){if(typeof e=="string"&&e.startsWith(`${t}:`))return e;if(t.toLowerCase()==="topic"){if(typeof e!="string")throw new Error('Value must be "string" for expirer target type: topic');return`topic:${e}`}else if(t.toLowerCase()==="id"){if(typeof e!="number")throw new Error('Value must be "number" for expirer target type: id');return`id:${e}`}throw new Error(`Unknown expirer target type: ${t}`)}function cre(t){return sk("topic",t)}function lre(t){return sk("id",t)}function ok(t){const[e,n]=t.split(":"),r={id:void 0,topic:void 0};if(e==="topic"&&typeof n=="string")r.topic=n;else if(e==="id"&&Number.isInteger(Number(n)))r.id=Number(n);else throw new Error(`Invalid target, expected id:number or topic:string, got ${e}:${n}`);return r}function rn(t,e){return we.fromMiliseconds(Date.now()+we.toMiliseconds(t))}function ja(t){return Date.now()>=we.toMiliseconds(t)}function at(t,e){return`${t}${e?`:${e}`:""}`}function Vs(t=[],e=[]){return[...new Set([...t,...e])]}async function ure({id:t,topic:e,wcDeepLink:n}){var r;try{if(!n)return;const i=typeof n=="string"?JSON.parse(n):n,o=i==null?void 0:i.href;if(typeof o!="string")return;const a=fre(o,t,e),l=am();if(l===Xr.browser){if(!((r=qo.getDocument())!=null&&r.hasFocus())){console.warn("Document does not have focus, skipping deeplink.");return}hre(a)}else l===Xr.reactNative&&typeof(global==null?void 0:global.Linking)<"u"&&await global.Linking.openURL(a)}catch(i){console.error(i)}}function fre(t,e,n){const r=`requestId=${e}&sessionTopic=${n}`;t.endsWith("/")&&(t=t.slice(0,-1));let i=`${t}`;if(t.startsWith("https://t.me")){const o=t.includes("?")?"&startapp=":"?startapp=";i=`${i}${o}${mre(r,!0)}`}else i=`${i}/wc?${r}`;return i}function hre(t){let e="_self";gre()?e="_top":(pre()||t.startsWith("https://")||t.startsWith("http://"))&&(e="_blank"),window.open(t,e,"noreferrer noopener")}async function dre(t,e){let n="";try{if(ed()&&(n=localStorage.getItem(e),n))return n;n=await t.getItem(e)}catch(r){console.error(r)}return n}function g_(t,e){if(!t.includes(e))return null;const n=t.split(/([&,?,=])/),r=n.indexOf(e);return n[r+2]}function m_(){return typeof crypto<"u"&&crypto!=null&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})}function XS(){return typeof process<"u"&&qne.IS_VITEST==="true"}function pre(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)}function gre(){try{return window.self!==window.top}catch{return!1}}function mre(t,e=!1){const n=Buffer.from(t).toString("base64");return e?n.replace(/[=]/g,""):n}function ak(t){return Buffer.from(t,"base64").toString("utf-8")}function yre(t){return new Promise(e=>setTimeout(e,t))}let bre=class{constructor({limit:e}){d_(this,"limit"),d_(this,"set"),this.limit=e,this.set=new Set}add(e){if(!this.set.has(e)){if(this.set.size>=this.limit){const n=this.set.values().next().value;n&&this.set.delete(n)}this.set.add(e)}}has(e){return this.set.has(e)}};const e0=BigInt(2**32-1),y_=BigInt(32);function ck(t,e=!1){return e?{h:Number(t&e0),l:Number(t>>y_&e0)}:{h:Number(t>>y_&e0)|0,l:Number(t&e0)|0}}function lk(t,e=!1){const n=t.length;let r=new Uint32Array(n),i=new Uint32Array(n);for(let o=0;o<n;o++){const{h:a,l}=ck(t[o],e);[r[o],i[o]]=[a,l]}return[r,i]}const b_=(t,e,n)=>t>>>n,w_=(t,e,n)=>t<<32-n|e>>>n,Fa=(t,e,n)=>t>>>n|e<<32-n,za=(t,e,n)=>t<<32-n|e>>>n,Up=(t,e,n)=>t<<64-n|e>>>n-32,Lp=(t,e,n)=>t>>>n-32|e<<64-n,wre=(t,e)=>e,vre=(t,e)=>t,xre=(t,e,n)=>t<<n|e>>>32-n,Ere=(t,e,n)=>e<<n|t>>>32-n,Are=(t,e,n)=>e<<n-32|t>>>64-n,Sre=(t,e,n)=>t<<n-32|e>>>64-n;function zi(t,e,n,r){const i=(e>>>0)+(r>>>0);return{h:t+n+(i/2**32|0)|0,l:i|0}}const ZS=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),JS=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,Tre=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),Cre=(t,e,n,r,i)=>e+n+r+i+(t/2**32|0)|0,Ore=(t,e,n,r,i)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(i>>>0),Dre=(t,e,n,r,i,o)=>e+n+r+i+o+(t/2**32|0)|0,nf=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function eT(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function Ko(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function Ri(t,...e){if(!eT(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function tT(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");Ko(t.outputLen),Ko(t.blockLen)}function vc(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function nT(t,e){Ri(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function Og(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function _i(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function Hx(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function ps(t,e){return t<<32-e|t>>>e}const uk=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function fk(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}const wo=uk?t=>t:t=>fk(t);function Pre(t){for(let e=0;e<t.length;e++)t[e]=fk(t[e]);return t}const Va=uk?t=>t:Pre,hk=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",Nre=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Dg(t){if(Ri(t),hk)return t.toHex();let e="";for(let n=0;n<t.length;n++)e+=Nre[t[n]];return e}const mo={_0:48,_9:57,A:65,F:70,a:97,f:102};function v_(t){if(t>=mo._0&&t<=mo._9)return t-mo._0;if(t>=mo.A&&t<=mo.F)return t-(mo.A-10);if(t>=mo.a&&t<=mo.f)return t-(mo.a-10)}function rT(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(hk)return Uint8Array.fromHex(t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let i=0,o=0;i<n;i++,o+=2){const a=v_(t.charCodeAt(o)),l=v_(t.charCodeAt(o+1));if(a===void 0||l===void 0){const f=t[o]+t[o+1];throw new Error('hex string expected, got non-hex character "'+f+'" at index '+o)}r[i]=a*16+l}return r}function Rre(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function Ji(t){return typeof t=="string"&&(t=Rre(t)),Ri(t),t}function yl(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];Ri(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const o=t[r];n.set(o,i),i+=o.length}return n}let iw=class{};function cm(t){const e=r=>t().update(Ji(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function _re(t){const e=(r,i)=>t(i).update(Ji(r)).digest(),n=t({});return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=r=>t(r),e}function td(t=32){if(nf&&typeof nf.getRandomValues=="function")return nf.getRandomValues(new Uint8Array(t));if(nf&&typeof nf.randomBytes=="function")return Uint8Array.from(nf.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}const Ire=BigInt(0),xp=BigInt(1),Bre=BigInt(2),Mre=BigInt(7),kre=BigInt(256),Ure=BigInt(113),dk=[],pk=[],gk=[];for(let t=0,e=xp,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],dk.push(2*(5*r+n)),pk.push((t+1)*(t+2)/2%64);let i=Ire;for(let o=0;o<7;o++)e=(e<<xp^(e>>Mre)*Ure)%kre,e&Bre&&(i^=xp<<(xp<<BigInt(o))-xp);gk.push(i)}const mk=lk(gk,!0),Lre=mk[0],$re=mk[1],x_=(t,e,n)=>n>32?Are(t,e,n):xre(t,e,n),E_=(t,e,n)=>n>32?Sre(t,e,n):Ere(t,e,n);function jre(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let a=0;a<10;a++)n[a]=t[a]^t[a+10]^t[a+20]^t[a+30]^t[a+40];for(let a=0;a<10;a+=2){const l=(a+8)%10,f=(a+2)%10,h=n[f],d=n[f+1],g=x_(h,d,1)^n[l],y=E_(h,d,1)^n[l+1];for(let b=0;b<50;b+=10)t[a+b]^=g,t[a+b+1]^=y}let i=t[2],o=t[3];for(let a=0;a<24;a++){const l=pk[a],f=x_(i,o,l),h=E_(i,o,l),d=dk[a];i=t[d],o=t[d+1],t[d]=f,t[d+1]=h}for(let a=0;a<50;a+=10){for(let l=0;l<10;l++)n[l]=t[a+l];for(let l=0;l<10;l++)t[a+l]^=~n[(l+2)%10]&n[(l+4)%10]}t[0]^=Lre[r],t[1]^=$re[r]}_i(n)}let Fre=class yk extends iw{constructor(e,n,r,i=!1,o=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=i,this.rounds=o,Ko(r),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=Og(this.state)}clone(){return this._cloneInto()}keccak(){Va(this.state32),jre(this.state32,this.rounds),Va(this.state32),this.posOut=0,this.pos=0}update(e){vc(this),e=Ji(e),Ri(e);const{blockLen:n,state:r}=this,i=e.length;for(let o=0;o<i;){const a=Math.min(n-this.pos,i-o);for(let l=0;l<a;l++)r[this.pos++]^=e[o++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:i}=this;e[r]^=n,(n&128)!==0&&r===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){vc(this,!1),Ri(e),this.finish();const n=this.state,{blockLen:r}=this;for(let i=0,o=e.length;i<o;){this.posOut>=r&&this.keccak();const a=Math.min(r-this.posOut,o-i);e.set(n.subarray(this.posOut,this.posOut+a),i),this.posOut+=a,i+=a}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Ko(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(nT(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,_i(this.state)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:i,rounds:o,enableXOF:a}=this;return e||(e=new yk(n,r,i,a,o)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=o,e.suffix=r,e.outputLen=i,e.enableXOF=a,e.destroyed=this.destroyed,e}};const zre=(t,e,n)=>cm(()=>new Fre(e,t,n)),Vre=zre(1,136,256/8);function Hre(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),o=BigInt(4294967295),a=Number(n>>i&o),l=Number(n&o),f=r?4:0,h=r?0:4;t.setUint32(e+f,a,r),t.setUint32(e+h,l,r)}function qre(t,e,n){return t&e^~t&n}function Gre(t,e,n){return t&e^t&n^e&n}let bk=class extends iw{constructor(e,n,r,i){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.buffer=new Uint8Array(e),this.view=Hx(this.buffer)}update(e){vc(this),e=Ji(e),Ri(e);const{view:n,buffer:r,blockLen:i}=this,o=e.length;for(let a=0;a<o;){const l=Math.min(i-this.pos,o-a);if(l===i){const f=Hx(e);for(;i<=o-a;a+=i)this.process(f,a);continue}r.set(e.subarray(a,a+l),this.pos),this.pos+=l,a+=l,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){vc(this),nT(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:o}=this;let{pos:a}=this;n[a++]=128,_i(this.buffer.subarray(a)),this.padOffset>i-a&&(this.process(r,0),a=0);for(let g=a;g<i;g++)n[g]=0;Hre(r,i-8,BigInt(this.length*8),o),this.process(r,0);const l=Hx(e),f=this.outputLen;if(f%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const h=f/4,d=this.get();if(h>d.length)throw new Error("_sha2: outputLen bigger than state");for(let g=0;g<h;g++)l.setUint32(4*g,d[g],o)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:o,destroyed:a,pos:l}=this;return e.destroyed=a,e.finished=o,e.length=i,e.pos=l,i%n&&e.buffer.set(r),e}clone(){return this._cloneInto()}};const Pa=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Ln=Uint32Array.from([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]),$n=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),Kre=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Na=new Uint32Array(64);let Qre=class extends bk{constructor(e=32){super(64,e,8,!1),this.A=Pa[0]|0,this.B=Pa[1]|0,this.C=Pa[2]|0,this.D=Pa[3]|0,this.E=Pa[4]|0,this.F=Pa[5]|0,this.G=Pa[6]|0,this.H=Pa[7]|0}get(){const{A:e,B:n,C:r,D:i,E:o,F:a,G:l,H:f}=this;return[e,n,r,i,o,a,l,f]}set(e,n,r,i,o,a,l,f){this.A=e|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=o|0,this.F=a|0,this.G=l|0,this.H=f|0}process(e,n){for(let g=0;g<16;g++,n+=4)Na[g]=e.getUint32(n,!1);for(let g=16;g<64;g++){const y=Na[g-15],b=Na[g-2],x=ps(y,7)^ps(y,18)^y>>>3,w=ps(b,17)^ps(b,19)^b>>>10;Na[g]=w+Na[g-7]+x+Na[g-16]|0}let{A:r,B:i,C:o,D:a,E:l,F:f,G:h,H:d}=this;for(let g=0;g<64;g++){const y=ps(l,6)^ps(l,11)^ps(l,25),b=d+y+qre(l,f,h)+Kre[g]+Na[g]|0,x=(ps(r,2)^ps(r,13)^ps(r,22))+Gre(r,i,o)|0;d=h,h=f,f=l,l=a+b|0,a=o,o=i,i=r,r=b+x|0}r=r+this.A|0,i=i+this.B|0,o=o+this.C|0,a=a+this.D|0,l=l+this.E|0,f=f+this.F|0,h=h+this.G|0,d=d+this.H|0,this.set(r,i,o,a,l,f,h,d)}roundClean(){_i(Na)}destroy(){this.set(0,0,0,0,0,0,0,0),_i(this.buffer)}};const wk=lk(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),Yre=wk[0],Wre=wk[1],Ra=new Uint32Array(80),_a=new Uint32Array(80);let iT=class extends bk{constructor(e=64){super(128,e,16,!1),this.Ah=$n[0]|0,this.Al=$n[1]|0,this.Bh=$n[2]|0,this.Bl=$n[3]|0,this.Ch=$n[4]|0,this.Cl=$n[5]|0,this.Dh=$n[6]|0,this.Dl=$n[7]|0,this.Eh=$n[8]|0,this.El=$n[9]|0,this.Fh=$n[10]|0,this.Fl=$n[11]|0,this.Gh=$n[12]|0,this.Gl=$n[13]|0,this.Hh=$n[14]|0,this.Hl=$n[15]|0}get(){const{Ah:e,Al:n,Bh:r,Bl:i,Ch:o,Cl:a,Dh:l,Dl:f,Eh:h,El:d,Fh:g,Fl:y,Gh:b,Gl:x,Hh:w,Hl:E}=this;return[e,n,r,i,o,a,l,f,h,d,g,y,b,x,w,E]}set(e,n,r,i,o,a,l,f,h,d,g,y,b,x,w,E){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=i|0,this.Ch=o|0,this.Cl=a|0,this.Dh=l|0,this.Dl=f|0,this.Eh=h|0,this.El=d|0,this.Fh=g|0,this.Fl=y|0,this.Gh=b|0,this.Gl=x|0,this.Hh=w|0,this.Hl=E|0}process(e,n){for(let S=0;S<16;S++,n+=4)Ra[S]=e.getUint32(n),_a[S]=e.getUint32(n+=4);for(let S=16;S<80;S++){const R=Ra[S-15]|0,O=_a[S-15]|0,P=Fa(R,O,1)^Fa(R,O,8)^b_(R,O,7),M=za(R,O,1)^za(R,O,8)^w_(R,O,7),I=Ra[S-2]|0,k=_a[S-2]|0,z=Fa(I,k,19)^Up(I,k,61)^b_(I,k,6),V=za(I,k,19)^Lp(I,k,61)^w_(I,k,6),G=Tre(M,V,_a[S-7],_a[S-16]),Z=Cre(G,P,z,Ra[S-7],Ra[S-16]);Ra[S]=Z|0,_a[S]=G|0}let{Ah:r,Al:i,Bh:o,Bl:a,Ch:l,Cl:f,Dh:h,Dl:d,Eh:g,El:y,Fh:b,Fl:x,Gh:w,Gl:E,Hh:A,Hl:C}=this;for(let S=0;S<80;S++){const R=Fa(g,y,14)^Fa(g,y,18)^Up(g,y,41),O=za(g,y,14)^za(g,y,18)^Lp(g,y,41),P=g&b^~g&w,M=y&x^~y&E,I=Ore(C,O,M,Wre[S],_a[S]),k=Dre(I,A,R,P,Yre[S],Ra[S]),z=I|0,V=Fa(r,i,28)^Up(r,i,34)^Up(r,i,39),G=za(r,i,28)^Lp(r,i,34)^Lp(r,i,39),Z=r&o^r&l^o&l,Y=i&a^i&f^a&f;A=w|0,C=E|0,w=b|0,E=x|0,b=g|0,x=y|0,{h:g,l:y}=zi(h|0,d|0,k|0,z|0),h=l|0,d=f|0,l=o|0,f=a|0,o=r|0,a=i|0;const D=ZS(z,G,Y);r=JS(D,k,V,Z),i=D|0}({h:r,l:i}=zi(this.Ah|0,this.Al|0,r|0,i|0)),{h:o,l:a}=zi(this.Bh|0,this.Bl|0,o|0,a|0),{h:l,l:f}=zi(this.Ch|0,this.Cl|0,l|0,f|0),{h,l:d}=zi(this.Dh|0,this.Dl|0,h|0,d|0),{h:g,l:y}=zi(this.Eh|0,this.El|0,g|0,y|0),{h:b,l:x}=zi(this.Fh|0,this.Fl|0,b|0,x|0),{h:w,l:E}=zi(this.Gh|0,this.Gl|0,w|0,E|0),{h:A,l:C}=zi(this.Hh|0,this.Hl|0,A|0,C|0),this.set(r,i,o,a,l,f,h,d,g,y,b,x,w,E,A,C)}roundClean(){_i(Ra,_a)}destroy(){_i(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}},Xre=class extends iT{constructor(){super(48),this.Ah=Ln[0]|0,this.Al=Ln[1]|0,this.Bh=Ln[2]|0,this.Bl=Ln[3]|0,this.Ch=Ln[4]|0,this.Cl=Ln[5]|0,this.Dh=Ln[6]|0,this.Dl=Ln[7]|0,this.Eh=Ln[8]|0,this.El=Ln[9]|0,this.Fh=Ln[10]|0,this.Fl=Ln[11]|0,this.Gh=Ln[12]|0,this.Gl=Ln[13]|0,this.Hh=Ln[14]|0,this.Hl=Ln[15]|0}};const jn=Uint32Array.from([573645204,4230739756,2673172387,3360449730,596883563,1867755857,2520282905,1497426621,2519219938,2827943907,3193839141,1401305490,721525244,746961066,246885852,2177182882]);class Zre extends iT{constructor(){super(32),this.Ah=jn[0]|0,this.Al=jn[1]|0,this.Bh=jn[2]|0,this.Bl=jn[3]|0,this.Ch=jn[4]|0,this.Cl=jn[5]|0,this.Dh=jn[6]|0,this.Dl=jn[7]|0,this.Eh=jn[8]|0,this.El=jn[9]|0,this.Fh=jn[10]|0,this.Fl=jn[11]|0,this.Gh=jn[12]|0,this.Gl=jn[13]|0,this.Hh=jn[14]|0,this.Hl=jn[15]|0}}const sw=cm(()=>new Qre),Jre=cm(()=>new iT),eie=cm(()=>new Xre),tie=cm(()=>new Zre),nie=Uint8Array.from([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9]),nn=Uint32Array.from([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),Ee=new Uint32Array(32);function Ia(t,e,n,r,i,o){const a=i[o],l=i[o+1];let f=Ee[2*t],h=Ee[2*t+1],d=Ee[2*e],g=Ee[2*e+1],y=Ee[2*n],b=Ee[2*n+1],x=Ee[2*r],w=Ee[2*r+1],E=ZS(f,d,a);h=JS(E,h,g,l),f=E|0,{Dh:w,Dl:x}={Dh:w^h,Dl:x^f},{Dh:w,Dl:x}={Dh:wre(w,x),Dl:vre(w)},{h:b,l:y}=zi(b,y,w,x),{Bh:g,Bl:d}={Bh:g^b,Bl:d^y},{Bh:g,Bl:d}={Bh:Fa(g,d,24),Bl:za(g,d,24)},Ee[2*t]=f,Ee[2*t+1]=h,Ee[2*e]=d,Ee[2*e+1]=g,Ee[2*n]=y,Ee[2*n+1]=b,Ee[2*r]=x,Ee[2*r+1]=w}function Ba(t,e,n,r,i,o){const a=i[o],l=i[o+1];let f=Ee[2*t],h=Ee[2*t+1],d=Ee[2*e],g=Ee[2*e+1],y=Ee[2*n],b=Ee[2*n+1],x=Ee[2*r],w=Ee[2*r+1],E=ZS(f,d,a);h=JS(E,h,g,l),f=E|0,{Dh:w,Dl:x}={Dh:w^h,Dl:x^f},{Dh:w,Dl:x}={Dh:Fa(w,x,16),Dl:za(w,x,16)},{h:b,l:y}=zi(b,y,w,x),{Bh:g,Bl:d}={Bh:g^b,Bl:d^y},{Bh:g,Bl:d}={Bh:Up(g,d,63),Bl:Lp(g,d,63)},Ee[2*t]=f,Ee[2*t+1]=h,Ee[2*e]=d,Ee[2*e+1]=g,Ee[2*n]=y,Ee[2*n+1]=b,Ee[2*r]=x,Ee[2*r+1]=w}function rie(t,e={},n,r,i){if(Ko(n),t<0||t>n)throw new Error("outputLen bigger than keyLen");const{key:o,salt:a,personalization:l}=e;if(o!==void 0&&(o.length<1||o.length>n))throw new Error("key length must be undefined or 1.."+n);if(a!==void 0&&a.length!==r)throw new Error("salt must be undefined or "+r);if(l!==void 0&&l.length!==i)throw new Error("personalization must be undefined or "+i)}class iie extends iw{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,this.length=0,this.pos=0,Ko(e),Ko(n),this.blockLen=e,this.outputLen=n,this.buffer=new Uint8Array(e),this.buffer32=Og(this.buffer)}update(e){vc(this),e=Ji(e),Ri(e);const{blockLen:n,buffer:r,buffer32:i}=this,o=e.length,a=e.byteOffset,l=e.buffer;for(let f=0;f<o;){this.pos===n&&(Va(i),this.compress(i,0,!1),Va(i),this.pos=0);const h=Math.min(n-this.pos,o-f),d=a+f;if(h===n&&!(d%4)&&f+h<o){const g=new Uint32Array(l,d,Math.floor((o-f)/4));Va(g);for(let y=0;f+n<o;y+=i.length,f+=n)this.length+=n,this.compress(g,y,!1);Va(g);continue}r.set(e.subarray(f,f+h),this.pos),this.pos+=h,this.length+=h,f+=h}return this}digestInto(e){vc(this),nT(e,this);const{pos:n,buffer32:r}=this;this.finished=!0,_i(this.buffer.subarray(n)),Va(r),this.compress(r,0,!0),Va(r);const i=Og(e);this.get().forEach((o,a)=>i[a]=wo(o))}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){const{buffer:n,length:r,finished:i,destroyed:o,outputLen:a,pos:l}=this;return e||(e=new this.constructor({dkLen:a})),e.set(...this.get()),e.buffer.set(n),e.destroyed=o,e.finished=i,e.length=r,e.pos=l,e.outputLen=a,e}clone(){return this._cloneInto()}}class sie extends iie{constructor(e={}){const n=e.dkLen===void 0?64:e.dkLen;super(128,n),this.v0l=nn[0]|0,this.v0h=nn[1]|0,this.v1l=nn[2]|0,this.v1h=nn[3]|0,this.v2l=nn[4]|0,this.v2h=nn[5]|0,this.v3l=nn[6]|0,this.v3h=nn[7]|0,this.v4l=nn[8]|0,this.v4h=nn[9]|0,this.v5l=nn[10]|0,this.v5h=nn[11]|0,this.v6l=nn[12]|0,this.v6h=nn[13]|0,this.v7l=nn[14]|0,this.v7h=nn[15]|0,rie(n,e,64,16,16);let{key:r,personalization:i,salt:o}=e,a=0;if(r!==void 0&&(r=Ji(r),a=r.length),this.v0l^=this.outputLen|a<<8|65536|1<<24,o!==void 0){o=Ji(o);const l=Og(o);this.v4l^=wo(l[0]),this.v4h^=wo(l[1]),this.v5l^=wo(l[2]),this.v5h^=wo(l[3])}if(i!==void 0){i=Ji(i);const l=Og(i);this.v6l^=wo(l[0]),this.v6h^=wo(l[1]),this.v7l^=wo(l[2]),this.v7h^=wo(l[3])}if(r!==void 0){const l=new Uint8Array(this.blockLen);l.set(r),this.update(l)}}get(){let{v0l:e,v0h:n,v1l:r,v1h:i,v2l:o,v2h:a,v3l:l,v3h:f,v4l:h,v4h:d,v5l:g,v5h:y,v6l:b,v6h:x,v7l:w,v7h:E}=this;return[e,n,r,i,o,a,l,f,h,d,g,y,b,x,w,E]}set(e,n,r,i,o,a,l,f,h,d,g,y,b,x,w,E){this.v0l=e|0,this.v0h=n|0,this.v1l=r|0,this.v1h=i|0,this.v2l=o|0,this.v2h=a|0,this.v3l=l|0,this.v3h=f|0,this.v4l=h|0,this.v4h=d|0,this.v5l=g|0,this.v5h=y|0,this.v6l=b|0,this.v6h=x|0,this.v7l=w|0,this.v7h=E|0}compress(e,n,r){this.get().forEach((f,h)=>Ee[h]=f),Ee.set(nn,16);let{h:i,l:o}=ck(BigInt(this.length));Ee[24]=nn[8]^o,Ee[25]=nn[9]^i,r&&(Ee[28]=~Ee[28],Ee[29]=~Ee[29]);let a=0;const l=nie;for(let f=0;f<12;f++)Ia(0,4,8,12,e,n+2*l[a++]),Ba(0,4,8,12,e,n+2*l[a++]),Ia(1,5,9,13,e,n+2*l[a++]),Ba(1,5,9,13,e,n+2*l[a++]),Ia(2,6,10,14,e,n+2*l[a++]),Ba(2,6,10,14,e,n+2*l[a++]),Ia(3,7,11,15,e,n+2*l[a++]),Ba(3,7,11,15,e,n+2*l[a++]),Ia(0,5,10,15,e,n+2*l[a++]),Ba(0,5,10,15,e,n+2*l[a++]),Ia(1,6,11,12,e,n+2*l[a++]),Ba(1,6,11,12,e,n+2*l[a++]),Ia(2,7,8,13,e,n+2*l[a++]),Ba(2,7,8,13,e,n+2*l[a++]),Ia(3,4,9,14,e,n+2*l[a++]),Ba(3,4,9,14,e,n+2*l[a++]);this.v0l^=Ee[0]^Ee[16],this.v0h^=Ee[1]^Ee[17],this.v1l^=Ee[2]^Ee[18],this.v1h^=Ee[3]^Ee[19],this.v2l^=Ee[4]^Ee[20],this.v2h^=Ee[5]^Ee[21],this.v3l^=Ee[6]^Ee[22],this.v3h^=Ee[7]^Ee[23],this.v4l^=Ee[8]^Ee[24],this.v4h^=Ee[9]^Ee[25],this.v5l^=Ee[10]^Ee[26],this.v5h^=Ee[11]^Ee[27],this.v6l^=Ee[12]^Ee[28],this.v6h^=Ee[13]^Ee[29],this.v7l^=Ee[14]^Ee[30],this.v7h^=Ee[15]^Ee[31],_i(Ee)}destroy(){this.destroyed=!0,_i(this.buffer32),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const oie=_re(t=>new sie(t)),aie="https://rpc.walletconnect.org/v1";function vk(t){const e=`Ethereum Signed Message:
${t.length}`,n=new TextEncoder().encode(e+t);return"0x"+Buffer.from(Vre(n)).toString("hex")}async function cie(t,e,n,r,i,o){switch(n.t){case"eip191":return await lie(t,e,n.s);case"eip1271":return await uie(t,e,n.s,r,i,o);default:throw new Error(`verifySignature failed: Attempted to verify CacaoSignature with unknown type: ${n.t}`)}}async function lie(t,e,n){return(await sZ({hash:vk(e),signature:n})).toLowerCase()===t.toLowerCase()}async function uie(t,e,n,r,i,o){const a=Hl(r);if(!a.namespace||!a.reference)throw new Error(`isValidEip1271Signature failed: chainId must be in CAIP-2 format, received: ${r}`);try{const l="0x1626ba7e",f="0000000000000000000000000000000000000000000000000000000000000040",h=n.substring(2),d=(h.length/2).toString(16).padStart(64,"0"),g=(e.startsWith("0x")?e:vk(e)).substring(2),y=l+g+f+d+h,b=await fetch(`${o||aie}/?chainId=${r}&projectId=${i}`,{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({id:fie(),jsonrpc:"2.0",method:"eth_call",params:[{to:t,data:y},"latest"]})}),{result:x}=await b.json();return x?x.slice(0,l.length).toLowerCase()===l.toLowerCase():!1}catch(l){return console.error("isValidEip1271Signature: ",l),!1}}function fie(){return Date.now()+Math.floor(Math.random()*1e3)}function hie(t){const e=atob(t),n=new Uint8Array(e.length);for(let a=0;a<e.length;a++)n[a]=e.charCodeAt(a);const r=n[0];if(r===0)throw new Error("No signatures found");const i=1+r*64;if(n.length<i)throw new Error("Transaction data too short for claimed signature count");if(n.length<100)throw new Error("Transaction too short");const o=Buffer.from(t,"base64").slice(1,65);return im.encode(o)}function die(t){const e=new Uint8Array(Buffer.from(t,"base64")),n=Array.from("TransactionData::").map(o=>o.charCodeAt(0)),r=new Uint8Array(n.length+e.length);r.set(n),r.set(e,n.length);const i=oie(r,{dkLen:32});return im.encode(i)}function A_(t){const e=new Uint8Array(sw(pie(t)));return im.encode(e)}function pie(t){if(t instanceof Uint8Array)return t;if(Array.isArray(t))return new Uint8Array(t);if(typeof t=="object"&&t!=null&&t.data)return new Uint8Array(Object.values(t.data));if(typeof t=="object"&&t)return new Uint8Array(Object.values(t));throw new Error("getNearUint8ArrayFromBytes: Unexpected result type from bytes array")}function S_(t){const e=Buffer.from(t,"base64"),n=VZ(e).txn;if(!n)throw new Error("Invalid signed transaction: missing 'txn' field");const r=BZ(n),i=Buffer.from("TX"),o=Buffer.concat([i,Buffer.from(r)]),a=tie(o);return XZ.encode(a).replace(/=+$/,"")}function qx(t){const e=[];let n=BigInt(t);for(;n>=BigInt(128);)e.push(Number(n&BigInt(127)|BigInt(128))),n>>=BigInt(7);return e.push(Number(n)),Buffer.from(e)}function gie(t){const e=Buffer.from(t.signed.bodyBytes,"base64"),n=Buffer.from(t.signed.authInfoBytes,"base64"),r=Buffer.from(t.signature.signature,"base64"),i=[];i.push(Buffer.from([10])),i.push(qx(e.length)),i.push(e),i.push(Buffer.from([18])),i.push(qx(n.length)),i.push(n),i.push(Buffer.from([26])),i.push(qx(r.length)),i.push(r);const o=Buffer.concat(i),a=sw(o);return Buffer.from(a).toString("hex").toUpperCase()}var mie=Object.defineProperty,yie=Object.defineProperties,bie=Object.getOwnPropertyDescriptors,T_=Object.getOwnPropertySymbols,wie=Object.prototype.hasOwnProperty,vie=Object.prototype.propertyIsEnumerable,C_=(t,e,n)=>e in t?mie(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,xie=(t,e)=>{for(var n in e||(e={}))wie.call(e,n)&&C_(t,n,e[n]);if(T_)for(var n of T_(e))vie.call(e,n)&&C_(t,n,e[n]);return t},Eie=(t,e)=>yie(t,bie(e));const Aie="did:pkh:",sT=t=>t==null?void 0:t.split(":"),Sie=t=>{const e=t&&sT(t);if(e)return t.includes(Aie)?e[3]:e[1]},GA=t=>{const e=t&&sT(t);if(e)return e[2]+":"+e[3]},pb=t=>{const e=t&&sT(t);if(e)return e.pop()};async function O_(t){const{cacao:e,projectId:n}=t,{s:r,p:i}=e,o=xk(i,i.iss),a=pb(i.iss);return await cie(a,o,r,GA(i.iss),n)}const xk=(t,e)=>{const n=`${t.domain} wants you to sign in with your Ethereum account:`,r=pb(e);if(!t.aud&&!t.uri)throw new Error("Either `aud` or `uri` is required to construct the message");let i=t.statement||void 0;const o=`URI: ${t.aud||t.uri}`,a=`Version: ${t.version}`,l=`Chain ID: ${Sie(e)}`,f=`Nonce: ${t.nonce}`,h=`Issued At: ${t.iat}`,d=t.exp?`Expiration Time: ${t.exp}`:void 0,g=t.nbf?`Not Before: ${t.nbf}`:void 0,y=t.requestId?`Request ID: ${t.requestId}`:void 0,b=t.resources?`Resources:${t.resources.map(w=>`
- ${w}`).join("")}`:void 0,x=B0(t.resources);if(x){const w=Pg(x);i=Iie(i,w)}return[n,r,"",i,"",o,a,l,f,h,d,g,y,b].filter(w=>w!=null).join(`
`)};function Tie(t){return Buffer.from(JSON.stringify(t)).toString("base64")}function Cie(t){return JSON.parse(Buffer.from(t,"base64").toString("utf-8"))}function Xl(t){if(!t)throw new Error("No recap provided, value is undefined");if(!t.att)throw new Error("No `att` property found");const e=Object.keys(t.att);if(!(e!=null&&e.length))throw new Error("No resources found in `att` property");e.forEach(n=>{const r=t.att[n];if(Array.isArray(r))throw new Error(`Resource must be an object: ${n}`);if(typeof r!="object")throw new Error(`Resource must be an object: ${n}`);if(!Object.keys(r).length)throw new Error(`Resource object is empty: ${n}`);Object.keys(r).forEach(i=>{const o=r[i];if(!Array.isArray(o))throw new Error(`Ability limits ${i} must be an array of objects, found: ${o}`);if(!o.length)throw new Error(`Value of ${i} is empty array, must be an array with objects`);o.forEach(a=>{if(typeof a!="object")throw new Error(`Ability limits (${i}) must be an array of objects, found: ${a}`)})})})}function Oie(t,e,n,r={}){return n==null||n.sort((i,o)=>i.localeCompare(o)),{att:{[t]:Die(e,n,r)}}}function Die(t,e,n={}){e=e==null?void 0:e.sort((i,o)=>i.localeCompare(o));const r=e.map(i=>({[`${t}/${i}`]:[n]}));return Object.assign({},...r)}function Ek(t){return Xl(t),`urn:recap:${Tie(t).replace(/=/g,"")}`}function Pg(t){const e=Cie(t.replace("urn:recap:",""));return Xl(e),e}function Pie(t,e,n){const r=Oie(t,e,n);return Ek(r)}function Nie(t){return t&&t.includes("urn:recap:")}function Rie(t,e){const n=Pg(t),r=Pg(e),i=_ie(n,r);return Ek(i)}function _ie(t,e){Xl(t),Xl(e);const n=Object.keys(t.att).concat(Object.keys(e.att)).sort((i,o)=>i.localeCompare(o)),r={att:{}};return n.forEach(i=>{var o,a;Object.keys(((o=t.att)==null?void 0:o[i])||{}).concat(Object.keys(((a=e.att)==null?void 0:a[i])||{})).sort((l,f)=>l.localeCompare(f)).forEach(l=>{var f,h;r.att[i]=Eie(xie({},r.att[i]),{[l]:((f=t.att[i])==null?void 0:f[l])||((h=e.att[i])==null?void 0:h[l])})})}),r}function Iie(t="",e){Xl(e);const n="I further authorize the stated URI to perform the following actions on my behalf: ";if(t.includes(n))return t;const r=[];let i=0;Object.keys(e.att).forEach(l=>{const f=Object.keys(e.att[l]).map(g=>({ability:g.split("/")[0],action:g.split("/")[1]}));f.sort((g,y)=>g.action.localeCompare(y.action));const h={};f.forEach(g=>{h[g.ability]||(h[g.ability]=[]),h[g.ability].push(g.action)});const d=Object.keys(h).map(g=>(i++,`(${i}) '${g}': '${h[g].join("', '")}' for '${l}'.`));r.push(d.join(", ").replace(".,","."))});const o=r.join(" "),a=`${n}${o}`;return`${t?t+" ":""}${a}`}function D_(t){var e;const n=Pg(t);Xl(n);const r=(e=n.att)==null?void 0:e.eip155;return r?Object.keys(r).map(i=>i.split("/")[1]):[]}function P_(t){const e=Pg(t);Xl(e);const n=[];return Object.values(e.att).forEach(r=>{Object.values(r).forEach(i=>{var o;(o=i==null?void 0:i[0])!=null&&o.chains&&n.push(i[0].chains)})}),[...new Set(n.flat())]}function B0(t){if(!t)return;const e=t==null?void 0:t[t.length-1];return Nie(e)?e:void 0}/*! noble-ciphers - MIT License (c) 2023 Paul Miller (paulmillr.com) */function Ak(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function KA(t){if(typeof t!="boolean")throw new Error(`boolean expected, not ${t}`)}function Gx(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function Ar(t,...e){if(!Ak(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function N_(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function Bie(t,e){Ar(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function pc(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function Fh(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function Mie(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}const kie=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function Uie(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function QA(t){if(typeof t=="string")t=Uie(t);else if(Ak(t))t=YA(t);else throw new Error("Uint8Array expected, got "+typeof t);return t}function Lie(t,e){if(e==null||typeof e!="object")throw new Error("options must be defined");return Object.assign(t,e)}function $ie(t,e){if(t.length!==e.length)return!1;let n=0;for(let r=0;r<t.length;r++)n|=t[r]^e[r];return n===0}const jie=(t,e)=>{function n(r,...i){if(Ar(r),!kie)throw new Error("Non little-endian hardware is not yet supported");if(t.nonceLength!==void 0){const h=i[0];if(!h)throw new Error("nonce / iv required");t.varSizeNonce?Ar(h):Ar(h,t.nonceLength)}const o=t.tagLength;o&&i[1]!==void 0&&Ar(i[1]);const a=e(r,...i),l=(h,d)=>{if(d!==void 0){if(h!==2)throw new Error("cipher output not supported");Ar(d)}};let f=!1;return{encrypt(h,d){if(f)throw new Error("cannot encrypt() twice with same key + nonce");return f=!0,Ar(h),l(a.encrypt.length,d),a.encrypt(h,d)},decrypt(h,d){if(Ar(h),o&&h.length<o)throw new Error("invalid ciphertext length: smaller than tagLength="+o);return l(a.decrypt.length,d),a.decrypt(h,d)}}}return Object.assign(n,t),n};function R_(t,e,n=!0){if(e===void 0)return new Uint8Array(t);if(e.length!==t)throw new Error("invalid output length, expected "+t+", got: "+e.length);if(n&&!zie(e))throw new Error("invalid output, must be aligned");return e}function __(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),o=BigInt(4294967295),a=Number(n>>i&o),l=Number(n&o);t.setUint32(e+4,a,r),t.setUint32(e+0,l,r)}function Fie(t,e,n){KA(n);const r=new Uint8Array(16),i=Mie(r);return __(i,0,BigInt(e),n),__(i,8,BigInt(t),n),r}function zie(t){return t.byteOffset%4===0}function YA(t){return Uint8Array.from(t)}const Sk=t=>Uint8Array.from(t.split("").map(e=>e.charCodeAt(0))),Vie=Sk("expand 16-byte k"),Hie=Sk("expand 32-byte k"),qie=pc(Vie),Gie=pc(Hie);function rt(t,e){return t<<e|t>>>32-e}function WA(t){return t.byteOffset%4===0}const t0=64,Kie=16,Tk=2**32-1,I_=new Uint32Array;function Qie(t,e,n,r,i,o,a,l){const f=i.length,h=new Uint8Array(t0),d=pc(h),g=WA(i)&&WA(o),y=g?pc(i):I_,b=g?pc(o):I_;for(let x=0;x<f;a++){if(t(e,n,r,d,a,l),a>=Tk)throw new Error("arx: counter overflow");const w=Math.min(t0,f-x);if(g&&w===t0){const E=x/4;if(x%4!==0)throw new Error("arx: invalid block position");for(let A=0,C;A<Kie;A++)C=E+A,b[C]=y[C]^d[A];x+=t0;continue}for(let E=0,A;E<w;E++)A=x+E,o[A]=i[A]^h[E];x+=w}}function Yie(t,e){const{allowShortKeys:n,extendNonceFn:r,counterLength:i,counterRight:o,rounds:a}=Lie({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},e);if(typeof t!="function")throw new Error("core must be a function");return Gx(i),Gx(a),KA(o),KA(n),(l,f,h,d,g=0)=>{Ar(l),Ar(f),Ar(h);const y=h.length;if(d===void 0&&(d=new Uint8Array(y)),Ar(d),Gx(g),g<0||g>=Tk)throw new Error("arx: counter overflow");if(d.length<y)throw new Error(`arx: output (${d.length}) is shorter than data (${y})`);const b=[];let x=l.length,w,E;if(x===32)b.push(w=YA(l)),E=Gie;else if(x===16&&n)w=new Uint8Array(32),w.set(l),w.set(l,16),E=qie,b.push(w);else throw new Error(`arx: invalid 32-byte key, got length=${x}`);WA(f)||b.push(f=YA(f));const A=pc(w);if(r){if(f.length!==24)throw new Error("arx: extended nonce must be 24 bytes");r(E,A,pc(f.subarray(0,16)),A),f=f.subarray(16)}const C=16-i;if(C!==f.length)throw new Error(`arx: nonce must be ${C} or 16 bytes`);if(C!==12){const R=new Uint8Array(12);R.set(f,o?0:12-f.length),f=R,b.push(f)}const S=pc(f);return Qie(t,E,A,S,h,d,g,a),Fh(...b),d}}const En=(t,e)=>t[e++]&255|(t[e++]&255)<<8;class Wie{constructor(e){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,e=QA(e),Ar(e,32);const n=En(e,0),r=En(e,2),i=En(e,4),o=En(e,6),a=En(e,8),l=En(e,10),f=En(e,12),h=En(e,14);this.r[0]=n&8191,this.r[1]=(n>>>13|r<<3)&8191,this.r[2]=(r>>>10|i<<6)&7939,this.r[3]=(i>>>7|o<<9)&8191,this.r[4]=(o>>>4|a<<12)&255,this.r[5]=a>>>1&8190,this.r[6]=(a>>>14|l<<2)&8191,this.r[7]=(l>>>11|f<<5)&8065,this.r[8]=(f>>>8|h<<8)&8191,this.r[9]=h>>>5&127;for(let d=0;d<8;d++)this.pad[d]=En(e,16+2*d)}process(e,n,r=!1){const i=r?0:2048,{h:o,r:a}=this,l=a[0],f=a[1],h=a[2],d=a[3],g=a[4],y=a[5],b=a[6],x=a[7],w=a[8],E=a[9],A=En(e,n+0),C=En(e,n+2),S=En(e,n+4),R=En(e,n+6),O=En(e,n+8),P=En(e,n+10),M=En(e,n+12),I=En(e,n+14);let k=o[0]+(A&8191),z=o[1]+((A>>>13|C<<3)&8191),V=o[2]+((C>>>10|S<<6)&8191),G=o[3]+((S>>>7|R<<9)&8191),Z=o[4]+((R>>>4|O<<12)&8191),Y=o[5]+(O>>>1&8191),D=o[6]+((O>>>14|P<<2)&8191),T=o[7]+((P>>>11|M<<5)&8191),U=o[8]+((M>>>8|I<<8)&8191),$=o[9]+(I>>>5|i),H=0,_=H+k*l+z*(5*E)+V*(5*w)+G*(5*x)+Z*(5*b);H=_>>>13,_&=8191,_+=Y*(5*y)+D*(5*g)+T*(5*d)+U*(5*h)+$*(5*f),H+=_>>>13,_&=8191;let K=H+k*f+z*l+V*(5*E)+G*(5*w)+Z*(5*x);H=K>>>13,K&=8191,K+=Y*(5*b)+D*(5*y)+T*(5*g)+U*(5*d)+$*(5*h),H+=K>>>13,K&=8191;let te=H+k*h+z*f+V*l+G*(5*E)+Z*(5*w);H=te>>>13,te&=8191,te+=Y*(5*x)+D*(5*b)+T*(5*y)+U*(5*g)+$*(5*d),H+=te>>>13,te&=8191;let X=H+k*d+z*h+V*f+G*l+Z*(5*E);H=X>>>13,X&=8191,X+=Y*(5*w)+D*(5*x)+T*(5*b)+U*(5*y)+$*(5*g),H+=X>>>13,X&=8191;let ne=H+k*g+z*d+V*h+G*f+Z*l;H=ne>>>13,ne&=8191,ne+=Y*(5*E)+D*(5*w)+T*(5*x)+U*(5*b)+$*(5*y),H+=ne>>>13,ne&=8191;let fe=H+k*y+z*g+V*d+G*h+Z*f;H=fe>>>13,fe&=8191,fe+=Y*l+D*(5*E)+T*(5*w)+U*(5*x)+$*(5*b),H+=fe>>>13,fe&=8191;let ue=H+k*b+z*y+V*g+G*d+Z*h;H=ue>>>13,ue&=8191,ue+=Y*f+D*l+T*(5*E)+U*(5*w)+$*(5*x),H+=ue>>>13,ue&=8191;let he=H+k*x+z*b+V*y+G*g+Z*d;H=he>>>13,he&=8191,he+=Y*h+D*f+T*l+U*(5*E)+$*(5*w),H+=he>>>13,he&=8191;let ye=H+k*w+z*x+V*b+G*y+Z*g;H=ye>>>13,ye&=8191,ye+=Y*d+D*h+T*f+U*l+$*(5*E),H+=ye>>>13,ye&=8191;let ve=H+k*E+z*w+V*x+G*b+Z*y;H=ve>>>13,ve&=8191,ve+=Y*g+D*d+T*h+U*f+$*l,H+=ve>>>13,ve&=8191,H=(H<<2)+H|0,H=H+_|0,_=H&8191,H=H>>>13,K+=H,o[0]=_,o[1]=K,o[2]=te,o[3]=X,o[4]=ne,o[5]=fe,o[6]=ue,o[7]=he,o[8]=ye,o[9]=ve}finalize(){const{h:e,pad:n}=this,r=new Uint16Array(10);let i=e[1]>>>13;e[1]&=8191;for(let l=2;l<10;l++)e[l]+=i,i=e[l]>>>13,e[l]&=8191;e[0]+=i*5,i=e[0]>>>13,e[0]&=8191,e[1]+=i,i=e[1]>>>13,e[1]&=8191,e[2]+=i,r[0]=e[0]+5,i=r[0]>>>13,r[0]&=8191;for(let l=1;l<10;l++)r[l]=e[l]+i,i=r[l]>>>13,r[l]&=8191;r[9]-=8192;let o=(i^1)-1;for(let l=0;l<10;l++)r[l]&=o;o=~o;for(let l=0;l<10;l++)e[l]=e[l]&o|r[l];e[0]=(e[0]|e[1]<<13)&65535,e[1]=(e[1]>>>3|e[2]<<10)&65535,e[2]=(e[2]>>>6|e[3]<<7)&65535,e[3]=(e[3]>>>9|e[4]<<4)&65535,e[4]=(e[4]>>>12|e[5]<<1|e[6]<<14)&65535,e[5]=(e[6]>>>2|e[7]<<11)&65535,e[6]=(e[7]>>>5|e[8]<<8)&65535,e[7]=(e[8]>>>8|e[9]<<5)&65535;let a=e[0]+n[0];e[0]=a&65535;for(let l=1;l<8;l++)a=(e[l]+n[l]|0)+(a>>>16)|0,e[l]=a&65535;Fh(r)}update(e){N_(this),e=QA(e),Ar(e);const{buffer:n,blockLen:r}=this,i=e.length;for(let o=0;o<i;){const a=Math.min(r-this.pos,i-o);if(a===r){for(;r<=i-o;o+=r)this.process(e,o);continue}n.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===r&&(this.process(n,0,!1),this.pos=0)}return this}destroy(){Fh(this.h,this.r,this.buffer,this.pad)}digestInto(e){N_(this),Bie(e,this),this.finished=!0;const{buffer:n,h:r}=this;let{pos:i}=this;if(i){for(n[i++]=1;i<16;i++)n[i]=0;this.process(n,0,!0)}this.finalize();let o=0;for(let a=0;a<8;a++)e[o++]=r[a]>>>0,e[o++]=r[a]>>>8;return e}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}}function Xie(t){const e=(r,i)=>t(i).update(QA(r)).digest(),n=t(new Uint8Array(32));return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=r=>t(r),e}const Zie=Xie(t=>new Wie(t));function Jie(t,e,n,r,i,o=20){let a=t[0],l=t[1],f=t[2],h=t[3],d=e[0],g=e[1],y=e[2],b=e[3],x=e[4],w=e[5],E=e[6],A=e[7],C=i,S=n[0],R=n[1],O=n[2],P=a,M=l,I=f,k=h,z=d,V=g,G=y,Z=b,Y=x,D=w,T=E,U=A,$=C,H=S,_=R,K=O;for(let X=0;X<o;X+=2)P=P+z|0,$=rt($^P,16),Y=Y+$|0,z=rt(z^Y,12),P=P+z|0,$=rt($^P,8),Y=Y+$|0,z=rt(z^Y,7),M=M+V|0,H=rt(H^M,16),D=D+H|0,V=rt(V^D,12),M=M+V|0,H=rt(H^M,8),D=D+H|0,V=rt(V^D,7),I=I+G|0,_=rt(_^I,16),T=T+_|0,G=rt(G^T,12),I=I+G|0,_=rt(_^I,8),T=T+_|0,G=rt(G^T,7),k=k+Z|0,K=rt(K^k,16),U=U+K|0,Z=rt(Z^U,12),k=k+Z|0,K=rt(K^k,8),U=U+K|0,Z=rt(Z^U,7),P=P+V|0,K=rt(K^P,16),T=T+K|0,V=rt(V^T,12),P=P+V|0,K=rt(K^P,8),T=T+K|0,V=rt(V^T,7),M=M+G|0,$=rt($^M,16),U=U+$|0,G=rt(G^U,12),M=M+G|0,$=rt($^M,8),U=U+$|0,G=rt(G^U,7),I=I+Z|0,H=rt(H^I,16),Y=Y+H|0,Z=rt(Z^Y,12),I=I+Z|0,H=rt(H^I,8),Y=Y+H|0,Z=rt(Z^Y,7),k=k+z|0,_=rt(_^k,16),D=D+_|0,z=rt(z^D,12),k=k+z|0,_=rt(_^k,8),D=D+_|0,z=rt(z^D,7);let te=0;r[te++]=a+P|0,r[te++]=l+M|0,r[te++]=f+I|0,r[te++]=h+k|0,r[te++]=d+z|0,r[te++]=g+V|0,r[te++]=y+G|0,r[te++]=b+Z|0,r[te++]=x+Y|0,r[te++]=w+D|0,r[te++]=E+T|0,r[te++]=A+U|0,r[te++]=C+$|0,r[te++]=S+H|0,r[te++]=R+_|0,r[te++]=O+K|0}const ese=Yie(Jie,{counterRight:!1,counterLength:4,allowShortKeys:!1}),tse=new Uint8Array(16),B_=(t,e)=>{t.update(e);const n=e.length%16;n&&t.update(tse.subarray(n))},nse=new Uint8Array(32);function M_(t,e,n,r,i){const o=t(e,n,nse),a=Zie.create(o);i&&B_(a,i),B_(a,r);const l=Fie(r.length,i?i.length:0,!0);a.update(l);const f=a.digest();return Fh(o,l),f}const rse=t=>(e,n,r)=>({encrypt(i,o){const a=i.length;o=R_(a+16,o,!1),o.set(i);const l=o.subarray(0,-16);t(e,n,l,l,1);const f=M_(t,e,n,l,r);return o.set(f,a),Fh(f),o},decrypt(i,o){o=R_(i.length-16,o,!1);const a=i.subarray(0,-16),l=i.subarray(-16),f=M_(t,e,n,a,r);if(!$ie(l,f))throw new Error("invalid tag");return o.set(i.subarray(0,-16)),t(e,n,o,o,1),Fh(f),o}}),Ck=jie({blockSize:64,nonceLength:12,tagLength:16},rse(ese));let Ok=class extends iw{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,tT(e);const r=Ji(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,o=new Uint8Array(i);o.set(r.length>i?e.create().update(r).digest():r);for(let a=0;a<o.length;a++)o[a]^=54;this.iHash.update(o),this.oHash=e.create();for(let a=0;a<o.length;a++)o[a]^=106;this.oHash.update(o),_i(o)}update(e){return vc(this),this.iHash.update(e),this}digestInto(e){vc(this),Ri(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:o,blockLen:a,outputLen:l}=this;return e=e,e.finished=i,e.destroyed=o,e.blockLen=a,e.outputLen=l,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const ow=(t,e,n)=>new Ok(t,e).update(n).digest();ow.create=(t,e)=>new Ok(t,e);function ise(t,e,n){return tT(t),n===void 0&&(n=new Uint8Array(t.outputLen)),ow(t,Ji(n),Ji(e))}const Kx=Uint8Array.from([0]),k_=Uint8Array.of();function sse(t,e,n,r=32){tT(t),Ko(r);const i=t.outputLen;if(r>255*i)throw new Error("Length should be <= 255*HashLen");const o=Math.ceil(r/i);n===void 0&&(n=k_);const a=new Uint8Array(o*i),l=ow.create(t,e),f=l._cloneInto(),h=new Uint8Array(l.outputLen);for(let d=0;d<o;d++)Kx[0]=d+1,f.update(d===0?k_:h).update(n).update(Kx).digestInto(h),a.set(h,i*d),l._cloneInto(f);return l.destroy(),f.destroy(),_i(h,Kx),a.slice(0,r)}const ose=(t,e,n,r,i)=>sse(t,ise(t,e,n),r,i),aw=sw,oT=BigInt(0),XA=BigInt(1);function gb(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}function n0(t){const e=t.toString(16);return e.length&1?"0"+e:e}function Dk(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?oT:BigInt("0x"+t)}function cw(t){return Dk(Dg(t))}function mb(t){return Ri(t),Dk(Dg(Uint8Array.from(t).reverse()))}function aT(t,e){return rT(t.toString(16).padStart(e*2,"0"))}function cT(t,e){return aT(t,e).reverse()}function xr(t,e,n){let r;if(typeof e=="string")try{r=rT(e)}catch(o){throw new Error(t+" must be hex string or Uint8Array, cause: "+o)}else if(eT(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(t+" of length "+n+" expected, got "+i);return r}const Qx=t=>typeof t=="bigint"&&oT<=t;function ase(t,e,n){return Qx(t)&&Qx(e)&&Qx(n)&&e<=t&&t<n}function ZA(t,e,n,r){if(!ase(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function cse(t){let e;for(e=0;t>oT;t>>=XA,e+=1);return e}const lw=t=>(XA<<BigInt(t))-XA;function lse(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");const r=y=>new Uint8Array(y),i=y=>Uint8Array.of(y);let o=r(t),a=r(t),l=0;const f=()=>{o.fill(1),a.fill(0),l=0},h=(...y)=>n(a,o,...y),d=(y=r(0))=>{a=h(i(0),y),o=h(),y.length!==0&&(a=h(i(1),y),o=h())},g=()=>{if(l++>=1e3)throw new Error("drbg: tried 1000 values");let y=0;const b=[];for(;y<e;){o=h();const x=o.slice();b.push(x),y+=o.length}return yl(...b)};return(y,b)=>{f(),d(y);let x;for(;!(x=b(g()));)d();return f(),x}}function uw(t,e,n={}){if(!t||typeof t!="object")throw new Error("expected valid options object");function r(i,o,a){const l=t[i];if(a&&l===void 0)return;const f=typeof l;if(f!==o||l===null)throw new Error(`param "${i}" is invalid: expected ${o}, got ${f}`)}Object.entries(e).forEach(([i,o])=>r(i,o,!1)),Object.entries(n).forEach(([i,o])=>r(i,o,!0))}function U_(t){const e=new WeakMap;return(n,...r)=>{const i=e.get(n);if(i!==void 0)return i;const o=t(n,...r);return e.set(n,o),o}}const Or=BigInt(0),sr=BigInt(1),bl=BigInt(2),use=BigInt(3),Pk=BigInt(4),Nk=BigInt(5),Rk=BigInt(8);function Oi(t,e){const n=t%e;return n>=Or?n:e+n}function ji(t,e,n){let r=t;for(;e-- >Or;)r*=r,r%=n;return r}function L_(t,e){if(t===Or)throw new Error("invert: expected non-zero number");if(e<=Or)throw new Error("invert: expected positive modulus, got "+e);let n=Oi(t,e),r=e,i=Or,o=sr;for(;n!==Or;){const a=r/n,l=r%n,f=i-o*a;r=n,n=l,i=o,o=f}if(r!==sr)throw new Error("invert: does not exist");return Oi(i,e)}function _k(t,e){const n=(t.ORDER+sr)/Pk,r=t.pow(e,n);if(!t.eql(t.sqr(r),e))throw new Error("Cannot find square root");return r}function fse(t,e){const n=(t.ORDER-Nk)/Rk,r=t.mul(e,bl),i=t.pow(r,n),o=t.mul(e,i),a=t.mul(t.mul(o,bl),i),l=t.mul(o,t.sub(a,t.ONE));if(!t.eql(t.sqr(l),e))throw new Error("Cannot find square root");return l}function hse(t){if(t<BigInt(3))throw new Error("sqrt is not defined for small field");let e=t-sr,n=0;for(;e%bl===Or;)e/=bl,n++;let r=bl;const i=nd(t);for(;$_(i,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return _k;let o=i.pow(r,e);const a=(e+sr)/bl;return function(l,f){if(l.is0(f))return f;if($_(l,f)!==1)throw new Error("Cannot find square root");let h=n,d=l.mul(l.ONE,o),g=l.pow(f,e),y=l.pow(f,a);for(;!l.eql(g,l.ONE);){if(l.is0(g))return l.ZERO;let b=1,x=l.sqr(g);for(;!l.eql(x,l.ONE);)if(b++,x=l.sqr(x),b===h)throw new Error("Cannot find square root");const w=sr<<BigInt(h-b-1),E=l.pow(d,w);h=b,d=l.sqr(E),g=l.mul(g,d),y=l.mul(y,E)}return y}}function dse(t){return t%Pk===use?_k:t%Rk===Nk?fse:hse(t)}const pse=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function gse(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},n=pse.reduce((r,i)=>(r[i]="function",r),e);return uw(t,n),t}function mse(t,e,n){if(n<Or)throw new Error("invalid exponent, negatives unsupported");if(n===Or)return t.ONE;if(n===sr)return e;let r=t.ONE,i=e;for(;n>Or;)n&sr&&(r=t.mul(r,i)),i=t.sqr(i),n>>=sr;return r}function Ik(t,e,n=!1){const r=new Array(e.length).fill(n?t.ZERO:void 0),i=e.reduce((a,l,f)=>t.is0(l)?a:(r[f]=a,t.mul(a,l)),t.ONE),o=t.inv(i);return e.reduceRight((a,l,f)=>t.is0(l)?a:(r[f]=t.mul(a,r[f]),t.mul(a,l)),o),r}function $_(t,e){const n=(t.ORDER-sr)/bl,r=t.pow(e,n),i=t.eql(r,t.ONE),o=t.eql(r,t.ZERO),a=t.eql(r,t.neg(t.ONE));if(!i&&!o&&!a)throw new Error("invalid Legendre symbol result");return i?1:o?0:-1}function yse(t,e){e!==void 0&&Ko(e);const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function nd(t,e,n=!1,r={}){if(t<=Or)throw new Error("invalid field: expected ORDER > 0, got "+t);let i,o;if(typeof e=="object"&&e!=null){if(r.sqrt||n)throw new Error("cannot specify opts in two arguments");const d=e;d.BITS&&(i=d.BITS),d.sqrt&&(o=d.sqrt),typeof d.isLE=="boolean"&&(n=d.isLE)}else typeof e=="number"&&(i=e),r.sqrt&&(o=r.sqrt);const{nBitLength:a,nByteLength:l}=yse(t,i);if(l>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let f;const h=Object.freeze({ORDER:t,isLE:n,BITS:a,BYTES:l,MASK:lw(a),ZERO:Or,ONE:sr,create:d=>Oi(d,t),isValid:d=>{if(typeof d!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof d);return Or<=d&&d<t},is0:d=>d===Or,isValidNot0:d=>!h.is0(d)&&h.isValid(d),isOdd:d=>(d&sr)===sr,neg:d=>Oi(-d,t),eql:(d,g)=>d===g,sqr:d=>Oi(d*d,t),add:(d,g)=>Oi(d+g,t),sub:(d,g)=>Oi(d-g,t),mul:(d,g)=>Oi(d*g,t),pow:(d,g)=>mse(h,d,g),div:(d,g)=>Oi(d*L_(g,t),t),sqrN:d=>d*d,addN:(d,g)=>d+g,subN:(d,g)=>d-g,mulN:(d,g)=>d*g,inv:d=>L_(d,t),sqrt:o||(d=>(f||(f=dse(t)),f(h,d))),toBytes:d=>n?cT(d,l):aT(d,l),fromBytes:d=>{if(d.length!==l)throw new Error("Field.fromBytes: expected "+l+" bytes, got "+d.length);return n?mb(d):cw(d)},invertBatch:d=>Ik(h,d),cmov:(d,g,y)=>y?g:d});return Object.freeze(h)}function Bk(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function Mk(t){const e=Bk(t);return e+Math.ceil(e/2)}function bse(t,e,n=!1){const r=t.length,i=Bk(e),o=Mk(e);if(r<16||r<o||r>1024)throw new Error("expected "+o+"-1024 bytes of input, got "+r);const a=n?mb(t):cw(t),l=Oi(a,e-sr)+sr;return n?cT(l,i):aT(l,i)}const zh=BigInt(0),wl=BigInt(1);function Xp(t,e){const n=e.negate();return t?n:e}function wse(t,e,n){const r=o=>o.pz,i=Ik(t.Fp,n.map(r));return n.map((o,a)=>o.toAffine(i[a])).map(t.fromAffine)}function kk(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function Yx(t,e){kk(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1),i=2**t,o=lw(t),a=BigInt(t);return{windows:n,windowSize:r,mask:o,maxNumber:i,shiftBy:a}}function j_(t,e,n){const{windowSize:r,mask:i,maxNumber:o,shiftBy:a}=n;let l=Number(t&i),f=t>>a;l>r&&(l-=o,f+=wl);const h=e*r,d=h+Math.abs(l)-1,g=l===0,y=l<0,b=e%2!==0;return{nextN:f,offset:d,isZero:g,isNeg:y,isNegF:b,offsetF:h}}function vse(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function xse(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const Wx=new WeakMap,Uk=new WeakMap;function Xx(t){return Uk.get(t)||1}function F_(t){if(t!==zh)throw new Error("invalid wNAF")}function Ese(t,e){return{constTimeNegate:Xp,hasPrecomputes(n){return Xx(n)!==1},unsafeLadder(n,r,i=t.ZERO){let o=n;for(;r>zh;)r&wl&&(i=i.add(o)),o=o.double(),r>>=wl;return i},precomputeWindow(n,r){const{windows:i,windowSize:o}=Yx(r,e),a=[];let l=n,f=l;for(let h=0;h<i;h++){f=l,a.push(f);for(let d=1;d<o;d++)f=f.add(l),a.push(f);l=f.double()}return a},wNAF(n,r,i){let o=t.ZERO,a=t.BASE;const l=Yx(n,e);for(let f=0;f<l.windows;f++){const{nextN:h,offset:d,isZero:g,isNeg:y,isNegF:b,offsetF:x}=j_(i,f,l);i=h,g?a=a.add(Xp(b,r[x])):o=o.add(Xp(y,r[d]))}return F_(i),{p:o,f:a}},wNAFUnsafe(n,r,i,o=t.ZERO){const a=Yx(n,e);for(let l=0;l<a.windows&&i!==zh;l++){const{nextN:f,offset:h,isZero:d,isNeg:g}=j_(i,l,a);if(i=f,!d){const y=r[h];o=o.add(g?y.negate():y)}}return F_(i),o},getPrecomputes(n,r,i){let o=Wx.get(r);return o||(o=this.precomputeWindow(r,n),n!==1&&(typeof i=="function"&&(o=i(o)),Wx.set(r,o))),o},wNAFCached(n,r,i){const o=Xx(n);return this.wNAF(o,this.getPrecomputes(o,n,i),r)},wNAFCachedUnsafe(n,r,i,o){const a=Xx(n);return a===1?this.unsafeLadder(n,r,o):this.wNAFUnsafe(a,this.getPrecomputes(a,n,i),r,o)},setWindowSize(n,r){kk(r,e),Uk.set(n,r),Wx.delete(n)}}}function Ase(t,e,n,r){let i=e,o=t.ZERO,a=t.ZERO;for(;n>zh||r>zh;)n&wl&&(o=o.add(i)),r&wl&&(a=a.add(i)),i=i.double(),n>>=wl,r>>=wl;return{p1:o,p2:a}}function Sse(t,e,n,r){vse(n,t),xse(r,e);const i=n.length,o=r.length;if(i!==o)throw new Error("arrays of points and scalars must have equal length");const a=t.ZERO,l=cse(BigInt(i));let f=1;l>12?f=l-3:l>4?f=l-2:l>0&&(f=2);const h=lw(f),d=new Array(Number(h)+1).fill(a),g=Math.floor((e.BITS-1)/f)*f;let y=a;for(let b=g;b>=0;b-=f){d.fill(a);for(let w=0;w<o;w++){const E=r[w],A=Number(E>>BigInt(b)&h);d[A]=d[A].add(n[w])}let x=a;for(let w=d.length-1,E=a;w>0;w--)E=E.add(d[w]),x=x.add(E);if(y=y.add(x),b!==0)for(let w=0;w<f;w++)y=y.double()}return y}function z_(t,e){if(e){if(e.ORDER!==t)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return gse(e),e}else return nd(t)}function Tse(t,e,n={}){if(!e||typeof e!="object")throw new Error(`expected valid ${t} CURVE object`);for(const a of["p","n","h"]){const l=e[a];if(!(typeof l=="bigint"&&l>zh))throw new Error(`CURVE.${a} must be positive bigint`)}const r=z_(e.p,n.Fp),i=z_(e.n,n.Fn),o=["Gx","Gy","a","b"];for(const a of o)if(!r.isValid(e[a]))throw new Error(`CURVE.${a} must be valid field element of CURVE.Fp`);return{Fp:r,Fn:i}}BigInt(0),BigInt(1),BigInt(2),BigInt(8);const Ep=BigInt(0),rf=BigInt(1),r0=BigInt(2);function Cse(t){return uw(t,{adjustScalarBytes:"function",powPminus2:"function"}),Object.freeze({...t})}function Ose(t){const e=Cse(t),{P:n,type:r,adjustScalarBytes:i,powPminus2:o,randomBytes:a}=e,l=r==="x25519";if(!l&&r!=="x448")throw new Error("invalid type");const f=a||td,h=l?255:448,d=l?32:56,g=BigInt(l?9:5),y=BigInt(l?121665:39081),b=l?r0**BigInt(254):r0**BigInt(447),x=l?BigInt(8)*r0**BigInt(251)-rf:BigInt(4)*r0**BigInt(445)-rf,w=b+x+rf,E=k=>Oi(k,n),A=C(g);function C(k){return cT(E(k),d)}function S(k){const z=xr("u coordinate",k,d);return l&&(z[31]&=127),E(mb(z))}function R(k){return mb(i(xr("scalar",k,d)))}function O(k,z){const V=I(S(z),R(k));if(V===Ep)throw new Error("invalid private or public key received");return C(V)}function P(k){return O(k,A)}function M(k,z,V){const G=E(k*(z-V));return z=E(z-G),V=E(V+G),{x_2:z,x_3:V}}function I(k,z){ZA("u",k,Ep,n),ZA("scalar",z,b,w);const V=z,G=k;let Z=rf,Y=Ep,D=k,T=rf,U=Ep;for(let H=BigInt(h-1);H>=Ep;H--){const _=V>>H&rf;U^=_,{x_2:Z,x_3:D}=M(U,Z,D),{x_2:Y,x_3:T}=M(U,Y,T),U=_;const K=Z+Y,te=E(K*K),X=Z-Y,ne=E(X*X),fe=te-ne,ue=D+T,he=D-T,ye=E(he*K),ve=E(ue*X),Ce=ye+ve,Ne=ye-ve;D=E(Ce*Ce),T=E(G*E(Ne*Ne)),Z=E(te*ne),Y=E(fe*(te+E(y*fe)))}({x_2:Z,x_3:D}=M(U,Z,D)),{x_2:Y,x_3:T}=M(U,Y,T);const $=o(Y);return E(Z*$)}return{scalarMult:O,scalarMultBase:P,getSharedSecret:(k,z)=>O(k,z),getPublicKey:k=>P(k),utils:{randomPrivateKey:()=>f(d)},GuBytes:A.slice()}}BigInt(0);const Dse=BigInt(1),V_=BigInt(2),Pse=BigInt(3),Nse=BigInt(5);BigInt(8);const Lk={p:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")};function Rse(t){const e=BigInt(10),n=BigInt(20),r=BigInt(40),i=BigInt(80),o=Lk.p,a=t*t%o*t%o,l=ji(a,V_,o)*a%o,f=ji(l,Dse,o)*t%o,h=ji(f,Nse,o)*f%o,d=ji(h,e,o)*h%o,g=ji(d,n,o)*d%o,y=ji(g,r,o)*g%o,b=ji(y,i,o)*y%o,x=ji(b,i,o)*y%o,w=ji(x,e,o)*h%o;return{pow_p_5_8:ji(w,V_,o)*t%o,b2:a}}function _se(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}const JA=(()=>{const t=Lk.p;return Ose({P:t,type:"x25519",powPminus2:e=>{const{pow_p_5_8:n,b2:r}=Rse(e);return Oi(ji(n,Pse,t)*r,t)},adjustScalarBytes:_se})})();function H_(t){t.lowS!==void 0&&gb("lowS",t.lowS),t.prehash!==void 0&&gb("prehash",t.prehash)}class Ise extends Error{constructor(e=""){super(e)}}const So={Err:Ise,_tlv:{encode:(t,e)=>{const{Err:n}=So;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length&1)throw new n("tlv.encode: unpadded data");const r=e.length/2,i=n0(r);if(i.length/2&128)throw new n("tlv.encode: long form length too big");const o=r>127?n0(i.length/2|128):"";return n0(t)+o+i+e},decode(t,e){const{Err:n}=So;let r=0;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length<2||e[r++]!==t)throw new n("tlv.decode: wrong tlv");const i=e[r++],o=!!(i&128);let a=0;if(!o)a=i;else{const f=i&127;if(!f)throw new n("tlv.decode(long): indefinite length not supported");if(f>4)throw new n("tlv.decode(long): byte length is too big");const h=e.subarray(r,r+f);if(h.length!==f)throw new n("tlv.decode: length bytes not complete");if(h[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const d of h)a=a<<8|d;if(r+=f,a<128)throw new n("tlv.decode(long): not minimal encoding")}const l=e.subarray(r,r+a);if(l.length!==a)throw new n("tlv.decode: wrong value length");return{v:l,l:e.subarray(r+a)}}},_int:{encode(t){const{Err:e}=So;if(t<Zp)throw new e("integer: negative integers are not allowed");let n=n0(t);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return n},decode(t){const{Err:e}=So;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return cw(t)}},toSig(t){const{Err:e,_int:n,_tlv:r}=So,i=xr("signature",t),{v:o,l:a}=r.decode(48,i);if(a.length)throw new e("invalid signature: left bytes after parsing");const{v:l,l:f}=r.decode(2,o),{v:h,l:d}=r.decode(2,f);if(d.length)throw new e("invalid signature: left bytes after parsing");return{r:n.decode(l),s:n.decode(h)}},hexFromSig(t){const{_tlv:e,_int:n}=So,r=e.encode(2,n.encode(t.r)),i=e.encode(2,n.encode(t.s)),o=r+i;return e.encode(48,o)}},Zp=BigInt(0),Jp=BigInt(1),Bse=BigInt(2),i0=BigInt(3),Mse=BigInt(4);function kse(t,e,n){function r(i){const o=t.sqr(i),a=t.mul(o,i);return t.add(t.add(a,t.mul(i,e)),n)}return r}function $k(t,e,n){const{BYTES:r}=t;function i(o){let a;if(typeof o=="bigint")a=o;else{let l=xr("private key",o);if(e){if(!e.includes(l.length*2))throw new Error("invalid private key");const f=new Uint8Array(r);f.set(l,f.length-l.length),l=f}try{a=t.fromBytes(l)}catch{throw new Error(`invalid private key: expected ui8a of size ${r}, got ${typeof o}`)}}if(n&&(a=t.create(a)),!t.isValidNot0(a))throw new Error("invalid private key: out of range [1..N-1]");return a}return i}function Use(t,e={}){const{Fp:n,Fn:r}=Tse("weierstrass",t,e),{h:i,n:o}=t;uw(e,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:a}=e;if(a&&(!n.is0(t.a)||typeof a.beta!="bigint"||typeof a.splitScalar!="function"))throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function');function l(){if(!n.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function f(I,k,z){const{x:V,y:G}=k.toAffine(),Z=n.toBytes(V);if(gb("isCompressed",z),z){l();const Y=!n.isOdd(G);return yl(jk(Y),Z)}else return yl(Uint8Array.of(4),Z,n.toBytes(G))}function h(I){Ri(I);const k=n.BYTES,z=k+1,V=2*k+1,G=I.length,Z=I[0],Y=I.subarray(1);if(G===z&&(Z===2||Z===3)){const D=n.fromBytes(Y);if(!n.isValid(D))throw new Error("bad point: is not on curve, wrong x");const T=y(D);let U;try{U=n.sqrt(T)}catch(H){const _=H instanceof Error?": "+H.message:"";throw new Error("bad point: is not on curve, sqrt error"+_)}l();const $=n.isOdd(U);return(Z&1)===1!==$&&(U=n.neg(U)),{x:D,y:U}}else if(G===V&&Z===4){const D=n.fromBytes(Y.subarray(k*0,k*1)),T=n.fromBytes(Y.subarray(k*1,k*2));if(!b(D,T))throw new Error("bad point: is not on curve");return{x:D,y:T}}else throw new Error(`bad point: got length ${G}, expected compressed=${z} or uncompressed=${V}`)}const d=e.toBytes||f,g=e.fromBytes||h,y=kse(n,t.a,t.b);function b(I,k){const z=n.sqr(k),V=y(I);return n.eql(z,V)}if(!b(t.Gx,t.Gy))throw new Error("bad curve params: generator point");const x=n.mul(n.pow(t.a,i0),Mse),w=n.mul(n.sqr(t.b),BigInt(27));if(n.is0(n.add(x,w)))throw new Error("bad curve params: a or b");function E(I,k,z=!1){if(!n.isValid(k)||z&&n.is0(k))throw new Error(`bad point coordinate ${I}`);return k}function A(I){if(!(I instanceof O))throw new Error("ProjectivePoint expected")}const C=U_((I,k)=>{const{px:z,py:V,pz:G}=I;if(n.eql(G,n.ONE))return{x:z,y:V};const Z=I.is0();k==null&&(k=Z?n.ONE:n.inv(G));const Y=n.mul(z,k),D=n.mul(V,k),T=n.mul(G,k);if(Z)return{x:n.ZERO,y:n.ZERO};if(!n.eql(T,n.ONE))throw new Error("invZ was invalid");return{x:Y,y:D}}),S=U_(I=>{if(I.is0()){if(e.allowInfinityPoint&&!n.is0(I.py))return;throw new Error("bad point: ZERO")}const{x:k,y:z}=I.toAffine();if(!n.isValid(k)||!n.isValid(z))throw new Error("bad point: x or y not field elements");if(!b(k,z))throw new Error("bad point: equation left != right");if(!I.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function R(I,k,z,V,G){return z=new O(n.mul(z.px,I),z.py,z.pz),k=Xp(V,k),z=Xp(G,z),k.add(z)}class O{constructor(k,z,V){this.px=E("x",k),this.py=E("y",z,!0),this.pz=E("z",V),Object.freeze(this)}static fromAffine(k){const{x:z,y:V}=k||{};if(!k||!n.isValid(z)||!n.isValid(V))throw new Error("invalid affine point");if(k instanceof O)throw new Error("projective point not allowed");return n.is0(z)&&n.is0(V)?O.ZERO:new O(z,V,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(k){return wse(O,"pz",k)}static fromBytes(k){return Ri(k),O.fromHex(k)}static fromHex(k){const z=O.fromAffine(g(xr("pointHex",k)));return z.assertValidity(),z}static fromPrivateKey(k){const z=$k(r,e.allowedPrivateKeyLengths,e.wrapPrivateKey);return O.BASE.multiply(z(k))}static msm(k,z){return Sse(O,r,k,z)}precompute(k=8,z=!0){return M.setWindowSize(this,k),z||this.multiply(i0),this}_setWindowSize(k){this.precompute(k)}assertValidity(){S(this)}hasEvenY(){const{y:k}=this.toAffine();if(!n.isOdd)throw new Error("Field doesn't support isOdd");return!n.isOdd(k)}equals(k){A(k);const{px:z,py:V,pz:G}=this,{px:Z,py:Y,pz:D}=k,T=n.eql(n.mul(z,D),n.mul(Z,G)),U=n.eql(n.mul(V,D),n.mul(Y,G));return T&&U}negate(){return new O(this.px,n.neg(this.py),this.pz)}double(){const{a:k,b:z}=t,V=n.mul(z,i0),{px:G,py:Z,pz:Y}=this;let D=n.ZERO,T=n.ZERO,U=n.ZERO,$=n.mul(G,G),H=n.mul(Z,Z),_=n.mul(Y,Y),K=n.mul(G,Z);return K=n.add(K,K),U=n.mul(G,Y),U=n.add(U,U),D=n.mul(k,U),T=n.mul(V,_),T=n.add(D,T),D=n.sub(H,T),T=n.add(H,T),T=n.mul(D,T),D=n.mul(K,D),U=n.mul(V,U),_=n.mul(k,_),K=n.sub($,_),K=n.mul(k,K),K=n.add(K,U),U=n.add($,$),$=n.add(U,$),$=n.add($,_),$=n.mul($,K),T=n.add(T,$),_=n.mul(Z,Y),_=n.add(_,_),$=n.mul(_,K),D=n.sub(D,$),U=n.mul(_,H),U=n.add(U,U),U=n.add(U,U),new O(D,T,U)}add(k){A(k);const{px:z,py:V,pz:G}=this,{px:Z,py:Y,pz:D}=k;let T=n.ZERO,U=n.ZERO,$=n.ZERO;const H=t.a,_=n.mul(t.b,i0);let K=n.mul(z,Z),te=n.mul(V,Y),X=n.mul(G,D),ne=n.add(z,V),fe=n.add(Z,Y);ne=n.mul(ne,fe),fe=n.add(K,te),ne=n.sub(ne,fe),fe=n.add(z,G);let ue=n.add(Z,D);return fe=n.mul(fe,ue),ue=n.add(K,X),fe=n.sub(fe,ue),ue=n.add(V,G),T=n.add(Y,D),ue=n.mul(ue,T),T=n.add(te,X),ue=n.sub(ue,T),$=n.mul(H,fe),T=n.mul(_,X),$=n.add(T,$),T=n.sub(te,$),$=n.add(te,$),U=n.mul(T,$),te=n.add(K,K),te=n.add(te,K),X=n.mul(H,X),fe=n.mul(_,fe),te=n.add(te,X),X=n.sub(K,X),X=n.mul(H,X),fe=n.add(fe,X),K=n.mul(te,fe),U=n.add(U,K),K=n.mul(ue,fe),T=n.mul(ne,T),T=n.sub(T,K),K=n.mul(ne,te),$=n.mul(ue,$),$=n.add($,K),new O(T,U,$)}subtract(k){return this.add(k.negate())}is0(){return this.equals(O.ZERO)}multiply(k){const{endo:z}=e;if(!r.isValidNot0(k))throw new Error("invalid scalar: out of range");let V,G;const Z=Y=>M.wNAFCached(this,Y,O.normalizeZ);if(z){const{k1neg:Y,k1:D,k2neg:T,k2:U}=z.splitScalar(k),{p:$,f:H}=Z(D),{p:_,f:K}=Z(U);G=H.add(K),V=R(z.beta,$,_,Y,T)}else{const{p:Y,f:D}=Z(k);V=Y,G=D}return O.normalizeZ([V,G])[0]}multiplyUnsafe(k){const{endo:z}=e,V=this;if(!r.isValid(k))throw new Error("invalid scalar: out of range");if(k===Zp||V.is0())return O.ZERO;if(k===Jp)return V;if(M.hasPrecomputes(this))return this.multiply(k);if(z){const{k1neg:G,k1:Z,k2neg:Y,k2:D}=z.splitScalar(k),{p1:T,p2:U}=Ase(O,V,Z,D);return R(z.beta,T,U,G,Y)}else return M.wNAFCachedUnsafe(V,k)}multiplyAndAddUnsafe(k,z,V){const G=this.multiplyUnsafe(z).add(k.multiplyUnsafe(V));return G.is0()?void 0:G}toAffine(k){return C(this,k)}isTorsionFree(){const{isTorsionFree:k}=e;return i===Jp?!0:k?k(O,this):M.wNAFCachedUnsafe(this,o).is0()}clearCofactor(){const{clearCofactor:k}=e;return i===Jp?this:k?k(O,this):this.multiplyUnsafe(i)}toBytes(k=!0){return gb("isCompressed",k),this.assertValidity(),d(O,this,k)}toRawBytes(k=!0){return this.toBytes(k)}toHex(k=!0){return Dg(this.toBytes(k))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}}O.BASE=new O(t.Gx,t.Gy,n.ONE),O.ZERO=new O(n.ZERO,n.ONE,n.ZERO),O.Fp=n,O.Fn=r;const P=r.BITS,M=Ese(O,e.endo?Math.ceil(P/2):P);return O}function jk(t){return Uint8Array.of(t?2:3)}function Lse(t,e,n={}){uw(e,{hash:"function"},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});const r=e.randomBytes||td,i=e.hmac||((V,...G)=>ow(e.hash,V,yl(...G))),{Fp:o,Fn:a}=t,{ORDER:l,BITS:f}=a;function h(V){const G=l>>Jp;return V>G}function d(V){return h(V)?a.neg(V):V}function g(V,G){if(!a.isValidNot0(G))throw new Error(`invalid signature ${V}: out of range 1..CURVE.n`)}class y{constructor(G,Z,Y){g("r",G),g("s",Z),this.r=G,this.s=Z,Y!=null&&(this.recovery=Y),Object.freeze(this)}static fromCompact(G){const Z=a.BYTES,Y=xr("compactSignature",G,Z*2);return new y(a.fromBytes(Y.subarray(0,Z)),a.fromBytes(Y.subarray(Z,Z*2)))}static fromDER(G){const{r:Z,s:Y}=So.toSig(xr("DER",G));return new y(Z,Y)}assertValidity(){}addRecoveryBit(G){return new y(this.r,this.s,G)}recoverPublicKey(G){const Z=o.ORDER,{r:Y,s:D,recovery:T}=this;if(T==null||![0,1,2,3].includes(T))throw new Error("recovery id invalid");if(l*Bse<Z&&T>1)throw new Error("recovery id is ambiguous for h>1 curve");const U=T===2||T===3?Y+l:Y;if(!o.isValid(U))throw new Error("recovery id 2 or 3 invalid");const $=o.toBytes(U),H=t.fromHex(yl(jk((T&1)===0),$)),_=a.inv(U),K=S(xr("msgHash",G)),te=a.create(-K*_),X=a.create(D*_),ne=t.BASE.multiplyUnsafe(te).add(H.multiplyUnsafe(X));if(ne.is0())throw new Error("point at infinify");return ne.assertValidity(),ne}hasHighS(){return h(this.s)}normalizeS(){return this.hasHighS()?new y(this.r,a.neg(this.s),this.recovery):this}toBytes(G){if(G==="compact")return yl(a.toBytes(this.r),a.toBytes(this.s));if(G==="der")return rT(So.hexFromSig(this));throw new Error("invalid format")}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return Dg(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return Dg(this.toBytes("compact"))}}const b=$k(a,n.allowedPrivateKeyLengths,n.wrapPrivateKey),x={isValidPrivateKey(V){try{return b(V),!0}catch{return!1}},normPrivateKeyToScalar:b,randomPrivateKey:()=>{const V=l;return bse(r(Mk(V)),V)},precompute(V=8,G=t.BASE){return G.precompute(V,!1)}};function w(V,G=!0){return t.fromPrivateKey(V).toBytes(G)}function E(V){if(typeof V=="bigint")return!1;if(V instanceof t)return!0;const G=xr("key",V).length,Z=o.BYTES,Y=Z+1,D=2*Z+1;if(!(n.allowedPrivateKeyLengths||a.BYTES===Y))return G===Y||G===D}function A(V,G,Z=!0){if(E(V)===!0)throw new Error("first arg must be private key");if(E(G)===!1)throw new Error("second arg must be public key");return t.fromHex(G).multiply(b(V)).toBytes(Z)}const C=e.bits2int||function(V){if(V.length>8192)throw new Error("input is too large");const G=cw(V),Z=V.length*8-f;return Z>0?G>>BigInt(Z):G},S=e.bits2int_modN||function(V){return a.create(C(V))},R=lw(f);function O(V){return ZA("num < 2^"+f,V,Zp,R),a.toBytes(V)}function P(V,G,Z=M){if(["recovered","canonical"].some(ne=>ne in Z))throw new Error("sign() legacy options not supported");const{hash:Y}=e;let{lowS:D,prehash:T,extraEntropy:U}=Z;D==null&&(D=!0),V=xr("msgHash",V),H_(Z),T&&(V=xr("prehashed msgHash",Y(V)));const $=S(V),H=b(G),_=[O(H),O($)];if(U!=null&&U!==!1){const ne=U===!0?r(o.BYTES):U;_.push(xr("extraEntropy",ne))}const K=yl(..._),te=$;function X(ne){const fe=C(ne);if(!a.isValidNot0(fe))return;const ue=a.inv(fe),he=t.BASE.multiply(fe).toAffine(),ye=a.create(he.x);if(ye===Zp)return;const ve=a.create(ue*a.create(te+ye*H));if(ve===Zp)return;let Ce=(he.x===ye?0:2)|Number(he.y&Jp),Ne=ve;return D&&h(ve)&&(Ne=d(ve),Ce^=1),new y(ye,Ne,Ce)}return{seed:K,k2sig:X}}const M={lowS:e.lowS,prehash:!1},I={lowS:e.lowS,prehash:!1};function k(V,G,Z=M){const{seed:Y,k2sig:D}=P(V,G,Z);return lse(e.hash.outputLen,a.BYTES,i)(Y,D)}t.BASE.precompute(8);function z(V,G,Z,Y=I){const D=V;G=xr("msgHash",G),Z=xr("publicKey",Z),H_(Y);const{lowS:T,prehash:U,format:$}=Y;if("strict"in Y)throw new Error("options.strict was renamed to lowS");if($!==void 0&&!["compact","der","js"].includes($))throw new Error('format must be "compact", "der" or "js"');const H=typeof D=="string"||eT(D),_=!H&&!$&&typeof D=="object"&&D!==null&&typeof D.r=="bigint"&&typeof D.s=="bigint";if(!H&&!_)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let K,te;try{if(_)if($===void 0||$==="js")K=new y(D.r,D.s);else throw new Error("invalid format");if(H){try{$!=="compact"&&(K=y.fromDER(D))}catch(Ce){if(!(Ce instanceof So.Err))throw Ce}!K&&$!=="der"&&(K=y.fromCompact(D))}te=t.fromHex(Z)}catch{return!1}if(!K||T&&K.hasHighS())return!1;U&&(G=e.hash(G));const{r:X,s:ne}=K,fe=S(G),ue=a.inv(ne),he=a.create(fe*ue),ye=a.create(X*ue),ve=t.BASE.multiplyUnsafe(he).add(te.multiplyUnsafe(ye));return ve.is0()?!1:a.create(ve.x)===X}return Object.freeze({getPublicKey:w,getSharedSecret:A,sign:k,verify:z,utils:x,Point:t,Signature:y})}function $se(t){const e={a:t.a,b:t.b,p:t.Fp.ORDER,n:t.n,h:t.h,Gx:t.Gx,Gy:t.Gy},n=t.Fp,r=nd(e.n,t.nBitLength),i={Fp:n,Fn:r,allowedPrivateKeyLengths:t.allowedPrivateKeyLengths,allowInfinityPoint:t.allowInfinityPoint,endo:t.endo,wrapPrivateKey:t.wrapPrivateKey,isTorsionFree:t.isTorsionFree,clearCofactor:t.clearCofactor,fromBytes:t.fromBytes,toBytes:t.toBytes};return{CURVE:e,curveOpts:i}}function jse(t){const{CURVE:e,curveOpts:n}=$se(t),r={hash:t.hash,hmac:t.hmac,randomBytes:t.randomBytes,lowS:t.lowS,bits2int:t.bits2int,bits2int_modN:t.bits2int_modN};return{CURVE:e,curveOpts:n,ecdsaOpts:r}}function Fse(t,e){return Object.assign({},e,{ProjectivePoint:e.Point,CURVE:t})}function zse(t){const{CURVE:e,curveOpts:n,ecdsaOpts:r}=jse(t),i=Use(e,n),o=Lse(i,r,n);return Fse(t,o)}function e2(t,e){const n=r=>zse({...t,hash:r});return{...n(e),create:n}}const Fk={p:BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff"),n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),h:BigInt(1),a:BigInt("0xffffffff00000001000000000000000000000000fffffffffffffffffffffffc"),b:BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5")},zk={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000ffffffff"),n:BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffc7634d81f4372ddf581a0db248b0a77aecec196accc52973"),h:BigInt(1),a:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000fffffffc"),b:BigInt("0xb3312fa7e23ee7e4988e056be3f82d19181d9c6efe8141120314088f5013875ac656398d8a2ed19d2a85c8edd3ec2aef"),Gx:BigInt("0xaa87ca22be8b05378eb1c71ef320ad746e1d3b628ba79b9859f741e082542a385502f25dbf55296c3a545e3872760ab7"),Gy:BigInt("0x3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f")},Vk={p:BigInt("0x1ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),n:BigInt("0x01fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffa51868783bf2f966b7fcc0148f709a5d03bb5c9b8899c47aebb6fb71e91386409"),h:BigInt(1),a:BigInt("0x1fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc"),b:BigInt("0x0051953eb9618e1c9a1f929a21a0b68540eea2da725b99b315f3b8b489918ef109e156193951ec7e937b1652c0bd3bb1bf073573df883d2c34f1ef451fd46b503f00"),Gx:BigInt("0x00c6858e06b70404e9cd9e3ecb662395b4429c648139053fb521f828af606b4d3dbaa14b5e77efe75928fe1dc127a2ffa8de3348b3c1856a429bf97e7e31c2e5bd66"),Gy:BigInt("0x011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650")},Vse=nd(Fk.p),Hse=nd(zk.p),qse=nd(Vk.p),Gse=e2({...Fk,Fp:Vse,lowS:!1},sw);e2({...zk,Fp:Hse,lowS:!1},eie),e2({...Vk,Fp:qse,lowS:!1,allowedPrivateKeyLengths:[130,131,132]},Jre);const Kse=Gse,Hk="base10",or="base16",Sr="base64pad",Ha="base64url",lm="utf8",qk=0,jo=1,um=2,Qse=0,q_=1,eg=12,lT=32;function Yse(){const t=JA.utils.randomPrivateKey(),e=JA.getPublicKey(t);return{privateKey:Pr(t,or),publicKey:Pr(e,or)}}function t2(){const t=td(lT);return Pr(t,or)}function Wse(t,e){const n=JA.getSharedSecret(Di(t,or),Di(e,or)),r=ose(aw,n,void 0,void 0,lT);return Pr(r,or)}function M0(t){const e=aw(Di(t,or));return Pr(e,or)}function Ti(t){const e=aw(Di(t,lm));return Pr(e,or)}function Gk(t){return Di(`${t}`,Hk)}function Zl(t){return Number(Pr(t,Hk))}function Kk(t){return t.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function Qk(t){const e=t.replace(/-/g,"+").replace(/_/g,"/"),n=(4-e.length%4)%4;return e+"=".repeat(n)}function Xse(t){const e=Gk(typeof t.type<"u"?t.type:qk);if(Zl(e)===jo&&typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const n=typeof t.senderPublicKey<"u"?Di(t.senderPublicKey,or):void 0,r=typeof t.iv<"u"?Di(t.iv,or):td(eg),i=Di(t.symKey,or),o=Ck(i,r).encrypt(Di(t.message,lm)),a=Yk({type:e,sealed:o,iv:r,senderPublicKey:n});return t.encoding===Ha?Kk(a):a}function Zse(t){const e=Di(t.symKey,or),{sealed:n,iv:r}=Ng({encoded:t.encoded,encoding:t.encoding}),i=Ck(e,r).decrypt(n);if(i===null)throw new Error("Failed to decrypt");return Pr(i,lm)}function Jse(t,e){const n=Gk(um),r=td(eg),i=Di(t,lm),o=Yk({type:n,sealed:i,iv:r});return e===Ha?Kk(o):o}function eoe(t,e){const{sealed:n}=Ng({encoded:t,encoding:e});return Pr(n,lm)}function Yk(t){if(Zl(t.type)===um)return Pr(Wp([t.type,t.sealed]),Sr);if(Zl(t.type)===jo){if(typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return Pr(Wp([t.type,t.senderPublicKey,t.iv,t.sealed]),Sr)}return Pr(Wp([t.type,t.iv,t.sealed]),Sr)}function Ng(t){const e=(t.encoding||Sr)===Ha?Qk(t.encoded):t.encoded,n=Di(e,Sr),r=n.slice(Qse,q_),i=q_;if(Zl(r)===jo){const f=i+lT,h=f+eg,d=n.slice(i,f),g=n.slice(f,h),y=n.slice(h);return{type:r,sealed:y,iv:g,senderPublicKey:d}}if(Zl(r)===um){const f=n.slice(i),h=td(eg);return{type:r,sealed:f,iv:h}}const o=i+eg,a=n.slice(i,o),l=n.slice(o);return{type:r,sealed:l,iv:a}}function toe(t,e){const n=Ng({encoded:t,encoding:e==null?void 0:e.encoding});return Wk({type:Zl(n.type),senderPublicKey:typeof n.senderPublicKey<"u"?Pr(n.senderPublicKey,or):void 0,receiverPublicKey:e==null?void 0:e.receiverPublicKey})}function Wk(t){const e=(t==null?void 0:t.type)||qk;if(e===jo){if(typeof(t==null?void 0:t.senderPublicKey)>"u")throw new Error("missing sender public key");if(typeof(t==null?void 0:t.receiverPublicKey)>"u")throw new Error("missing receiver public key")}return{type:e,senderPublicKey:t==null?void 0:t.senderPublicKey,receiverPublicKey:t==null?void 0:t.receiverPublicKey}}function G_(t){return t.type===jo&&typeof t.senderPublicKey=="string"&&typeof t.receiverPublicKey=="string"}function K_(t){return t.type===um}function noe(t){const e=Buffer.from(t.x,"base64"),n=Buffer.from(t.y,"base64");return Wp([new Uint8Array([4]),e,n])}function roe(t,e){const[n,r,i]=t.split("."),o=Buffer.from(Qk(i),"base64");if(o.length!==64)throw new Error("Invalid signature length");const a=o.slice(0,32),l=o.slice(32,64),f=`${n}.${r}`,h=aw(f),d=noe(e);if(!Kse.verify(Wp([a,l]),h,d))throw new Error("Invalid signature");return zA(t).payload}const ioe="irn";function yb(t){return(t==null?void 0:t.relay)||{protocol:ioe}}function If(t){const e=jne[t];if(typeof e>"u")throw new Error(`Relay Protocol not supported: ${t}`);return e}function soe(t,e="-"){const n={},r="relay"+e;return Object.keys(t).forEach(i=>{if(i.startsWith(r)){const o=i.replace(r,""),a=t[i];n[o]=a}}),n}function Q_(t){if(!t.includes("wc:")){const h=ak(t);h!=null&&h.includes("wc:")&&(t=h)}t=t.includes("wc://")?t.replace("wc://",""):t,t=t.includes("wc:")?t.replace("wc:",""):t;const e=t.indexOf(":"),n=t.indexOf("?")!==-1?t.indexOf("?"):void 0,r=t.substring(0,e),i=t.substring(e+1,n).split("@"),o=typeof n<"u"?t.substring(n):"",a=new URLSearchParams(o),l={};a.forEach((h,d)=>{l[d]=h});const f=typeof l.methods=="string"?l.methods.split(","):void 0;return{protocol:r,topic:ooe(i[0]),version:parseInt(i[1],10),symKey:l.symKey,relay:soe(l),methods:f,expiryTimestamp:l.expiryTimestamp?parseInt(l.expiryTimestamp,10):void 0}}function ooe(t){return t.startsWith("//")?t.substring(2):t}function aoe(t,e="-"){const n="relay",r={};return Object.keys(t).forEach(i=>{const o=i,a=n+e+o;t[o]&&(r[a]=t[o])}),r}function Y_(t){const e=new URLSearchParams,n=aoe(t.relay);Object.keys(n).sort().forEach(i=>{e.set(i,n[i])}),e.set("symKey",t.symKey),t.expiryTimestamp&&e.set("expiryTimestamp",t.expiryTimestamp.toString()),t.methods&&e.set("methods",t.methods.join(","));const r=e.toString();return`${t.protocol}:${t.topic}@${t.version}?${r}`}function s0(t,e,n){return`${t}?wc_ev=${n}&topic=${e}`}var coe=Object.defineProperty,loe=Object.defineProperties,uoe=Object.getOwnPropertyDescriptors,W_=Object.getOwnPropertySymbols,foe=Object.prototype.hasOwnProperty,hoe=Object.prototype.propertyIsEnumerable,X_=(t,e,n)=>e in t?coe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,doe=(t,e)=>{for(var n in e||(e={}))foe.call(e,n)&&X_(t,n,e[n]);if(W_)for(var n of W_(e))hoe.call(e,n)&&X_(t,n,e[n]);return t},poe=(t,e)=>loe(t,uoe(e));function rd(t){const e=[];return t.forEach(n=>{const[r,i]=n.split(":");e.push(`${r}:${i}`)}),e}function goe(t){const e=[];return Object.values(t).forEach(n=>{e.push(...rd(n.accounts))}),e}function moe(t,e){const n=[];return Object.values(t).forEach(r=>{rd(r.accounts).includes(e)&&n.push(...r.methods)}),n}function yoe(t,e){const n=[];return Object.values(t).forEach(r=>{rd(r.accounts).includes(e)&&n.push(...r.events)}),n}function fw(t){return t.includes(":")}function Bf(t){return fw(t)?t.split(":")[0]:t}function Z_(t){var e,n,r;const i={};if(!Hs(t))return i;for(const[o,a]of Object.entries(t)){const l=fw(o)?[o]:a.chains,f=a.methods||[],h=a.events||[],d=Bf(o);i[d]=poe(doe({},i[d]),{chains:Vs(l,(e=i[d])==null?void 0:e.chains),methods:Vs(f,(n=i[d])==null?void 0:n.methods),events:Vs(h,(r=i[d])==null?void 0:r.events)})}return i}function boe(t){const e={};return t==null||t.forEach(n=>{var r;const[i,o]=n.split(":");e[i]||(e[i]={accounts:[],chains:[],events:[],methods:[]}),e[i].accounts.push(n),(r=e[i].chains)==null||r.push(`${i}:${o}`)}),e}function J_(t,e){e=e.map(r=>r.replace("did:pkh:",""));const n=boe(e);for(const[r,i]of Object.entries(n))i.methods?i.methods=Vs(i.methods,t):i.methods=t,i.events=["chainChanged","accountsChanged"];return n}function woe(t,e){var n,r,i,o,a,l;const f=Z_(t),h=Z_(e),d={},g=Object.keys(f).concat(Object.keys(h));for(const y of g)d[y]={chains:Vs((n=f[y])==null?void 0:n.chains,(r=h[y])==null?void 0:r.chains),methods:Vs((i=f[y])==null?void 0:i.methods,(o=h[y])==null?void 0:o.methods),events:Vs((a=f[y])==null?void 0:a.events,(l=h[y])==null?void 0:l.events)};return d}const voe={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},xoe={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function be(t,e){const{message:n,code:r}=xoe[t];return{message:e?`${n} ${e}`:n,code:r}}function St(t,e){const{message:n,code:r}=voe[t];return{message:e?`${n} ${e}`:n,code:r}}function Ni(t,e){return!!Array.isArray(t)}function Hs(t){return Object.getPrototypeOf(t)===Object.prototype&&Object.keys(t).length}function on(t){return typeof t>"u"}function Xt(t,e){return e&&on(t)?!0:typeof t=="string"&&!!t.trim().length}function uT(t,e){return e&&on(t)?!0:typeof t=="number"&&!isNaN(t)}function Eoe(t,e){const{requiredNamespaces:n}=e,r=Object.keys(t.namespaces),i=Object.keys(n);let o=!0;return ml(i,r)?(r.forEach(a=>{const{accounts:l,methods:f,events:h}=t.namespaces[a],d=rd(l),g=n[a];(!ml(nk(a,g),d)||!ml(g.methods,f)||!ml(g.events,h))&&(o=!1)}),o):!1}function bb(t){return Xt(t,!1)&&t.includes(":")?t.split(":").length===2:!1}function Aoe(t){if(Xt(t,!1)&&t.includes(":")){const e=t.split(":");if(e.length===3){const n=e[0]+":"+e[1];return!!e[2]&&bb(n)}}return!1}function Soe(t){function e(n){try{return typeof new URL(n)<"u"}catch{return!1}}try{if(Xt(t,!1)){if(e(t))return!0;const n=ak(t);return e(n)}}catch{}return!1}function Toe(t){var e;return(e=t==null?void 0:t.proposer)==null?void 0:e.publicKey}function Coe(t){return t==null?void 0:t.topic}function Ooe(t,e){let n=null;return Xt(t==null?void 0:t.publicKey,!1)||(n=be("MISSING_OR_INVALID",`${e} controller public key should be a string`)),n}function eI(t){let e=!0;return Ni(t)?t.length&&(e=t.every(n=>Xt(n,!1))):e=!1,e}function Doe(t,e,n){let r=null;return Ni(e)&&e.length?e.forEach(i=>{r||bb(i)||(r=St("UNSUPPORTED_CHAINS",`${n}, chain ${i} should be a string and conform to "namespace:chainId" format`))}):bb(t)||(r=St("UNSUPPORTED_CHAINS",`${n}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),r}function Poe(t,e,n){let r=null;return Object.entries(t).forEach(([i,o])=>{if(r)return;const a=Doe(i,nk(i,o),`${e} ${n}`);a&&(r=a)}),r}function Noe(t,e){let n=null;return Ni(t)?t.forEach(r=>{n||Aoe(r)||(n=St("UNSUPPORTED_ACCOUNTS",`${e}, account ${r} should be a string and conform to "namespace:chainId:address" format`))}):n=St("UNSUPPORTED_ACCOUNTS",`${e}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),n}function Roe(t,e){let n=null;return Object.values(t).forEach(r=>{if(n)return;const i=Noe(r==null?void 0:r.accounts,`${e} namespace`);i&&(n=i)}),n}function _oe(t,e){let n=null;return eI(t==null?void 0:t.methods)?eI(t==null?void 0:t.events)||(n=St("UNSUPPORTED_EVENTS",`${e}, events should be an array of strings or empty array for no events`)):n=St("UNSUPPORTED_METHODS",`${e}, methods should be an array of strings or empty array for no methods`),n}function Xk(t,e){let n=null;return Object.values(t).forEach(r=>{if(n)return;const i=_oe(r,`${e}, namespace`);i&&(n=i)}),n}function Ioe(t,e,n){let r=null;if(t&&Hs(t)){const i=Xk(t,e);i&&(r=i);const o=Poe(t,e,n);o&&(r=o)}else r=be("MISSING_OR_INVALID",`${e}, ${n} should be an object with data`);return r}function Zx(t,e){let n=null;if(t&&Hs(t)){const r=Xk(t,e);r&&(n=r);const i=Roe(t,e);i&&(n=i)}else n=be("MISSING_OR_INVALID",`${e}, namespaces should be an object with data`);return n}function Zk(t){return Xt(t.protocol,!0)}function Boe(t,e){let n=!1;return t?t&&Ni(t)&&t.length&&t.forEach(r=>{n=Zk(r)}):n=!0,n}function Moe(t){return typeof t=="number"}function yr(t){return typeof t<"u"&&typeof t!==null}function koe(t){return!(!t||typeof t!="object"||!t.code||!uT(t.code,!1)||!t.message||!Xt(t.message,!1))}function Uoe(t){return!(on(t)||!Xt(t.method,!1))}function Loe(t){return!(on(t)||on(t.result)&&on(t.error)||!uT(t.id,!1)||!Xt(t.jsonrpc,!1))}function $oe(t){return!(on(t)||!Xt(t.name,!1))}function tI(t,e){return!(!bb(e)||!goe(t).includes(e))}function joe(t,e,n){return Xt(n,!1)?moe(t,e).includes(n):!1}function Foe(t,e,n){return Xt(n,!1)?yoe(t,e).includes(n):!1}function nI(t,e,n){let r=null;const i=zoe(t),o=Voe(e),a=Object.keys(i),l=Object.keys(o),f=rI(Object.keys(t)),h=rI(Object.keys(e)),d=f.filter(g=>!h.includes(g));return d.length&&(r=be("NON_CONFORMING_NAMESPACES",`${n} namespaces keys don't satisfy requiredNamespaces.
      Required: ${d.toString()}
      Received: ${Object.keys(e).toString()}`)),ml(a,l)||(r=be("NON_CONFORMING_NAMESPACES",`${n} namespaces chains don't satisfy required namespaces.
      Required: ${a.toString()}
      Approved: ${l.toString()}`)),Object.keys(e).forEach(g=>{if(!g.includes(":")||r)return;const y=rd(e[g].accounts);y.includes(g)||(r=be("NON_CONFORMING_NAMESPACES",`${n} namespaces accounts don't satisfy namespace accounts for ${g}
        Required: ${g}
        Approved: ${y.toString()}`))}),a.forEach(g=>{r||(ml(i[g].methods,o[g].methods)?ml(i[g].events,o[g].events)||(r=be("NON_CONFORMING_NAMESPACES",`${n} namespaces events don't satisfy namespace events for ${g}`)):r=be("NON_CONFORMING_NAMESPACES",`${n} namespaces methods don't satisfy namespace methods for ${g}`))}),r}function zoe(t){const e={};return Object.keys(t).forEach(n=>{var r;n.includes(":")?e[n]=t[n]:(r=t[n].chains)==null||r.forEach(i=>{e[i]={methods:t[n].methods,events:t[n].events}})}),e}function rI(t){return[...new Set(t.map(e=>e.includes(":")?e.split(":")[0]:e))]}function Voe(t){const e={};return Object.keys(t).forEach(n=>{if(n.includes(":"))e[n]=t[n];else{const r=rd(t[n].accounts);r==null||r.forEach(i=>{e[i]={accounts:t[n].accounts.filter(o=>o.includes(`${i}:`)),methods:t[n].methods,events:t[n].events}})}}),e}function Hoe(t,e){return uT(t,!1)&&t<=e.max&&t>=e.min}function iI(){const t=am();return new Promise(e=>{switch(t){case Xr.browser:e(qoe());break;case Xr.reactNative:e(Goe());break;case Xr.node:e(Koe());break;default:e(!0)}})}function qoe(){return ed()&&(navigator==null?void 0:navigator.onLine)}async function Goe(){if(Cc()&&typeof global<"u"&&global!=null&&global.NetInfo){const t=await(global==null?void 0:global.NetInfo.fetch());return t==null?void 0:t.isConnected}return!0}function Koe(){return!0}function Qoe(t){switch(am()){case Xr.browser:Yoe(t);break;case Xr.reactNative:Woe(t);break}}function Yoe(t){!Cc()&&ed()&&(window.addEventListener("online",()=>t(!0)),window.addEventListener("offline",()=>t(!1)))}function Woe(t){Cc()&&typeof global<"u"&&global!=null&&global.NetInfo&&(global==null||global.NetInfo.addEventListener(e=>t(e==null?void 0:e.isConnected)))}function Xoe(){var t;return ed()&&qo.getDocument()?((t=qo.getDocument())==null?void 0:t.visibilityState)==="visible":!0}const Jx={};class Ap{static get(e){return Jx[e]}static set(e,n){Jx[e]=n}static delete(e){delete Jx[e]}}function Zoe(t){const e=im.decode(t);if(e.length<33)throw new Error("Too short to contain a public key");return e.slice(1,33)}function Joe({publicKey:t,signature:e,payload:n}){var r;const i=n2(n.method),o=128|parseInt(((r=n.version)==null?void 0:r.toString())||"4"),a=nae(n.address),l=n.era==="00"?new Uint8Array([0]):n2(n.era);if(l.length!==1&&l.length!==2)throw new Error("Invalid era length");const f=parseInt(n.nonce,16),h=new Uint8Array([f&255,f>>8&255]),d=BigInt(`0x${tae(n.tip)}`),g=iae(d),y=new Uint8Array([0,...t,a,...e,...l,...h,...g,...i]),b=rae(y.length+1);return new Uint8Array([...b,o,...y])}function eae(t){const e=n2(t),n=Hne.blake2b(e,void 0,32);return"0x"+Buffer.from(n).toString("hex")}function n2(t){return new Uint8Array(t.replace(/^0x/,"").match(/.{1,2}/g).map(e=>parseInt(e,16)))}function tae(t){return t.startsWith("0x")?t.slice(2):t}function nae(t){const e=im.decode(t)[0];return e===42?0:e===60?2:1}function rae(t){if(t<64)return new Uint8Array([t<<2]);if(t<16384){const e=t<<2|1;return new Uint8Array([e&255,e>>8&255])}else if(t<1<<30){const e=t<<2|2;return new Uint8Array([e&255,e>>8&255,e>>16&255,e>>24&255])}else throw new Error("Compact encoding > 2^30 not supported")}function iae(t){if(t<BigInt(1)<<BigInt(6))return new Uint8Array([Number(t<<BigInt(2))]);if(t<BigInt(1)<<BigInt(14)){const e=t<<BigInt(2)|BigInt(1);return new Uint8Array([Number(e&BigInt(255)),Number(e>>BigInt(8)&BigInt(255))])}else if(t<BigInt(1)<<BigInt(30)){const e=t<<BigInt(2)|BigInt(2);return new Uint8Array([Number(e&BigInt(255)),Number(e>>BigInt(8)&BigInt(255)),Number(e>>BigInt(16)&BigInt(255)),Number(e>>BigInt(24)&BigInt(255))])}else throw new Error("BigInt compact encoding not supported > 2^30")}function sae(t){const e=Uint8Array.from(Buffer.from(t.signature,"hex")),n=Zoe(t.transaction.address),r=Joe({publicKey:n,signature:e,payload:t.transaction}),i=Buffer.from(r).toString("hex");return eae(i)}class ou{}let oae=class extends ou{constructor(e){super()}};const sI=we.FIVE_SECONDS,au={pulse:"heartbeat_pulse"};let aae=class Jk extends oae{constructor(e){super(e),this.events=new ei.EventEmitter,this.interval=sI,this.interval=(e==null?void 0:e.interval)||sI}static async init(e){const n=new Jk(e);return await n.init(),n}async init(){await this.initialize()}stop(){clearInterval(this.intervalRef)}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async initialize(){this.intervalRef=setInterval(()=>this.pulse(),we.toMiliseconds(this.interval))}pulse(){this.events.emit(au.pulse)}};const cae=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,lae=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,uae=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function fae(t,e){if(t==="__proto__"||t==="constructor"&&e&&typeof e=="object"&&"prototype"in e){hae(t);return}return e}function hae(t){console.warn(`[destr] Dropping "${t}" key to prevent prototype pollution.`)}function o0(t,e={}){if(typeof t!="string")return t;if(t[0]==='"'&&t[t.length-1]==='"'&&t.indexOf("\\")===-1)return t.slice(1,-1);const n=t.trim();if(n.length<=9)switch(n.toLowerCase()){case"true":return!0;case"false":return!1;case"undefined":return;case"null":return null;case"nan":return Number.NaN;case"infinity":return Number.POSITIVE_INFINITY;case"-infinity":return Number.NEGATIVE_INFINITY}if(!uae.test(t)){if(e.strict)throw new SyntaxError("[destr] Invalid JSON");return t}try{if(cae.test(t)||lae.test(t)){if(e.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(t,fae)}return JSON.parse(t)}catch(r){if(e.strict)throw r;return t}}function dae(t){return!t||typeof t.then!="function"?Promise.resolve(t):t}function pn(t,...e){try{return dae(t(...e))}catch(n){return Promise.reject(n)}}function pae(t){const e=typeof t;return t===null||e!=="object"&&e!=="function"}function gae(t){const e=Object.getPrototypeOf(t);return!e||e.isPrototypeOf(Object)}function k0(t){if(pae(t))return String(t);if(gae(t)||Array.isArray(t))return JSON.stringify(t);if(typeof t.toJSON=="function")return k0(t.toJSON());throw new Error("[unstorage] Cannot stringify value!")}const r2="base64:";function mae(t){return typeof t=="string"?t:r2+wae(t)}function yae(t){return typeof t!="string"||!t.startsWith(r2)?t:bae(t.slice(r2.length))}function bae(t){return globalThis.Buffer?Buffer.from(t,"base64"):Uint8Array.from(globalThis.atob(t),e=>e.codePointAt(0))}function wae(t){return globalThis.Buffer?Buffer.from(t).toString("base64"):globalThis.btoa(String.fromCodePoint(...t))}function mr(t){var e;return t&&((e=t.split("?")[0])==null?void 0:e.replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,""))||""}function vae(...t){return mr(t.join(":"))}function a0(t){return t=mr(t),t?t+":":""}function xae(t,e){if(e===void 0)return!0;let n=0,r=t.indexOf(":");for(;r>-1;)n++,r=t.indexOf(":",r+1);return n<=e}function Eae(t,e){return e?t.startsWith(e)&&t[t.length-1]!=="$":t[t.length-1]!=="$"}const Aae="memory",Sae=()=>{const t=new Map;return{name:Aae,getInstance:()=>t,hasItem(e){return t.has(e)},getItem(e){return t.get(e)??null},getItemRaw(e){return t.get(e)??null},setItem(e,n){t.set(e,n)},setItemRaw(e,n){t.set(e,n)},removeItem(e){t.delete(e)},getKeys(){return[...t.keys()]},clear(){t.clear()},dispose(){t.clear()}}};function Tae(t={}){const e={mounts:{"":t.driver||Sae()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},n=h=>{for(const d of e.mountpoints)if(h.startsWith(d))return{base:d,relativeKey:h.slice(d.length),driver:e.mounts[d]};return{base:"",relativeKey:h,driver:e.mounts[""]}},r=(h,d)=>e.mountpoints.filter(g=>g.startsWith(h)||d&&h.startsWith(g)).map(g=>({relativeBase:h.length>g.length?h.slice(g.length):void 0,mountpoint:g,driver:e.mounts[g]})),i=(h,d)=>{if(e.watching){d=mr(d);for(const g of e.watchListeners)g(h,d)}},o=async()=>{if(!e.watching){e.watching=!0;for(const h in e.mounts)e.unwatch[h]=await oI(e.mounts[h],i,h)}},a=async()=>{if(e.watching){for(const h in e.unwatch)await e.unwatch[h]();e.unwatch={},e.watching=!1}},l=(h,d,g)=>{const y=new Map,b=x=>{let w=y.get(x.base);return w||(w={driver:x.driver,base:x.base,items:[]},y.set(x.base,w)),w};for(const x of h){const w=typeof x=="string",E=mr(w?x:x.key),A=w?void 0:x.value,C=w||!x.options?d:{...d,...x.options},S=n(E);b(S).items.push({key:E,value:A,relativeKey:S.relativeKey,options:C})}return Promise.all([...y.values()].map(x=>g(x))).then(x=>x.flat())},f={hasItem(h,d={}){h=mr(h);const{relativeKey:g,driver:y}=n(h);return pn(y.hasItem,g,d)},getItem(h,d={}){h=mr(h);const{relativeKey:g,driver:y}=n(h);return pn(y.getItem,g,d).then(b=>o0(b))},getItems(h,d={}){return l(h,d,g=>g.driver.getItems?pn(g.driver.getItems,g.items.map(y=>({key:y.relativeKey,options:y.options})),d).then(y=>y.map(b=>({key:vae(g.base,b.key),value:o0(b.value)}))):Promise.all(g.items.map(y=>pn(g.driver.getItem,y.relativeKey,y.options).then(b=>({key:y.key,value:o0(b)})))))},getItemRaw(h,d={}){h=mr(h);const{relativeKey:g,driver:y}=n(h);return y.getItemRaw?pn(y.getItemRaw,g,d):pn(y.getItem,g,d).then(b=>yae(b))},async setItem(h,d,g={}){if(d===void 0)return f.removeItem(h);h=mr(h);const{relativeKey:y,driver:b}=n(h);b.setItem&&(await pn(b.setItem,y,k0(d),g),b.watch||i("update",h))},async setItems(h,d){await l(h,d,async g=>{if(g.driver.setItems)return pn(g.driver.setItems,g.items.map(y=>({key:y.relativeKey,value:k0(y.value),options:y.options})),d);g.driver.setItem&&await Promise.all(g.items.map(y=>pn(g.driver.setItem,y.relativeKey,k0(y.value),y.options)))})},async setItemRaw(h,d,g={}){if(d===void 0)return f.removeItem(h,g);h=mr(h);const{relativeKey:y,driver:b}=n(h);if(b.setItemRaw)await pn(b.setItemRaw,y,d,g);else if(b.setItem)await pn(b.setItem,y,mae(d),g);else return;b.watch||i("update",h)},async removeItem(h,d={}){typeof d=="boolean"&&(d={removeMeta:d}),h=mr(h);const{relativeKey:g,driver:y}=n(h);y.removeItem&&(await pn(y.removeItem,g,d),(d.removeMeta||d.removeMata)&&await pn(y.removeItem,g+"$",d),y.watch||i("remove",h))},async getMeta(h,d={}){typeof d=="boolean"&&(d={nativeOnly:d}),h=mr(h);const{relativeKey:g,driver:y}=n(h),b=Object.create(null);if(y.getMeta&&Object.assign(b,await pn(y.getMeta,g,d)),!d.nativeOnly){const x=await pn(y.getItem,g+"$",d).then(w=>o0(w));x&&typeof x=="object"&&(typeof x.atime=="string"&&(x.atime=new Date(x.atime)),typeof x.mtime=="string"&&(x.mtime=new Date(x.mtime)),Object.assign(b,x))}return b},setMeta(h,d,g={}){return this.setItem(h+"$",d,g)},removeMeta(h,d={}){return this.removeItem(h+"$",d)},async getKeys(h,d={}){var E;h=a0(h);const g=r(h,!0);let y=[];const b=[];let x=!0;for(const A of g){(E=A.driver.flags)!=null&&E.maxDepth||(x=!1);const C=await pn(A.driver.getKeys,A.relativeBase,d);for(const S of C){const R=A.mountpoint+mr(S);y.some(O=>R.startsWith(O))||b.push(R)}y=[A.mountpoint,...y.filter(S=>!S.startsWith(A.mountpoint))]}const w=d.maxDepth!==void 0&&!x;return b.filter(A=>(!w||xae(A,d.maxDepth))&&Eae(A,h))},async clear(h,d={}){h=a0(h),await Promise.all(r(h,!1).map(async g=>{if(g.driver.clear)return pn(g.driver.clear,g.relativeBase,d);if(g.driver.removeItem){const y=await g.driver.getKeys(g.relativeBase||"",d);return Promise.all(y.map(b=>g.driver.removeItem(b,d)))}}))},async dispose(){await Promise.all(Object.values(e.mounts).map(h=>aI(h)))},async watch(h){return await o(),e.watchListeners.push(h),async()=>{e.watchListeners=e.watchListeners.filter(d=>d!==h),e.watchListeners.length===0&&await a()}},async unwatch(){e.watchListeners=[],await a()},mount(h,d){if(h=a0(h),h&&e.mounts[h])throw new Error(`already mounted at ${h}`);return h&&(e.mountpoints.push(h),e.mountpoints.sort((g,y)=>y.length-g.length)),e.mounts[h]=d,e.watching&&Promise.resolve(oI(d,i,h)).then(g=>{e.unwatch[h]=g}).catch(console.error),f},async unmount(h,d=!0){var g,y;h=a0(h),!(!h||!e.mounts[h])&&(e.watching&&h in e.unwatch&&((y=(g=e.unwatch)[h])==null||y.call(g),delete e.unwatch[h]),d&&await aI(e.mounts[h]),e.mountpoints=e.mountpoints.filter(b=>b!==h),delete e.mounts[h])},getMount(h=""){h=mr(h)+":";const d=n(h);return{driver:d.driver,base:d.base}},getMounts(h="",d={}){return h=mr(h),r(h,d.parents).map(y=>({driver:y.driver,base:y.mountpoint}))},keys:(h,d={})=>f.getKeys(h,d),get:(h,d={})=>f.getItem(h,d),set:(h,d,g={})=>f.setItem(h,d,g),has:(h,d={})=>f.hasItem(h,d),del:(h,d={})=>f.removeItem(h,d),remove:(h,d={})=>f.removeItem(h,d)};return f}function oI(t,e,n){return t.watch?t.watch((r,i)=>e(r,n+i)):()=>{}}async function aI(t){typeof t.dispose=="function"&&await pn(t.dispose)}function cu(t){return new Promise((e,n)=>{t.oncomplete=t.onsuccess=()=>e(t.result),t.onabort=t.onerror=()=>n(t.error)})}function eU(t,e){let n;const r=()=>{if(n)return n;const i=indexedDB.open(t);return i.onupgradeneeded=()=>i.result.createObjectStore(e),n=cu(i),n.then(o=>{o.onclose=()=>n=void 0},()=>{}),n};return(i,o)=>r().then(a=>o(a.transaction(e,i).objectStore(e)))}let eE;function fm(){return eE||(eE=eU("keyval-store","keyval")),eE}function cI(t,e=fm()){return e("readonly",n=>cu(n.get(t)))}function Cae(t,e,n=fm()){return n("readwrite",r=>(r.put(e,t),cu(r.transaction)))}function Oae(t,e=fm()){return e("readwrite",n=>(n.delete(t),cu(n.transaction)))}function Dae(t=fm()){return t("readwrite",e=>(e.clear(),cu(e.transaction)))}function Pae(t,e){return t.openCursor().onsuccess=function(){this.result&&(e(this.result),this.result.continue())},cu(t.transaction)}function Nae(t=fm()){return t("readonly",e=>{if(e.getAllKeys)return cu(e.getAllKeys());const n=[];return Pae(e,r=>n.push(r.key)).then(()=>n)})}const Rae="idb-keyval";var _ae=(t={})=>{const e=t.base&&t.base.length>0?`${t.base}:`:"",n=i=>e+i;let r;return t.dbName&&t.storeName&&(r=eU(t.dbName,t.storeName)),{name:Rae,options:t,async hasItem(i){return!(typeof await cI(n(i),r)>"u")},async getItem(i){return await cI(n(i),r)??null},setItem(i,o){return Cae(n(i),o,r)},removeItem(i){return Oae(n(i),r)},getKeys(){return Nae(r)},clear(){return Dae(r)}}};const Iae="WALLET_CONNECT_V2_INDEXED_DB",Bae="keyvaluestorage";let Mae=class{constructor(){this.indexedDb=Tae({driver:_ae({dbName:Iae,storeName:Bae})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map(e=>[e.key,e.value])}async getItem(e){const n=await this.indexedDb.getItem(e);if(n!==null)return n}async setItem(e,n){await this.indexedDb.setItem(e,Go(n))}async removeItem(e){await this.indexedDb.removeItem(e)}};var tE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},U0={exports:{}};(function(){let t;function e(){}t=e,t.prototype.getItem=function(n){return this.hasOwnProperty(n)?String(this[n]):null},t.prototype.setItem=function(n,r){this[n]=String(r)},t.prototype.removeItem=function(n){delete this[n]},t.prototype.clear=function(){const n=this;Object.keys(n).forEach(function(r){n[r]=void 0,delete n[r]})},t.prototype.key=function(n){return n=n||0,Object.keys(this)[n]},t.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),typeof tE<"u"&&tE.localStorage?U0.exports=tE.localStorage:typeof window<"u"&&window.localStorage?U0.exports=window.localStorage:U0.exports=new e})();function kae(t){var e;return[t[0],Wl((e=t[1])!=null?e:"")]}let Uae=class{constructor(){this.localStorage=U0.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map(kae)}async getItem(e){const n=this.localStorage.getItem(e);if(n!==null)return Wl(n)}async setItem(e,n){this.localStorage.setItem(e,Go(n))}async removeItem(e){this.localStorage.removeItem(e)}};const Lae="wc_storage_version",lI=1,$ae=async(t,e,n)=>{const r=Lae,i=await e.getItem(r);if(i&&i>=lI){n(e);return}const o=await t.getKeys();if(!o.length){n(e);return}const a=[];for(;o.length;){const l=o.shift();if(!l)continue;const f=l.toLowerCase();if(f.includes("wc@")||f.includes("walletconnect")||f.includes("wc_")||f.includes("wallet_connect")){const h=await t.getItem(l);await e.setItem(l,h),a.push(l)}}await e.setItem(r,lI),n(e),jae(t,a)},jae=async(t,e)=>{e.length&&e.forEach(async n=>{await t.removeItem(n)})};let Fae=class{constructor(){this.initialized=!1,this.setInitialized=n=>{this.storage=n,this.initialized=!0};const e=new Uae;this.storage=e;try{const n=new Mae;$ae(e,n,this.setInitialized)}catch{this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(e){return await this.initialize(),this.storage.getItem(e)}async setItem(e,n){return await this.initialize(),this.storage.setItem(e,n)}async removeItem(e){return await this.initialize(),this.storage.removeItem(e)}async initialize(){this.initialized||await new Promise(e=>{const n=setInterval(()=>{this.initialized&&(clearInterval(n),e())},20)})}};var nE,uI;function zae(){if(uI)return nE;uI=1;function t(n){try{return JSON.stringify(n)}catch{return'"[Circular]"'}}nE=e;function e(n,r,i){var o=i&&i.stringify||t,a=1;if(typeof n=="object"&&n!==null){var l=r.length+a;if(l===1)return n;var f=new Array(l);f[0]=o(n);for(var h=1;h<l;h++)f[h]=o(r[h]);return f.join(" ")}if(typeof n!="string")return n;var d=r.length;if(d===0)return n;for(var g="",y=1-a,b=-1,x=n&&n.length||0,w=0;w<x;){if(n.charCodeAt(w)===37&&w+1<x){switch(b=b>-1?b:0,n.charCodeAt(w+1)){case 100:case 102:if(y>=d||r[y]==null)break;b<w&&(g+=n.slice(b,w)),g+=Number(r[y]),b=w+2,w++;break;case 105:if(y>=d||r[y]==null)break;b<w&&(g+=n.slice(b,w)),g+=Math.floor(Number(r[y])),b=w+2,w++;break;case 79:case 111:case 106:if(y>=d||r[y]===void 0)break;b<w&&(g+=n.slice(b,w));var E=typeof r[y];if(E==="string"){g+="'"+r[y]+"'",b=w+2,w++;break}if(E==="function"){g+=r[y].name||"<anonymous>",b=w+2,w++;break}g+=o(r[y]),b=w+2,w++;break;case 115:if(y>=d)break;b<w&&(g+=n.slice(b,w)),g+=String(r[y]),b=w+2,w++;break;case 37:b<w&&(g+=n.slice(b,w)),g+="%",b=w+2,w++,y--;break}++y}++w}return b===-1?n:(b<x&&(g+=n.slice(b)),g)}return nE}var rE,fI;function Vae(){if(fI)return rE;fI=1;const t=zae();rE=i;const e=O().console||{},n={mapHttpRequest:x,mapHttpResponse:x,wrapRequestSerializer:w,wrapResponseSerializer:w,wrapErrorSerializer:w,req:x,res:x,err:y};function r(P,M){return Array.isArray(P)?P.filter(function(k){return k!=="!stdSerializers.err"}):P===!0?Object.keys(M):!1}function i(P){P=P||{},P.browser=P.browser||{};const M=P.browser.transmit;if(M&&typeof M.send!="function")throw Error("pino: transmit option must have a send function");const I=P.browser.write||e;P.browser.write&&(P.browser.asObject=!0);const k=P.serializers||{},z=r(P.browser.serialize,k);let V=P.browser.serialize;Array.isArray(P.browser.serialize)&&P.browser.serialize.indexOf("!stdSerializers.err")>-1&&(V=!1);const G=["error","fatal","warn","info","debug","trace"];typeof I=="function"&&(I.error=I.fatal=I.warn=I.info=I.debug=I.trace=I),P.enabled===!1&&(P.level="silent");const Z=P.level||"info",Y=Object.create(I);Y.log||(Y.log=E),Object.defineProperty(Y,"levelVal",{get:T}),Object.defineProperty(Y,"level",{get:U,set:$});const D={transmit:M,serialize:z,asObject:P.browser.asObject,levels:G,timestamp:b(P)};Y.levels=i.levels,Y.level=Z,Y.setMaxListeners=Y.getMaxListeners=Y.emit=Y.addListener=Y.on=Y.prependListener=Y.once=Y.prependOnceListener=Y.removeListener=Y.removeAllListeners=Y.listeners=Y.listenerCount=Y.eventNames=Y.write=Y.flush=E,Y.serializers=k,Y._serialize=z,Y._stdErrSerialize=V,Y.child=H,M&&(Y._logEvent=g());function T(){return this.level==="silent"?1/0:this.levels.values[this.level]}function U(){return this._level}function $(_){if(_!=="silent"&&!this.levels.values[_])throw Error("unknown level "+_);this._level=_,o(D,Y,"error","log"),o(D,Y,"fatal","error"),o(D,Y,"warn","error"),o(D,Y,"info","log"),o(D,Y,"debug","log"),o(D,Y,"trace","log")}function H(_,K){if(!_)throw new Error("missing bindings for child Pino");K=K||{},z&&_.serializers&&(K.serializers=_.serializers);const te=K.serializers;if(z&&te){var X=Object.assign({},k,te),ne=P.browser.serialize===!0?Object.keys(X):z;delete _.serializers,f([_],ne,X,this._stdErrSerialize)}function fe(ue){this._childLevel=(ue._childLevel|0)+1,this.error=h(ue,_,"error"),this.fatal=h(ue,_,"fatal"),this.warn=h(ue,_,"warn"),this.info=h(ue,_,"info"),this.debug=h(ue,_,"debug"),this.trace=h(ue,_,"trace"),X&&(this.serializers=X,this._serialize=ne),M&&(this._logEvent=g([].concat(ue._logEvent.bindings,_)))}return fe.prototype=this,new fe(this)}return Y}i.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},i.stdSerializers=n,i.stdTimeFunctions=Object.assign({},{nullTime:A,epochTime:C,unixTime:S,isoTime:R});function o(P,M,I,k){const z=Object.getPrototypeOf(M);M[I]=M.levelVal>M.levels.values[I]?E:z[I]?z[I]:e[I]||e[k]||E,a(P,M,I)}function a(P,M,I){!P.transmit&&M[I]===E||(M[I]=function(k){return function(){const V=P.timestamp(),G=new Array(arguments.length),Z=Object.getPrototypeOf&&Object.getPrototypeOf(this)===e?e:this;for(var Y=0;Y<G.length;Y++)G[Y]=arguments[Y];if(P.serialize&&!P.asObject&&f(G,this._serialize,this.serializers,this._stdErrSerialize),P.asObject?k.call(Z,l(this,I,G,V)):k.apply(Z,G),P.transmit){const D=P.transmit.level||M.level,T=i.levels.values[D],U=i.levels.values[I];if(U<T)return;d(this,{ts:V,methodLevel:I,methodValue:U,transmitValue:i.levels.values[P.transmit.level||M.level],send:P.transmit.send,val:M.levelVal},G)}}}(M[I]))}function l(P,M,I,k){P._serialize&&f(I,P._serialize,P.serializers,P._stdErrSerialize);const z=I.slice();let V=z[0];const G={};k&&(G.time=k),G.level=i.levels.values[M];let Z=(P._childLevel|0)+1;if(Z<1&&(Z=1),V!==null&&typeof V=="object"){for(;Z--&&typeof z[0]=="object";)Object.assign(G,z.shift());V=z.length?t(z.shift(),z):void 0}else typeof V=="string"&&(V=t(z.shift(),z));return V!==void 0&&(G.msg=V),G}function f(P,M,I,k){for(const z in P)if(k&&P[z]instanceof Error)P[z]=i.stdSerializers.err(P[z]);else if(typeof P[z]=="object"&&!Array.isArray(P[z]))for(const V in P[z])M&&M.indexOf(V)>-1&&V in I&&(P[z][V]=I[V](P[z][V]))}function h(P,M,I){return function(){const k=new Array(1+arguments.length);k[0]=M;for(var z=1;z<k.length;z++)k[z]=arguments[z-1];return P[I].apply(this,k)}}function d(P,M,I){const k=M.send,z=M.ts,V=M.methodLevel,G=M.methodValue,Z=M.val,Y=P._logEvent.bindings;f(I,P._serialize||Object.keys(P.serializers),P.serializers,P._stdErrSerialize===void 0?!0:P._stdErrSerialize),P._logEvent.ts=z,P._logEvent.messages=I.filter(function(D){return Y.indexOf(D)===-1}),P._logEvent.level.label=V,P._logEvent.level.value=G,k(V,P._logEvent,Z),P._logEvent=g(Y)}function g(P){return{ts:0,messages:[],bindings:P||[],level:{label:"",value:0}}}function y(P){const M={type:P.constructor.name,msg:P.message,stack:P.stack};for(const I in P)M[I]===void 0&&(M[I]=P[I]);return M}function b(P){return typeof P.timestamp=="function"?P.timestamp:P.timestamp===!1?A:C}function x(){return{}}function w(P){return P}function E(){}function A(){return!1}function C(){return Date.now()}function S(){return Math.round(Date.now()/1e3)}function R(){return new Date(Date.now()).toISOString()}function O(){function P(M){return typeof M<"u"&&M}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return P(self)||P(window)||P(this)||{}}}return rE}var Tf=Vae();const hm=Kg(Tf),Hae={level:"info"},dm="custom_context",fT=1e3*1024;let qae=class{constructor(e){this.nodeValue=e,this.sizeInBytes=new TextEncoder().encode(this.nodeValue).length,this.next=null}get value(){return this.nodeValue}get size(){return this.sizeInBytes}},hI=class{constructor(e){this.head=null,this.tail=null,this.lengthInNodes=0,this.maxSizeInBytes=e,this.sizeInBytes=0}append(e){const n=new qae(e);if(n.size>this.maxSizeInBytes)throw new Error(`[LinkedList] Value too big to insert into list: ${e} with size ${n.size}`);for(;this.size+n.size>this.maxSizeInBytes;)this.shift();this.head?(this.tail&&(this.tail.next=n),this.tail=n):(this.head=n,this.tail=n),this.lengthInNodes++,this.sizeInBytes+=n.size}shift(){if(!this.head)return;const e=this.head;this.head=this.head.next,this.head||(this.tail=null),this.lengthInNodes--,this.sizeInBytes-=e.size}toArray(){const e=[];let n=this.head;for(;n!==null;)e.push(n.value),n=n.next;return e}get length(){return this.lengthInNodes}get size(){return this.sizeInBytes}toOrderedArray(){return Array.from(this)}[Symbol.iterator](){let e=this.head;return{next:()=>{if(!e)return{done:!0,value:null};const n=e.value;return e=e.next,{done:!1,value:n}}}}},tU=class{constructor(e,n=fT){this.level=e??"error",this.levelValue=Tf.levels.values[this.level],this.MAX_LOG_SIZE_IN_BYTES=n,this.logs=new hI(this.MAX_LOG_SIZE_IN_BYTES)}forwardToConsole(e,n){n===Tf.levels.values.error?console.error(e):n===Tf.levels.values.warn?console.warn(e):n===Tf.levels.values.debug?console.debug(e):n===Tf.levels.values.trace?console.trace(e):console.log(e)}appendToLogs(e){this.logs.append(Go({timestamp:new Date().toISOString(),log:e}));const n=typeof e=="string"?JSON.parse(e).level:e.level;n>=this.levelValue&&this.forwardToConsole(e,n)}getLogs(){return this.logs}clearLogs(){this.logs=new hI(this.MAX_LOG_SIZE_IN_BYTES)}getLogArray(){return Array.from(this.logs)}logsToBlob(e){const n=this.getLogArray();return n.push(Go({extraMetadata:e})),new Blob(n,{type:"application/json"})}},Gae=class{constructor(e,n=fT){this.baseChunkLogger=new tU(e,n)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}downloadLogsBlobInBrowser(e){const n=URL.createObjectURL(this.logsToBlob(e)),r=document.createElement("a");r.href=n,r.download=`walletconnect-logs-${new Date().toISOString()}.txt`,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(n)}},Kae=class{constructor(e,n=fT){this.baseChunkLogger=new tU(e,n)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}};var Qae=Object.defineProperty,Yae=Object.defineProperties,Wae=Object.getOwnPropertyDescriptors,dI=Object.getOwnPropertySymbols,Xae=Object.prototype.hasOwnProperty,Zae=Object.prototype.propertyIsEnumerable,pI=(t,e,n)=>e in t?Qae(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,wb=(t,e)=>{for(var n in e||(e={}))Xae.call(e,n)&&pI(t,n,e[n]);if(dI)for(var n of dI(e))Zae.call(e,n)&&pI(t,n,e[n]);return t},vb=(t,e)=>Yae(t,Wae(e));function hw(t){return vb(wb({},t),{level:(t==null?void 0:t.level)||Hae.level})}function Jae(t,e=dm){return t[e]||""}function ece(t,e,n=dm){return t[n]=e,t}function _r(t,e=dm){let n="";return typeof t.bindings>"u"?n=Jae(t,e):n=t.bindings().context||"",n}function tce(t,e,n=dm){const r=_r(t,n);return r.trim()?`${r}/${e}`:e}function ar(t,e,n=dm){const r=tce(t,e,n),i=t.child({context:r});return ece(i,r,n)}function nce(t){var e,n;const r=new Gae((e=t.opts)==null?void 0:e.level,t.maxSizeInBytes);return{logger:hm(vb(wb({},t.opts),{level:"trace",browser:vb(wb({},(n=t.opts)==null?void 0:n.browser),{write:i=>r.write(i)})})),chunkLoggerController:r}}function rce(t){var e;const n=new Kae((e=t.opts)==null?void 0:e.level,t.maxSizeInBytes);return{logger:hm(vb(wb({},t.opts),{level:"trace"}),n),chunkLoggerController:n}}function ice(t){return typeof t.loggerOverride<"u"&&typeof t.loggerOverride!="string"?{logger:t.loggerOverride,chunkLoggerController:null}:typeof window<"u"?nce(t):rce(t)}var sce=Object.defineProperty,oce=(t,e,n)=>e in t?sce(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,gI=(t,e,n)=>oce(t,typeof e!="symbol"?e+"":e,n);let ace=class extends ou{constructor(e){super(),this.opts=e,gI(this,"protocol","wc"),gI(this,"version",2)}};var cce=Object.defineProperty,lce=(t,e,n)=>e in t?cce(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,uce=(t,e,n)=>lce(t,e+"",n);let fce=class extends ou{constructor(e,n){super(),this.core=e,this.logger=n,uce(this,"records",new Map)}},hce=class{constructor(e,n){this.logger=e,this.core=n}};class dce extends ou{constructor(e,n){super(),this.relayer=e,this.logger=n}}let pce=class extends ou{constructor(e){super()}},gce=class{constructor(e,n,r,i){this.core=e,this.logger=n,this.name=r}},mce=class extends ou{constructor(e,n){super(),this.relayer=e,this.logger=n}},yce=class extends ou{constructor(e,n){super(),this.core=e,this.logger=n}},bce=class{constructor(e,n,r){this.core=e,this.logger=n,this.store=r}},wce=class{constructor(e,n){this.projectId=e,this.logger=n}},vce=class{constructor(e,n,r){this.core=e,this.logger=n,this.telemetryEnabled=r}};var xce=Object.defineProperty,Ece=(t,e,n)=>e in t?xce(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,mI=(t,e,n)=>Ece(t,typeof e!="symbol"?e+"":e,n);let Ace=class{constructor(e){this.opts=e,mI(this,"protocol","wc"),mI(this,"version",2)}},Sce=class{constructor(e){this.client=e}};const Tce="PARSE_ERROR",Cce="INVALID_REQUEST",Oce="METHOD_NOT_FOUND",Dce="INVALID_PARAMS",nU="INTERNAL_ERROR",hT="SERVER_ERROR",Pce=[-32700,-32600,-32601,-32602,-32603],tg={[Tce]:{code:-32700,message:"Parse error"},[Cce]:{code:-32600,message:"Invalid Request"},[Oce]:{code:-32601,message:"Method not found"},[Dce]:{code:-32602,message:"Invalid params"},[nU]:{code:-32603,message:"Internal error"},[hT]:{code:-32e3,message:"Server error"}},rU=hT;function Nce(t){return Pce.includes(t)}function yI(t){return Object.keys(tg).includes(t)?tg[t]:tg[rU]}function Rce(t){const e=Object.values(tg).find(n=>n.code===t);return e||tg[rU]}function iU(t,e,n){return t.message.includes("getaddrinfo ENOTFOUND")||t.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${n} RPC url at ${e}`):t}var iE={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var i2=function(t,e){return i2=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},i2(t,e)};function _ce(t,e){i2(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var s2=function(){return s2=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},s2.apply(this,arguments)};function Ice(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Bce(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var l=t.length-1;l>=0;l--)(a=t[l])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o}function Mce(t,e){return function(n,r){e(n,r,t)}}function kce(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function Uce(t,e,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function l(d){try{h(r.next(d))}catch(g){a(g)}}function f(d){try{h(r.throw(d))}catch(g){a(g)}}function h(d){d.done?o(d.value):i(d.value).then(l,f)}h((r=r.apply(t,e||[])).next())})}function Lce(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,a;return a={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function l(h){return function(d){return f([h,d])}}function f(h){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=h[0]&2?i.return:h[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,h[1])).done)return o;switch(i=0,o&&(h=[h[0]&2,o.value]),h[0]){case 0:case 1:o=h;break;case 4:return n.label++,{value:h[1],done:!1};case 5:n.label++,i=h[1],h=[0];continue;case 7:h=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(h[0]===6||h[0]===2)){n=0;continue}if(h[0]===3&&(!o||h[1]>o[0]&&h[1]<o[3])){n.label=h[1];break}if(h[0]===6&&n.label<o[1]){n.label=o[1],o=h;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(h);break}o[2]&&n.ops.pop(),n.trys.pop();continue}h=e.call(t,n)}catch(d){h=[6,d],i=0}finally{r=o=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}}function $ce(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}function jce(t,e){for(var n in t)n!=="default"&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function o2(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function sU(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(l){a={error:l}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return o}function Fce(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(sU(arguments[e]));return t}function zce(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var o=arguments[e],a=0,l=o.length;a<l;a++,i++)r[i]=o[a];return r}function Rg(t){return this instanceof Rg?(this.v=t,this):new Rg(t)}function Vce(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i={},a("next"),a("throw"),a("return"),i[Symbol.asyncIterator]=function(){return this},i;function a(y){r[y]&&(i[y]=function(b){return new Promise(function(x,w){o.push([y,b,x,w])>1||l(y,b)})})}function l(y,b){try{f(r[y](b))}catch(x){g(o[0][3],x)}}function f(y){y.value instanceof Rg?Promise.resolve(y.value.v).then(h,d):g(o[0][2],y)}function h(y){l("next",y)}function d(y){l("throw",y)}function g(y,b){y(b),o.shift(),o.length&&l(o[0][0],o[0][1])}}function Hce(t){var e,n;return e={},r("next"),r("throw",function(i){throw i}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(i,o){e[i]=t[i]?function(a){return(n=!n)?{value:Rg(t[i](a)),done:i==="return"}:o?o(a):a}:o}}function qce(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof o2=="function"?o2(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(a){return new Promise(function(l,f){a=t[o](a),i(l,f,a.done,a.value)})}}function i(o,a,l,f){Promise.resolve(f).then(function(h){o({value:h,done:l})},a)}}function Gce(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function Kce(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function Qce(t){return t&&t.__esModule?t:{default:t}}function Yce(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function Wce(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}const Xce=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return s2},__asyncDelegator:Hce,__asyncGenerator:Vce,__asyncValues:qce,__await:Rg,__awaiter:Uce,__classPrivateFieldGet:Yce,__classPrivateFieldSet:Wce,__createBinding:$ce,__decorate:Bce,__exportStar:jce,__extends:_ce,__generator:Lce,__importDefault:Qce,__importStar:Kce,__makeTemplateObject:Gce,__metadata:kce,__param:Mce,__read:sU,__rest:Ice,__spread:Fce,__spreadArrays:zce,__values:o2},Symbol.toStringTag,{value:"Module"})),Zce=J8(Xce);var yo={},bI;function Jce(){if(bI)return yo;bI=1,Object.defineProperty(yo,"__esModule",{value:!0}),yo.isBrowserCryptoAvailable=yo.getSubtleCrypto=yo.getBrowerCrypto=void 0;function t(){return(Ns==null?void 0:Ns.crypto)||(Ns==null?void 0:Ns.msCrypto)||{}}yo.getBrowerCrypto=t;function e(){const r=t();return r.subtle||r.webkitSubtle}yo.getSubtleCrypto=e;function n(){return!!t()&&!!e()}return yo.isBrowserCryptoAvailable=n,yo}var bo={},wI;function ele(){if(wI)return bo;wI=1,Object.defineProperty(bo,"__esModule",{value:!0}),bo.isBrowser=bo.isNode=bo.isReactNative=void 0;function t(){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"}bo.isReactNative=t;function e(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}bo.isNode=e;function n(){return!t()&&!e()}return bo.isBrowser=n,bo}var vI;function tle(){return vI||(vI=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=Zce;e.__exportStar(Jce(),t),e.__exportStar(ele(),t)}(iE)),iE}var nle=tle();function bs(t=3){const e=Date.now()*Math.pow(10,t),n=Math.floor(Math.random()*Math.pow(10,t));return e+n}function fc(t=6){return BigInt(bs(t))}function Rs(t,e,n){return{id:n||bs(),jsonrpc:"2.0",method:t,params:e}}function _g(t,e){return{id:t,jsonrpc:"2.0",result:e}}function dw(t,e,n){return{id:t,jsonrpc:"2.0",error:rle(e)}}function rle(t,e){return typeof t>"u"?yI(nU):(typeof t=="string"&&(t=Object.assign(Object.assign({},yI(hT)),{message:t})),Nce(t.code)&&(t=Rce(t.code)),t)}class ile{}class sle extends ile{constructor(){super()}}class ole extends sle{constructor(e){super()}}const ale="^https?:",cle="^wss?:";function lle(t){const e=t.match(new RegExp(/^\w+:/,"gi"));if(!(!e||!e.length))return e[0]}function oU(t,e){const n=lle(t);return typeof n>"u"?!1:new RegExp(e).test(n)}function xI(t){return oU(t,ale)}function EI(t){return oU(t,cle)}function ule(t){return new RegExp("wss?://localhost(:d{2,5})?").test(t)}function aU(t){return typeof t=="object"&&"id"in t&&"jsonrpc"in t&&t.jsonrpc==="2.0"}function dT(t){return aU(t)&&"method"in t}function pw(t){return aU(t)&&(ws(t)||Ci(t))}function ws(t){return"result"in t}function Ci(t){return"error"in t}let Ii=class extends ole{constructor(e){super(e),this.events=new ei.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(e),this.connection.connected&&this.registerEventListeners()}async connect(e=this.connection){await this.open(e)}async disconnect(){await this.close()}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async request(e,n){return this.requestStrict(Rs(e.method,e.params||[],e.id||fc().toString()),n)}async requestStrict(e,n){return new Promise(async(r,i)=>{if(!this.connection.connected)try{await this.open()}catch(o){i(o)}this.events.on(`${e.id}`,o=>{Ci(o)?i(o.error):r(o.result)});try{await this.connection.send(e,n)}catch(o){i(o)}})}setConnection(e=this.connection){return e}onPayload(e){this.events.emit("payload",e),pw(e)?this.events.emit(`${e.id}`,e):this.events.emit("message",{type:e.method,data:e.params})}onClose(e){e&&e.code===3e3&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${e.code} ${e.reason?`(${e.reason})`:""}`)),this.events.emit("disconnect")}async open(e=this.connection){this.connection===e&&this.connection.connected||(this.connection.connected&&this.close(),typeof e=="string"&&(await this.connection.open(e),e=this.connection),this.connection=this.setConnection(e),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",e=>this.onPayload(e)),this.connection.on("close",e=>this.onClose(e)),this.connection.on("error",e=>this.events.emit("error",e)),this.connection.on("register_error",e=>this.onClose()),this.hasRegisteredEventListeners=!0)}};const fle=()=>typeof WebSocket<"u"?WebSocket:typeof global<"u"&&typeof global.WebSocket<"u"?global.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:typeof self<"u"&&typeof self.WebSocket<"u"?self.WebSocket:require("ws"),hle=()=>typeof WebSocket<"u"||typeof global<"u"&&typeof global.WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"||typeof self<"u"&&typeof self.WebSocket<"u",AI=t=>t.split("?")[0],SI=10,dle=fle();let ple=class{constructor(e){if(this.url=e,this.events=new ei.EventEmitter,this.registering=!1,!EI(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);this.url=e}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async open(e=this.url){await this.register(e)}async close(){return new Promise((e,n)=>{if(typeof this.socket>"u"){n(new Error("Connection already closed"));return}this.socket.onclose=r=>{this.onClose(r),e()},this.socket.close()})}async send(e){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send(Go(e))}catch(n){this.onError(e.id,n)}}register(e=this.url){if(!EI(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);if(this.registering){const n=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=n||this.events.listenerCount("open")>=n)&&this.events.setMaxListeners(n+1),new Promise((r,i)=>{this.events.once("register_error",o=>{this.resetMaxListeners(),i(o)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return i(new Error("WebSocket connection is missing or invalid"));r(this.socket)})})}return this.url=e,this.registering=!0,new Promise((n,r)=>{const i=nle.isReactNative()?void 0:{rejectUnauthorized:!ule(e)},o=new dle(e,[],i);hle()?o.onerror=a=>{const l=a;r(this.emitError(l.error))}:o.on("error",a=>{r(this.emitError(a))}),o.onopen=()=>{this.onOpen(o),n(o)}})}onOpen(e){e.onmessage=n=>this.onPayload(n),e.onclose=n=>this.onClose(n),this.socket=e,this.registering=!1,this.events.emit("open")}onClose(e){this.socket=void 0,this.registering=!1,this.events.emit("close",e)}onPayload(e){if(typeof e.data>"u")return;const n=typeof e.data=="string"?Wl(e.data):e.data;this.events.emit("payload",n)}onError(e,n){const r=this.parseError(n),i=r.message||r.toString(),o=dw(e,i);this.events.emit("payload",o)}parseError(e,n=this.url){return iU(e,AI(n),"WS")}resetMaxListeners(){this.events.getMaxListeners()>SI&&this.events.setMaxListeners(SI)}emitError(e){const n=this.parseError(new Error((e==null?void 0:e.message)||`WebSocket connection failed for host: ${AI(this.url)}`));return this.events.emit("register_error",n),n}};var gle={};const cU="wc",lU=2,a2="core",Ks=`${cU}@2:${a2}:`,mle={logger:"error"},yle={database:":memory:"},ble="crypto",TI="client_ed25519_seed",wle=we.ONE_DAY,vle="keychain",xle="0.3",Ele="messages",Ale="0.3",Sle=we.SIX_HOURS,Tle="publisher",uU="irn",Cle="error",fU="wss://relay.walletconnect.org",Ole="relayer",Ft={message:"relayer_message",message_ack:"relayer_message_ack",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",transport_closed:"relayer_transport_closed",publish:"relayer_publish"},Dle="_subscription",di={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},Ple=.1,c2="2.21.7",At={link_mode:"link_mode",relay:"relay"},L0={inbound:"inbound",outbound:"outbound"},Nle="0.3",Rle="WALLETCONNECT_CLIENT_ID",CI="WALLETCONNECT_LINK_MODE_APPS",Vr={created:"subscription_created",deleted:"subscription_deleted",expired:"subscription_expired",disabled:"subscription_disabled",sync:"subscription_sync",resubscribed:"subscription_resubscribed"},_le="subscription",Ile="0.3",Ble="pairing",Mle="0.3",Sp={wc_pairingDelete:{req:{ttl:we.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:we.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:we.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:we.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:we.ONE_DAY,prompt:!1,tag:0},res:{ttl:we.ONE_DAY,prompt:!1,tag:0}}},ol={create:"pairing_create",expire:"pairing_expire",delete:"pairing_delete",ping:"pairing_ping"},$i={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},kle="history",Ule="0.3",Lle="expirer",yi={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},$le="0.3",jle="verify-api",Fle="https://verify.walletconnect.com",hU="https://verify.walletconnect.org",ng=hU,zle=`${ng}/v3`,Vle=[Fle,hU],Hle="echo",qle="https://echo.walletconnect.com",ys={pairing_started:"pairing_started",pairing_uri_validation_success:"pairing_uri_validation_success",pairing_uri_not_expired:"pairing_uri_not_expired",store_new_pairing:"store_new_pairing",subscribing_pairing_topic:"subscribing_pairing_topic",subscribe_pairing_topic_success:"subscribe_pairing_topic_success",existing_pairing:"existing_pairing",pairing_not_expired:"pairing_not_expired",emit_inactive_pairing:"emit_inactive_pairing",emit_session_proposal:"emit_session_proposal",subscribing_to_pairing_topic:"subscribing_to_pairing_topic"},vo={no_wss_connection:"no_wss_connection",no_internet_connection:"no_internet_connection",malformed_pairing_uri:"malformed_pairing_uri",active_pairing_already_exists:"active_pairing_already_exists",subscribe_pairing_topic_failure:"subscribe_pairing_topic_failure",pairing_expired:"pairing_expired",proposal_expired:"proposal_expired",proposal_listener_not_found:"proposal_listener_not_found"},Ma={session_approve_started:"session_approve_started",proposal_not_expired:"proposal_not_expired",session_namespaces_validation_success:"session_namespaces_validation_success",create_session_topic:"create_session_topic",subscribing_session_topic:"subscribing_session_topic",subscribe_session_topic_success:"subscribe_session_topic_success",publishing_session_approve:"publishing_session_approve",session_approve_publish_success:"session_approve_publish_success",store_session:"store_session",publishing_session_settle:"publishing_session_settle",session_settle_publish_success:"session_settle_publish_success"},Tp={no_internet_connection:"no_internet_connection",no_wss_connection:"no_wss_connection",proposal_expired:"proposal_expired",subscribe_session_topic_failure:"subscribe_session_topic_failure",session_approve_publish_failure:"session_approve_publish_failure",session_settle_publish_failure:"session_settle_publish_failure",session_approve_namespace_validation_failure:"session_approve_namespace_validation_failure",proposal_not_found:"proposal_not_found"},Zc={authenticated_session_approve_started:"authenticated_session_approve_started",create_authenticated_session_topic:"create_authenticated_session_topic",cacaos_verified:"cacaos_verified",store_authenticated_session:"store_authenticated_session",subscribing_authenticated_session_topic:"subscribing_authenticated_session_topic",subscribe_authenticated_session_topic_success:"subscribe_authenticated_session_topic_success",publishing_authenticated_session_approve:"publishing_authenticated_session_approve"},Cp={no_internet_connection:"no_internet_connection",invalid_cacao:"invalid_cacao",subscribe_authenticated_session_topic_failure:"subscribe_authenticated_session_topic_failure",authenticated_session_approve_publish_failure:"authenticated_session_approve_publish_failure",authenticated_session_pending_request_not_found:"authenticated_session_pending_request_not_found"},Gle=.1,Kle="event-client",Qle=86400,Yle="https://pulse.walletconnect.org/batch";function Wle(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var i=0;i<t.length;i++){var o=t.charAt(i),a=o.charCodeAt(0);if(n[a]!==255)throw new TypeError(o+" is ambiguous");n[a]=i}var l=t.length,f=t.charAt(0),h=Math.log(l)/Math.log(256),d=Math.log(256)/Math.log(l);function g(x){if(x instanceof Uint8Array||(ArrayBuffer.isView(x)?x=new Uint8Array(x.buffer,x.byteOffset,x.byteLength):Array.isArray(x)&&(x=Uint8Array.from(x))),!(x instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(x.length===0)return"";for(var w=0,E=0,A=0,C=x.length;A!==C&&x[A]===0;)A++,w++;for(var S=(C-A)*d+1>>>0,R=new Uint8Array(S);A!==C;){for(var O=x[A],P=0,M=S-1;(O!==0||P<E)&&M!==-1;M--,P++)O+=256*R[M]>>>0,R[M]=O%l>>>0,O=O/l>>>0;if(O!==0)throw new Error("Non-zero carry");E=P,A++}for(var I=S-E;I!==S&&R[I]===0;)I++;for(var k=f.repeat(w);I<S;++I)k+=t.charAt(R[I]);return k}function y(x){if(typeof x!="string")throw new TypeError("Expected String");if(x.length===0)return new Uint8Array;var w=0;if(x[w]!==" "){for(var E=0,A=0;x[w]===f;)E++,w++;for(var C=(x.length-w)*h+1>>>0,S=new Uint8Array(C);x[w];){var R=n[x.charCodeAt(w)];if(R===255)return;for(var O=0,P=C-1;(R!==0||O<A)&&P!==-1;P--,O++)R+=l*S[P]>>>0,S[P]=R%256>>>0,R=R/256>>>0;if(R!==0)throw new Error("Non-zero carry");A=O,w++}if(x[w]!==" "){for(var M=C-A;M!==C&&S[M]===0;)M++;for(var I=new Uint8Array(E+(C-M)),k=E;M!==C;)I[k++]=S[M++];return I}}}function b(x){var w=y(x);if(w)return w;throw new Error(`Non-${e} character`)}return{encode:g,decodeUnsafe:y,decode:b}}var Xle=Wle,Zle=Xle;const dU=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},Jle=t=>new TextEncoder().encode(t),eue=t=>new TextDecoder().decode(t);class tue{constructor(e,n,r){this.name=e,this.prefix=n,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class nue{constructor(e,n,r){if(this.name=e,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return pU(this,e)}}class rue{constructor(e){this.decoders=e}or(e){return pU(this,e)}decode(e){const n=e[0],r=this.decoders[n];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const pU=(t,e)=>new rue({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});class iue{constructor(e,n,r,i){this.name=e,this.prefix=n,this.baseEncode=r,this.baseDecode=i,this.encoder=new tue(e,n,r),this.decoder=new nue(e,n,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const gw=({name:t,prefix:e,encode:n,decode:r})=>new iue(t,e,n,r),pm=({prefix:t,name:e,alphabet:n})=>{const{encode:r,decode:i}=Zle(n,e);return gw({prefix:t,name:e,encode:r,decode:o=>dU(i(o))})},sue=(t,e,n,r)=>{const i={};for(let d=0;d<e.length;++d)i[e[d]]=d;let o=t.length;for(;t[o-1]==="=";)--o;const a=new Uint8Array(o*n/8|0);let l=0,f=0,h=0;for(let d=0;d<o;++d){const g=i[t[d]];if(g===void 0)throw new SyntaxError(`Non-${r} character`);f=f<<n|g,l+=n,l>=8&&(l-=8,a[h++]=255&f>>l)}if(l>=n||255&f<<8-l)throw new SyntaxError("Unexpected end of data");return a},oue=(t,e,n)=>{const r=e[e.length-1]==="=",i=(1<<n)-1;let o="",a=0,l=0;for(let f=0;f<t.length;++f)for(l=l<<8|t[f],a+=8;a>n;)a-=n,o+=e[i&l>>a];if(a&&(o+=e[i&l<<n-a]),r)for(;o.length*n&7;)o+="=";return o},Bn=({name:t,prefix:e,bitsPerChar:n,alphabet:r})=>gw({prefix:e,name:t,encode(i){return oue(i,r,n)},decode(i){return sue(i,r,n,t)}}),aue=gw({prefix:"\0",name:"identity",encode:t=>eue(t),decode:t=>Jle(t)});var cue=Object.freeze({__proto__:null,identity:aue});const lue=Bn({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var uue=Object.freeze({__proto__:null,base2:lue});const fue=Bn({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var hue=Object.freeze({__proto__:null,base8:fue});const due=pm({prefix:"9",name:"base10",alphabet:"0123456789"});var pue=Object.freeze({__proto__:null,base10:due});const gue=Bn({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),mue=Bn({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var yue=Object.freeze({__proto__:null,base16:gue,base16upper:mue});const bue=Bn({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),wue=Bn({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),vue=Bn({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),xue=Bn({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Eue=Bn({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Aue=Bn({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Sue=Bn({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Tue=Bn({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Cue=Bn({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var Oue=Object.freeze({__proto__:null,base32:bue,base32upper:wue,base32pad:vue,base32padupper:xue,base32hex:Eue,base32hexupper:Aue,base32hexpad:Sue,base32hexpadupper:Tue,base32z:Cue});const Due=pm({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),Pue=pm({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var Nue=Object.freeze({__proto__:null,base36:Due,base36upper:Pue});const Rue=pm({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),_ue=pm({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var Iue=Object.freeze({__proto__:null,base58btc:Rue,base58flickr:_ue});const Bue=Bn({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Mue=Bn({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),kue=Bn({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),Uue=Bn({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var Lue=Object.freeze({__proto__:null,base64:Bue,base64pad:Mue,base64url:kue,base64urlpad:Uue});const gU=Array.from("🚀🪐☄🛰🌌🌑🌒🌓🌔🌕🌖🌗🌘🌍🌏🌎🐉☀💻🖥💾💿😂❤😍🤣😊🙏💕😭😘👍😅👏😁🔥🥰💔💖💙😢🤔😆🙄💪😉☺👌🤗💜😔😎😇🌹🤦🎉💞✌✨🤷😱😌🌸🙌😋💗💚😏💛🙂💓🤩😄😀🖤😃💯🙈👇🎶😒🤭❣😜💋👀😪😑💥🙋😞😩😡🤪👊🥳😥🤤👉💃😳✋😚😝😴🌟😬🙃🍀🌷😻😓⭐✅🥺🌈😈🤘💦✔😣🏃💐☹🎊💘😠☝😕🌺🎂🌻😐🖕💝🙊😹🗣💫💀👑🎵🤞😛🔴😤🌼😫⚽🤙☕🏆🤫👈😮🙆🍻🍃🐶💁😲🌿🧡🎁⚡🌞🎈❌✊👋😰🤨😶🤝🚶💰🍓💢🤟🙁🚨💨🤬✈🎀🍺🤓😙💟🌱😖👶🥴▶➡❓💎💸⬇😨🌚🦋😷🕺⚠🙅😟😵👎🤲🤠🤧📌🔵💅🧐🐾🍒😗🤑🌊🤯🐷☎💧😯💆👆🎤🙇🍑❄🌴💣🐸💌📍🥀🤢👅💡💩👐📸👻🤐🤮🎼🥵🚩🍎🍊👼💍📣🥂"),$ue=gU.reduce((t,e,n)=>(t[n]=e,t),[]),jue=gU.reduce((t,e,n)=>(t[e.codePointAt(0)]=n,t),[]);function Fue(t){return t.reduce((e,n)=>(e+=$ue[n],e),"")}function zue(t){const e=[];for(const n of t){const r=jue[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);e.push(r)}return new Uint8Array(e)}const Vue=gw({prefix:"🚀",name:"base256emoji",encode:Fue,decode:zue});var Hue=Object.freeze({__proto__:null,base256emoji:Vue}),que=mU,OI=128,Gue=-128,Kue=Math.pow(2,31);function mU(t,e,n){e=e||[],n=n||0;for(var r=n;t>=Kue;)e[n++]=t&255|OI,t/=128;for(;t&Gue;)e[n++]=t&255|OI,t>>>=7;return e[n]=t|0,mU.bytes=n-r+1,e}var Que=l2,Yue=128,DI=127;function l2(t,r){var n=0,r=r||0,i=0,o=r,a,l=t.length;do{if(o>=l)throw l2.bytes=0,new RangeError("Could not decode varint");a=t[o++],n+=i<28?(a&DI)<<i:(a&DI)*Math.pow(2,i),i+=7}while(a>=Yue);return l2.bytes=o-r,n}var Wue=Math.pow(2,7),Xue=Math.pow(2,14),Zue=Math.pow(2,21),Jue=Math.pow(2,28),efe=Math.pow(2,35),tfe=Math.pow(2,42),nfe=Math.pow(2,49),rfe=Math.pow(2,56),ife=Math.pow(2,63),sfe=function(t){return t<Wue?1:t<Xue?2:t<Zue?3:t<Jue?4:t<efe?5:t<tfe?6:t<nfe?7:t<rfe?8:t<ife?9:10},ofe={encode:que,decode:Que,encodingLength:sfe},yU=ofe;const PI=(t,e,n=0)=>(yU.encode(t,e,n),e),NI=t=>yU.encodingLength(t),u2=(t,e)=>{const n=e.byteLength,r=NI(t),i=r+NI(n),o=new Uint8Array(i+n);return PI(t,o,0),PI(n,o,r),o.set(e,i),new afe(t,n,e,o)};class afe{constructor(e,n,r,i){this.code=e,this.size=n,this.digest=r,this.bytes=i}}const bU=({name:t,code:e,encode:n})=>new cfe(t,e,n);class cfe{constructor(e,n,r){this.name=e,this.code=n,this.encode=r}digest(e){if(e instanceof Uint8Array){const n=this.encode(e);return n instanceof Uint8Array?u2(this.code,n):n.then(r=>u2(this.code,r))}else throw Error("Unknown type, must be binary type")}}const wU=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),lfe=bU({name:"sha2-256",code:18,encode:wU("SHA-256")}),ufe=bU({name:"sha2-512",code:19,encode:wU("SHA-512")});var ffe=Object.freeze({__proto__:null,sha256:lfe,sha512:ufe});const vU=0,hfe="identity",xU=dU,dfe=t=>u2(vU,xU(t)),pfe={code:vU,name:hfe,encode:xU,digest:dfe};var gfe=Object.freeze({__proto__:null,identity:pfe});new TextEncoder,new TextDecoder;const RI={...cue,...uue,...hue,...pue,...yue,...Oue,...Nue,...Iue,...Lue,...Hue};({...ffe,...gfe});function EU(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function mfe(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?EU(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function AU(t,e,n,r){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:n},decoder:{decode:r}}}const _I=AU("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),sE=AU("ascii","a",t=>{let e="a";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},t=>{t=t.substring(1);const e=mfe(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}),yfe={utf8:_I,"utf-8":_I,hex:RI.base16,latin1:sE,ascii:sE,binary:sE,...RI};function bfe(t,e="utf8"){const n=yfe[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?EU(globalThis.Buffer.from(t,"utf-8")):n.decoder.decode(`${n.prefix}${t}`)}var wfe=Object.defineProperty,vfe=(t,e,n)=>e in t?wfe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,gs=(t,e,n)=>vfe(t,typeof e!="symbol"?e+"":e,n);class xfe{constructor(e,n){this.core=e,this.logger=n,gs(this,"keychain",new Map),gs(this,"name",vle),gs(this,"version",xle),gs(this,"initialized",!1),gs(this,"storagePrefix",Ks),gs(this,"init",async()=>{if(!this.initialized){const r=await this.getKeyChain();typeof r<"u"&&(this.keychain=r),this.initialized=!0}}),gs(this,"has",r=>(this.isInitialized(),this.keychain.has(r))),gs(this,"set",async(r,i)=>{this.isInitialized(),this.keychain.set(r,i),await this.persist()}),gs(this,"get",r=>{this.isInitialized();const i=this.keychain.get(r);if(typeof i>"u"){const{message:o}=be("NO_MATCHING_KEY",`${this.name}: ${r}`);throw new Error(o)}return i}),gs(this,"del",async r=>{this.isInitialized(),this.keychain.delete(r),await this.persist()}),this.core=e,this.logger=ar(n,this.name)}get context(){return _r(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setKeyChain(e){await this.core.storage.setItem(this.storageKey,HA(e))}async getKeyChain(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?qA(e):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){const{message:e}=be("NOT_INITIALIZED",this.name);throw new Error(e)}}}var Efe=Object.defineProperty,Afe=(t,e,n)=>e in t?Efe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,An=(t,e,n)=>Afe(t,typeof e!="symbol"?e+"":e,n);class Sfe{constructor(e,n,r){this.core=e,this.logger=n,An(this,"name",ble),An(this,"keychain"),An(this,"randomSessionIdentifier",t2()),An(this,"initialized",!1),An(this,"init",async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)}),An(this,"hasKeys",i=>(this.isInitialized(),this.keychain.has(i))),An(this,"getClientId",async()=>{this.isInitialized();const i=await this.getClientSeed(),o=r_(i);return YM(o.publicKey)}),An(this,"generateKeyPair",()=>{this.isInitialized();const i=Yse();return this.setPrivateKey(i.publicKey,i.privateKey)}),An(this,"signJWT",async i=>{this.isInitialized();const o=await this.getClientSeed(),a=r_(o),l=this.randomSessionIdentifier;return await Vte(l,i,wle,a)}),An(this,"generateSharedKey",(i,o,a)=>{this.isInitialized();const l=this.getPrivateKey(i),f=Wse(l,o);return this.setSymKey(f,a)}),An(this,"setSymKey",async(i,o)=>{this.isInitialized();const a=o||M0(i);return await this.keychain.set(a,i),a}),An(this,"deleteKeyPair",async i=>{this.isInitialized(),await this.keychain.del(i)}),An(this,"deleteSymKey",async i=>{this.isInitialized(),await this.keychain.del(i)}),An(this,"encode",async(i,o,a)=>{this.isInitialized();const l=Wk(a),f=Go(o);if(K_(l))return Jse(f,a==null?void 0:a.encoding);if(G_(l)){const y=l.senderPublicKey,b=l.receiverPublicKey;i=await this.generateSharedKey(y,b)}const h=this.getSymKey(i),{type:d,senderPublicKey:g}=l;return Xse({type:d,symKey:h,message:f,senderPublicKey:g,encoding:a==null?void 0:a.encoding})}),An(this,"decode",async(i,o,a)=>{this.isInitialized();const l=toe(o,a);if(K_(l)){const f=eoe(o,a==null?void 0:a.encoding);return Wl(f)}if(G_(l)){const f=l.receiverPublicKey,h=l.senderPublicKey;i=await this.generateSharedKey(f,h)}try{const f=this.getSymKey(i),h=Zse({symKey:f,encoded:o,encoding:a==null?void 0:a.encoding});return Wl(h)}catch(f){this.logger.error(`Failed to decode message from topic: '${i}', clientId: '${await this.getClientId()}'`),this.logger.error(f)}}),An(this,"getPayloadType",(i,o=Sr)=>{const a=Ng({encoded:i,encoding:o});return Zl(a.type)}),An(this,"getPayloadSenderPublicKey",(i,o=Sr)=>{const a=Ng({encoded:i,encoding:o});return a.senderPublicKey?Pr(a.senderPublicKey,or):void 0}),this.core=e,this.logger=ar(n,this.name),this.keychain=r||new xfe(this.core,this.logger)}get context(){return _r(this.logger)}async setPrivateKey(e,n){return await this.keychain.set(e,n),e}getPrivateKey(e){return this.keychain.get(e)}async getClientSeed(){let e="";try{e=this.keychain.get(TI)}catch{e=t2(),await this.keychain.set(TI,e)}return bfe(e,"base16")}getSymKey(e){return this.keychain.get(e)}isInitialized(){if(!this.initialized){const{message:e}=be("NOT_INITIALIZED",this.name);throw new Error(e)}}}var Tfe=Object.defineProperty,Cfe=Object.defineProperties,Ofe=Object.getOwnPropertyDescriptors,II=Object.getOwnPropertySymbols,Dfe=Object.prototype.hasOwnProperty,Pfe=Object.prototype.propertyIsEnumerable,f2=(t,e,n)=>e in t?Tfe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Nfe=(t,e)=>{for(var n in e||(e={}))Dfe.call(e,n)&&f2(t,n,e[n]);if(II)for(var n of II(e))Pfe.call(e,n)&&f2(t,n,e[n]);return t},Rfe=(t,e)=>Cfe(t,Ofe(e)),jr=(t,e,n)=>f2(t,typeof e!="symbol"?e+"":e,n);class _fe extends hce{constructor(e,n){super(e,n),this.logger=e,this.core=n,jr(this,"messages",new Map),jr(this,"messagesWithoutClientAck",new Map),jr(this,"name",Ele),jr(this,"version",Ale),jr(this,"initialized",!1),jr(this,"storagePrefix",Ks),jr(this,"init",async()=>{if(!this.initialized){this.logger.trace("Initialized");try{const r=await this.getRelayerMessages();typeof r<"u"&&(this.messages=r);const i=await this.getRelayerMessagesWithoutClientAck();typeof i<"u"&&(this.messagesWithoutClientAck=i),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(r){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(r)}finally{this.initialized=!0}}}),jr(this,"set",async(r,i,o)=>{this.isInitialized();const a=Ti(i);let l=this.messages.get(r);if(typeof l>"u"&&(l={}),typeof l[a]<"u")return a;if(l[a]=i,this.messages.set(r,l),o===L0.inbound){const f=this.messagesWithoutClientAck.get(r)||{};this.messagesWithoutClientAck.set(r,Rfe(Nfe({},f),{[a]:i}))}return await this.persist(),a}),jr(this,"get",r=>{this.isInitialized();let i=this.messages.get(r);return typeof i>"u"&&(i={}),i}),jr(this,"getWithoutAck",r=>{this.isInitialized();const i={};for(const o of r){const a=this.messagesWithoutClientAck.get(o)||{};i[o]=Object.values(a)}return i}),jr(this,"has",(r,i)=>{this.isInitialized();const o=this.get(r),a=Ti(i);return typeof o[a]<"u"}),jr(this,"ack",async(r,i)=>{this.isInitialized();const o=this.messagesWithoutClientAck.get(r);if(typeof o>"u")return;const a=Ti(i);delete o[a],Object.keys(o).length===0?this.messagesWithoutClientAck.delete(r):this.messagesWithoutClientAck.set(r,o),await this.persist()}),jr(this,"del",async r=>{this.isInitialized(),this.messages.delete(r),this.messagesWithoutClientAck.delete(r),await this.persist()}),this.logger=ar(e,this.name),this.core=n}get context(){return _r(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get storageKeyWithoutClientAck(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name+"_withoutClientAck"}async setRelayerMessages(e){await this.core.storage.setItem(this.storageKey,HA(e))}async setRelayerMessagesWithoutClientAck(e){await this.core.storage.setItem(this.storageKeyWithoutClientAck,HA(e))}async getRelayerMessages(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?qA(e):void 0}async getRelayerMessagesWithoutClientAck(){const e=await this.core.storage.getItem(this.storageKeyWithoutClientAck);return typeof e<"u"?qA(e):void 0}async persist(){await this.setRelayerMessages(this.messages),await this.setRelayerMessagesWithoutClientAck(this.messagesWithoutClientAck)}isInitialized(){if(!this.initialized){const{message:e}=be("NOT_INITIALIZED",this.name);throw new Error(e)}}}var Ife=Object.defineProperty,Bfe=Object.defineProperties,Mfe=Object.getOwnPropertyDescriptors,BI=Object.getOwnPropertySymbols,kfe=Object.prototype.hasOwnProperty,Ufe=Object.prototype.propertyIsEnumerable,h2=(t,e,n)=>e in t?Ife(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,sf=(t,e)=>{for(var n in e||(e={}))kfe.call(e,n)&&h2(t,n,e[n]);if(BI)for(var n of BI(e))Ufe.call(e,n)&&h2(t,n,e[n]);return t},MI=(t,e)=>Bfe(t,Mfe(e)),pi=(t,e,n)=>h2(t,typeof e!="symbol"?e+"":e,n);class Lfe extends dce{constructor(e,n){super(e,n),this.relayer=e,this.logger=n,pi(this,"events",new ei.EventEmitter),pi(this,"name",Tle),pi(this,"queue",new Map),pi(this,"publishTimeout",we.toMiliseconds(we.ONE_MINUTE)),pi(this,"initialPublishTimeout",we.toMiliseconds(we.ONE_SECOND*15)),pi(this,"needsTransportRestart",!1),pi(this,"publish",async(r,i,o)=>{var a,l,f,h,d;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:r,message:i,opts:o}});const g=(o==null?void 0:o.ttl)||Sle,y=(o==null?void 0:o.prompt)||!1,b=(o==null?void 0:o.tag)||0,x=(o==null?void 0:o.id)||fc().toString(),w=If(yb().protocol),E={id:x,method:(o==null?void 0:o.publishMethod)||w.publish,params:sf({topic:r,message:i,ttl:g,prompt:y,tag:b,attestation:o==null?void 0:o.attestation},(o==null?void 0:o.tvf)&&{tvf:o.tvf})},A=`Failed to publish payload, please try again. id:${x} tag:${b}`;try{on((a=E.params)==null?void 0:a.prompt)&&((l=E.params)==null||delete l.prompt),on((f=E.params)==null?void 0:f.tag)&&((h=E.params)==null||delete h.tag);const C=new Promise(async S=>{const R=({id:P})=>{var M;((M=E.id)==null?void 0:M.toString())===P.toString()&&(this.removeRequestFromQueue(P),this.relayer.events.removeListener(Ft.publish,R),S())};this.relayer.events.on(Ft.publish,R);const O=Ls(new Promise((P,M)=>{this.rpcPublish(E,o).then(P).catch(I=>{this.logger.warn(I,I==null?void 0:I.message),M(I)})}),this.initialPublishTimeout,`Failed initial publish, retrying.... id:${x} tag:${b}`);try{await O,this.events.removeListener(Ft.publish,R)}catch(P){this.queue.set(x,{request:E,opts:o,attempt:1}),this.logger.warn(P,P==null?void 0:P.message)}});this.logger.trace({type:"method",method:"publish",params:{id:x,topic:r,message:i,opts:o}}),await Ls(C,this.publishTimeout,A)}catch(C){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(C),(d=o==null?void 0:o.internal)!=null&&d.throwOnFailedPublish)throw C}finally{this.queue.delete(x)}}),pi(this,"publishCustom",async r=>{var i,o,a,l,f;this.logger.debug("Publishing custom payload"),this.logger.trace({type:"method",method:"publishCustom",params:r});const{payload:h,opts:d={}}=r,{attestation:g,tvf:y,publishMethod:b,prompt:x,tag:w,ttl:E=we.FIVE_MINUTES}=d,A=d.id||fc().toString(),C=If(yb().protocol),S=b||C.publish,R={id:A,method:S,params:sf(MI(sf({},h),{ttl:E,prompt:x,tag:w,attestation:g}),y)},O=`Failed to publish custom payload, please try again. id:${A} tag:${w}`;try{on((i=R.params)==null?void 0:i.prompt)&&((o=R.params)==null||delete o.prompt),on((a=R.params)==null?void 0:a.tag)&&((l=R.params)==null||delete l.tag);const P=new Promise(async M=>{const I=({id:z})=>{var V;((V=R.id)==null?void 0:V.toString())===z.toString()&&(this.removeRequestFromQueue(z),this.relayer.events.removeListener(Ft.publish,I),M())};this.relayer.events.on(Ft.publish,I);const k=Ls(new Promise((z,V)=>{this.rpcPublish(R,d).then(z).catch(G=>{this.logger.warn(G,G==null?void 0:G.message),V(G)})}),this.initialPublishTimeout,`Failed initial custom payload publish, retrying.... method:${S} id:${A} tag:${w}`);try{await k,this.events.removeListener(Ft.publish,I)}catch(z){this.queue.set(A,{request:R,opts:d,attempt:1}),this.logger.warn(z,z==null?void 0:z.message)}});this.logger.trace({type:"method",method:"publish",params:{id:A,payload:h,opts:d}}),await Ls(P,this.publishTimeout,O)}catch(P){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(P),(f=d==null?void 0:d.internal)!=null&&f.throwOnFailedPublish)throw P}finally{this.queue.delete(A)}}),pi(this,"on",(r,i)=>{this.events.on(r,i)}),pi(this,"once",(r,i)=>{this.events.once(r,i)}),pi(this,"off",(r,i)=>{this.events.off(r,i)}),pi(this,"removeListener",(r,i)=>{this.events.removeListener(r,i)}),this.relayer=e,this.logger=ar(n,this.name),this.registerEventListeners()}get context(){return _r(this.logger)}async rpcPublish(e,n){this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:e});const r=await this.relayer.request(e);return this.relayer.events.emit(Ft.publish,sf(sf({},e),n)),this.logger.debug("Successfully Published Payload"),r}removeRequestFromQueue(e){this.queue.delete(e)}checkQueue(){this.queue.forEach(async(e,n)=>{var r;const i=e.attempt+1;this.queue.set(n,MI(sf({},e),{attempt:i})),this.logger.warn({},`Publisher: queue->publishing: ${e.request.id}, tag: ${(r=e.request.params)==null?void 0:r.tag}, attempt: ${i}`),await this.rpcPublish(e.request,e.opts),this.logger.warn({},`Publisher: queue->published: ${e.request.id}`)})}registerEventListeners(){this.relayer.core.heartbeat.on(au.pulse,()=>{if(this.needsTransportRestart){this.needsTransportRestart=!1,this.relayer.events.emit(Ft.connection_stalled);return}this.checkQueue()}),this.relayer.on(Ft.message_ack,e=>{this.removeRequestFromQueue(e.id.toString())})}}var $fe=Object.defineProperty,jfe=(t,e,n)=>e in t?$fe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,of=(t,e,n)=>jfe(t,typeof e!="symbol"?e+"":e,n);class Ffe{constructor(){of(this,"map",new Map),of(this,"set",(e,n)=>{const r=this.get(e);this.exists(e,n)||this.map.set(e,[...r,n])}),of(this,"get",e=>this.map.get(e)||[]),of(this,"exists",(e,n)=>this.get(e).includes(n)),of(this,"delete",(e,n)=>{if(typeof n>"u"){this.map.delete(e);return}if(!this.map.has(e))return;const r=this.get(e);if(!this.exists(e,n))return;const i=r.filter(o=>o!==n);if(!i.length){this.map.delete(e);return}this.map.set(e,i)}),of(this,"clear",()=>{this.map.clear()})}get topics(){return Array.from(this.map.keys())}}var zfe=Object.defineProperty,Vfe=Object.defineProperties,Hfe=Object.getOwnPropertyDescriptors,kI=Object.getOwnPropertySymbols,qfe=Object.prototype.hasOwnProperty,Gfe=Object.prototype.propertyIsEnumerable,d2=(t,e,n)=>e in t?zfe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Op=(t,e)=>{for(var n in e||(e={}))qfe.call(e,n)&&d2(t,n,e[n]);if(kI)for(var n of kI(e))Gfe.call(e,n)&&d2(t,n,e[n]);return t},oE=(t,e)=>Vfe(t,Hfe(e)),wt=(t,e,n)=>d2(t,typeof e!="symbol"?e+"":e,n);class Kfe extends mce{constructor(e,n){super(e,n),this.relayer=e,this.logger=n,wt(this,"subscriptions",new Map),wt(this,"topicMap",new Ffe),wt(this,"events",new ei.EventEmitter),wt(this,"name",_le),wt(this,"version",Ile),wt(this,"pending",new Map),wt(this,"cached",[]),wt(this,"initialized",!1),wt(this,"storagePrefix",Ks),wt(this,"subscribeTimeout",we.toMiliseconds(we.ONE_MINUTE)),wt(this,"initialSubscribeTimeout",we.toMiliseconds(we.ONE_SECOND*15)),wt(this,"clientId"),wt(this,"batchSubscribeTopicsLimit",500),wt(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),await this.restore()),this.initialized=!0}),wt(this,"subscribe",async(r,i)=>{var o;this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:r,opts:i}});try{const a=yb(i),l={topic:r,relay:a,transportType:i==null?void 0:i.transportType};(o=i==null?void 0:i.internal)!=null&&o.skipSubscribe||this.pending.set(r,l);const f=await this.rpcSubscribe(r,a,i);return typeof f=="string"&&(this.onSubscribe(f,l),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:r,opts:i}})),f}catch(a){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(a),a}}),wt(this,"unsubscribe",async(r,i)=>{this.isInitialized(),typeof(i==null?void 0:i.id)<"u"?await this.unsubscribeById(r,i.id,i):await this.unsubscribeByTopic(r,i)}),wt(this,"isSubscribed",r=>new Promise(i=>{i(this.topicMap.topics.includes(r))})),wt(this,"isKnownTopic",r=>new Promise(i=>{i(this.topicMap.topics.includes(r)||this.pending.has(r)||this.cached.some(o=>o.topic===r))})),wt(this,"on",(r,i)=>{this.events.on(r,i)}),wt(this,"once",(r,i)=>{this.events.once(r,i)}),wt(this,"off",(r,i)=>{this.events.off(r,i)}),wt(this,"removeListener",(r,i)=>{this.events.removeListener(r,i)}),wt(this,"start",async()=>{await this.onConnect()}),wt(this,"stop",async()=>{await this.onDisconnect()}),wt(this,"restart",async()=>{await this.restore(),await this.onRestart()}),wt(this,"checkPending",async()=>{if(this.pending.size===0&&(!this.initialized||!this.relayer.connected))return;const r=[];this.pending.forEach(i=>{r.push(i)}),await this.batchSubscribe(r)}),wt(this,"registerEventListeners",()=>{this.relayer.core.heartbeat.on(au.pulse,async()=>{await this.checkPending()}),this.events.on(Vr.created,async r=>{const i=Vr.created;this.logger.info(`Emitting ${i}`),this.logger.debug({type:"event",event:i,data:r}),await this.persist()}),this.events.on(Vr.deleted,async r=>{const i=Vr.deleted;this.logger.info(`Emitting ${i}`),this.logger.debug({type:"event",event:i,data:r}),await this.persist()})}),this.relayer=e,this.logger=ar(n,this.name),this.clientId=""}get context(){return _r(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}get hasAnyTopics(){return this.topicMap.topics.length>0||this.pending.size>0||this.cached.length>0||this.subscriptions.size>0}hasSubscription(e,n){let r=!1;try{r=this.getSubscription(e).topic===n}catch{}return r}reset(){this.cached=[],this.initialized=!0}onDisable(){this.values.length>0&&(this.cached=this.values),this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(e,n){const r=this.topicMap.get(e);await Promise.all(r.map(async i=>await this.unsubscribeById(e,i,n)))}async unsubscribeById(e,n,r){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:n,opts:r}});try{const i=yb(r);await this.restartToComplete({topic:e,id:n,relay:i}),await this.rpcUnsubscribe(e,n,i);const o=St("USER_DISCONNECTED",`${this.name}, ${e}`);await this.onUnsubscribe(e,n,o),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:n,opts:r}})}catch(i){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(i),i}}async rpcSubscribe(e,n,r){var i,o;const a=await this.getSubscriptionId(e);if((i=r==null?void 0:r.internal)!=null&&i.skipSubscribe)return a;(!r||(r==null?void 0:r.transportType)===At.relay)&&await this.restartToComplete({topic:e,id:e,relay:n});const l={method:If(n.protocol).subscribe,params:{topic:e}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:l});const f=(o=r==null?void 0:r.internal)==null?void 0:o.throwOnFailedPublish;try{if((r==null?void 0:r.transportType)===At.link_mode)return setTimeout(()=>{(this.relayer.connected||this.relayer.connecting)&&this.relayer.request(l).catch(g=>this.logger.warn(g))},we.toMiliseconds(we.ONE_SECOND)),a;const h=new Promise(async g=>{const y=b=>{b.topic===e&&(this.events.removeListener(Vr.created,y),g(b.id))};this.events.on(Vr.created,y);try{const b=await Ls(new Promise((x,w)=>{this.relayer.request(l).catch(E=>{this.logger.warn(E,E==null?void 0:E.message),w(E)}).then(x)}),this.initialSubscribeTimeout,`Subscribing to ${e} failed, please try again`);this.events.removeListener(Vr.created,y),g(b)}catch{}}),d=await Ls(h,this.subscribeTimeout,`Subscribing to ${e} failed, please try again`);if(!d&&f)throw new Error(`Subscribing to ${e} failed, please try again`);return d?a:null}catch(h){if(this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(Ft.connection_stalled),f)throw h}return null}async rpcBatchSubscribe(e){if(!e.length)return;const n=e[0].relay,r={method:If(n.protocol).batchSubscribe,params:{topics:e.map(i=>i.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:r});try{await await Ls(new Promise(i=>{this.relayer.request(r).catch(o=>this.logger.warn(o)).then(i)}),this.subscribeTimeout,"rpcBatchSubscribe failed, please try again")}catch{this.relayer.events.emit(Ft.connection_stalled)}}async rpcBatchFetchMessages(e){if(!e.length)return;const n=e[0].relay,r={method:If(n.protocol).batchFetchMessages,params:{topics:e.map(o=>o.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:r});let i;try{i=await await Ls(new Promise((o,a)=>{this.relayer.request(r).catch(l=>{this.logger.warn(l),a(l)}).then(o)}),this.subscribeTimeout,"rpcBatchFetchMessages failed, please try again")}catch{this.relayer.events.emit(Ft.connection_stalled)}return i}rpcUnsubscribe(e,n,r){const i={method:If(r.protocol).unsubscribe,params:{topic:e,id:n}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:i}),this.relayer.request(i)}onSubscribe(e,n){this.setSubscription(e,oE(Op({},n),{id:e})),this.pending.delete(n.topic)}onBatchSubscribe(e){e.length&&e.forEach(n=>{this.setSubscription(n.id,Op({},n)),this.pending.delete(n.topic)})}async onUnsubscribe(e,n,r){this.events.removeAllListeners(n),this.hasSubscription(n,e)&&this.deleteSubscription(n,r),await this.relayer.messages.del(e)}async setRelayerSubscriptions(e){await this.relayer.core.storage.setItem(this.storageKey,e)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(e,n){this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:e,subscription:n}),this.addSubscription(e,n)}addSubscription(e,n){this.subscriptions.set(e,Op({},n)),this.topicMap.set(n.topic,e),this.events.emit(Vr.created,n)}getSubscription(e){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:e});const n=this.subscriptions.get(e);if(!n){const{message:r}=be("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(r)}return n}deleteSubscription(e,n){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:e,reason:n});const r=this.getSubscription(e);this.subscriptions.delete(e),this.topicMap.delete(r.topic,e),this.events.emit(Vr.deleted,oE(Op({},r),{reason:n}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(Vr.sync)}async onRestart(){if(this.cached.length){const e=[...this.cached],n=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let r=0;r<n;r++){const i=e.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(i)}}this.events.emit(Vr.resubscribed)}async restore(){try{const e=await this.getRelayerSubscriptions();if(typeof e>"u"||!e.length)return;if(this.subscriptions.size&&!e.every(n=>{var r;return n.topic===((r=this.subscriptions.get(n.id))==null?void 0:r.topic)})){const{message:n}=be("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(e){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(e)}}async batchSubscribe(e){e.length&&(await this.rpcBatchSubscribe(e),this.onBatchSubscribe(await Promise.all(e.map(async n=>oE(Op({},n),{id:await this.getSubscriptionId(n.topic)})))))}async batchFetchMessages(e){if(!e.length)return;this.logger.trace(`Fetching batch messages for ${e.length} subscriptions`);const n=await this.rpcBatchFetchMessages(e);n&&n.messages&&(await yre(we.toMiliseconds(we.ONE_SECOND)),await this.relayer.handleBatchMessageEvents(n.messages))}async onConnect(){await this.restart(),this.reset()}onDisconnect(){this.onDisable()}isInitialized(){if(!this.initialized){const{message:e}=be("NOT_INITIALIZED",this.name);throw new Error(e)}}async restartToComplete(e){!this.relayer.connected&&!this.relayer.connecting&&(this.cached.push(e),await this.relayer.transportOpen())}async getClientId(){return this.clientId||(this.clientId=await this.relayer.core.crypto.getClientId()),this.clientId}async getSubscriptionId(e){return Ti(e+await this.getClientId())}}var Qfe=Object.defineProperty,UI=Object.getOwnPropertySymbols,Yfe=Object.prototype.hasOwnProperty,Wfe=Object.prototype.propertyIsEnumerable,p2=(t,e,n)=>e in t?Qfe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,LI=(t,e)=>{for(var n in e||(e={}))Yfe.call(e,n)&&p2(t,n,e[n]);if(UI)for(var n of UI(e))Wfe.call(e,n)&&p2(t,n,e[n]);return t},it=(t,e,n)=>p2(t,typeof e!="symbol"?e+"":e,n);class Xfe extends pce{constructor(e){super(e),it(this,"protocol","wc"),it(this,"version",2),it(this,"core"),it(this,"logger"),it(this,"events",new ei.EventEmitter),it(this,"provider"),it(this,"messages"),it(this,"subscriber"),it(this,"publisher"),it(this,"name",Ole),it(this,"transportExplicitlyClosed",!1),it(this,"initialized",!1),it(this,"connectionAttemptInProgress",!1),it(this,"relayUrl"),it(this,"projectId"),it(this,"packageName"),it(this,"bundleId"),it(this,"hasExperiencedNetworkDisruption",!1),it(this,"pingTimeout"),it(this,"heartBeatTimeout",we.toMiliseconds(we.THIRTY_SECONDS+we.FIVE_SECONDS)),it(this,"reconnectTimeout"),it(this,"connectPromise"),it(this,"reconnectInProgress",!1),it(this,"requestsInFlight",[]),it(this,"connectTimeout",we.toMiliseconds(we.ONE_SECOND*15)),it(this,"request",async n=>{var r,i;this.logger.debug("Publishing Request Payload");const o=n.id||fc().toString();await this.toEstablishConnection();try{this.logger.trace({id:o,method:n.method,topic:(r=n.params)==null?void 0:r.topic},"relayer.request - publishing...");const a=`${o}:${((i=n.params)==null?void 0:i.tag)||""}`;this.requestsInFlight.push(a);const l=await this.provider.request(n);return this.requestsInFlight=this.requestsInFlight.filter(f=>f!==a),l}catch(a){throw this.logger.debug(`Failed to Publish Request: ${o}`),a}}),it(this,"resetPingTimeout",()=>{db()&&(clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(()=>{var n,r,i,o;try{this.logger.debug({},"pingTimeout: Connection stalled, terminating..."),(o=(i=(r=(n=this.provider)==null?void 0:n.connection)==null?void 0:r.socket)==null?void 0:i.terminate)==null||o.call(i)}catch(a){this.logger.warn(a,a==null?void 0:a.message)}},this.heartBeatTimeout))}),it(this,"onPayloadHandler",n=>{this.onProviderPayload(n),this.resetPingTimeout()}),it(this,"onConnectHandler",()=>{this.logger.warn({},"Relayer connected 🛜"),this.startPingTimeout(),this.events.emit(Ft.connect)}),it(this,"onDisconnectHandler",()=>{this.logger.warn({},"Relayer disconnected 🛑"),this.requestsInFlight=[],this.onProviderDisconnect()}),it(this,"onProviderErrorHandler",n=>{this.logger.fatal(`Fatal socket error: ${n.message}`),this.events.emit(Ft.error,n),this.logger.fatal("Fatal socket error received, closing transport"),this.transportClose()}),it(this,"registerProviderListeners",()=>{this.provider.on(di.payload,this.onPayloadHandler),this.provider.on(di.connect,this.onConnectHandler),this.provider.on(di.disconnect,this.onDisconnectHandler),this.provider.on(di.error,this.onProviderErrorHandler)}),this.core=e.core,this.logger=typeof e.logger<"u"&&typeof e.logger!="string"?ar(e.logger,this.name):hm(hw({level:e.logger||Cle})),this.messages=new _fe(this.logger,e.core),this.subscriber=new Kfe(this,this.logger),this.publisher=new Lfe(this,this.logger),this.projectId=e==null?void 0:e.projectId,this.relayUrl=(e==null?void 0:e.relayUrl)||fU,tre()?this.packageName=p_():nre()&&(this.bundleId=p_()),this.provider={}}async init(){this.logger.trace("Initialized"),this.registerEventListeners(),await Promise.all([this.messages.init(),this.subscriber.init()]),this.initialized=!0,this.transportOpen().catch(e=>this.logger.warn(e,e==null?void 0:e.message))}get context(){return _r(this.logger)}get connected(){var e,n,r;return((r=(n=(e=this.provider)==null?void 0:e.connection)==null?void 0:n.socket)==null?void 0:r.readyState)===1||!1}get connecting(){var e,n,r;return((r=(n=(e=this.provider)==null?void 0:e.connection)==null?void 0:n.socket)==null?void 0:r.readyState)===0||this.connectPromise!==void 0||!1}async publish(e,n,r){this.isInitialized(),await this.publisher.publish(e,n,r),await this.recordMessageEvent({topic:e,message:n,publishedAt:Date.now(),transportType:At.relay},L0.outbound)}async publishCustom(e){this.isInitialized(),await this.publisher.publishCustom(e)}async subscribe(e,n){var r,i,o;this.isInitialized(),(!(n!=null&&n.transportType)||(n==null?void 0:n.transportType)==="relay")&&await this.toEstablishConnection();const a=typeof((r=n==null?void 0:n.internal)==null?void 0:r.throwOnFailedPublish)>"u"?!0:(i=n==null?void 0:n.internal)==null?void 0:i.throwOnFailedPublish;let l=((o=this.subscriber.topicMap.get(e))==null?void 0:o[0])||"",f;const h=d=>{d.topic===e&&(this.subscriber.off(Vr.created,h),f())};return await Promise.all([new Promise(d=>{f=d,this.subscriber.on(Vr.created,h)}),new Promise(async(d,g)=>{l=await this.subscriber.subscribe(e,LI({internal:{throwOnFailedPublish:a}},n)).catch(y=>{a&&g(y)})||l,d()})]),l}async unsubscribe(e,n){this.isInitialized(),await this.subscriber.unsubscribe(e,n)}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async transportDisconnect(){this.provider.disconnect&&(this.hasExperiencedNetworkDisruption||this.connected)?await Ls(this.provider.disconnect(),2e3,"provider.disconnect()").catch(()=>this.onProviderDisconnect()):this.onProviderDisconnect()}async transportClose(){this.transportExplicitlyClosed=!0,await this.transportDisconnect()}async transportOpen(e){if(!this.subscriber.hasAnyTopics){this.logger.info("Starting WS connection skipped because the client has no topics to work with.");return}if(this.connectPromise?(this.logger.debug({},"Waiting for existing connection attempt to resolve..."),await this.connectPromise,this.logger.debug({},"Existing connection attempt resolved")):(this.connectPromise=new Promise(async(n,r)=>{await this.connect(e).then(n).catch(r).finally(()=>{this.connectPromise=void 0})}),await this.connectPromise),!this.connected)throw new Error(`Couldn't establish socket connection to the relay server: ${this.relayUrl}`)}async restartTransport(e){this.logger.debug({},"Restarting transport..."),!this.connectionAttemptInProgress&&(this.relayUrl=e||this.relayUrl,await this.confirmOnlineStateOrThrow(),await this.transportClose(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await iI())throw new Error("No internet connection detected. Please restart your network and try again.")}async handleBatchMessageEvents(e){if((e==null?void 0:e.length)===0){this.logger.trace("Batch message events is empty. Ignoring...");return}const n=e.sort((r,i)=>r.publishedAt-i.publishedAt);this.logger.debug(`Batch of ${n.length} message events sorted`);for(const r of n)try{await this.onMessageEvent(r)}catch(i){this.logger.warn(i,"Error while processing batch message event: "+(i==null?void 0:i.message))}this.logger.trace(`Batch of ${n.length} message events processed`)}async onLinkMessageEvent(e,n){const{topic:r}=e;if(!n.sessionExists){const i=rn(we.FIVE_MINUTES),o={topic:r,expiry:i,relay:{protocol:"irn"},active:!1};await this.core.pairing.pairings.set(r,o)}this.events.emit(Ft.message,e),await this.recordMessageEvent(e,L0.inbound)}async connect(e){await this.confirmOnlineStateOrThrow(),e&&e!==this.relayUrl&&(this.relayUrl=e,await this.transportDisconnect()),this.connectionAttemptInProgress=!0,this.transportExplicitlyClosed=!1;let n=1;for(;n<6;){try{if(this.transportExplicitlyClosed)break;this.logger.debug({},`Connecting to ${this.relayUrl}, attempt: ${n}...`),await this.createProvider(),await new Promise(async(r,i)=>{const o=()=>{i(new Error("Connection interrupted while trying to connect"))};this.provider.once(di.disconnect,o),await Ls(new Promise((a,l)=>{this.provider.connect().then(a).catch(l)}),this.connectTimeout,`Socket stalled when trying to connect to ${this.relayUrl}`).catch(a=>{i(a)}).finally(()=>{this.provider.off(di.disconnect,o),clearTimeout(this.reconnectTimeout)}),await new Promise(async(a,l)=>{const f=()=>{i(new Error("Connection interrupted while trying to subscribe"))};this.provider.once(di.disconnect,f),await this.subscriber.start().then(a).catch(l).finally(()=>{this.provider.off(di.disconnect,f)})}),this.hasExperiencedNetworkDisruption=!1,r()})}catch(r){await this.subscriber.stop();const i=r;this.logger.warn({},i.message),this.hasExperiencedNetworkDisruption=!0}finally{this.connectionAttemptInProgress=!1}if(this.connected){this.logger.debug({},`Connected to ${this.relayUrl} successfully on attempt: ${n}`);break}await new Promise(r=>setTimeout(r,we.toMiliseconds(n*1))),n++}}startPingTimeout(){var e,n,r,i,o;if(db())try{(n=(e=this.provider)==null?void 0:e.connection)!=null&&n.socket&&((o=(i=(r=this.provider)==null?void 0:r.connection)==null?void 0:i.socket)==null||o.on("ping",()=>{this.resetPingTimeout()})),this.resetPingTimeout()}catch(a){this.logger.warn(a,a==null?void 0:a.message)}}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();const e=await this.core.crypto.signJWT(this.relayUrl);this.provider=new Ii(new ple(are({sdkVersion:c2,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:e,useOnCloseEvent:!0,bundleId:this.bundleId,packageName:this.packageName}))),this.registerProviderListeners()}async recordMessageEvent(e,n){const{topic:r,message:i}=e;await this.messages.set(r,i,n)}async shouldIgnoreMessageEvent(e){const{topic:n,message:r}=e;if(!r||r.length===0)return this.logger.warn(`Ignoring invalid/empty message: ${r}`),!0;if(!await this.subscriber.isKnownTopic(n))return this.logger.warn(`Ignoring message for unknown topic ${n}`),!0;const i=this.messages.has(n,r);return i&&this.logger.warn(`Ignoring duplicate message: ${r}`),i}async onProviderPayload(e){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:e}),dT(e)){if(!e.method.endsWith(Dle))return;const n=e.params,{topic:r,message:i,publishedAt:o,attestation:a}=n.data,l={topic:r,message:i,publishedAt:o,transportType:At.relay,attestation:a};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(LI({type:"event",event:n.id},l)),this.events.emit(n.id,l),await this.acknowledgePayload(e),await this.onMessageEvent(l)}else pw(e)&&this.events.emit(Ft.message_ack,e)}async onMessageEvent(e){await this.shouldIgnoreMessageEvent(e)||(await this.recordMessageEvent(e,L0.inbound),this.events.emit(Ft.message,e))}async acknowledgePayload(e){const n=_g(e.id,!0);await this.provider.connection.send(n)}unregisterProviderListeners(){this.provider.off(di.payload,this.onPayloadHandler),this.provider.off(di.connect,this.onConnectHandler),this.provider.off(di.disconnect,this.onDisconnectHandler),this.provider.off(di.error,this.onProviderErrorHandler),clearTimeout(this.pingTimeout)}async registerEventListeners(){let e=await iI();Qoe(async n=>{e!==n&&(e=n,n?await this.transportOpen().catch(r=>this.logger.error(r,r==null?void 0:r.message)):(this.hasExperiencedNetworkDisruption=!0,await this.transportDisconnect(),this.transportExplicitlyClosed=!1))}),this.core.heartbeat.on(au.pulse,async()=>{if(!this.transportExplicitlyClosed&&!this.connected&&Xoe())try{await this.confirmOnlineStateOrThrow(),await this.transportOpen()}catch(n){this.logger.warn(n,n==null?void 0:n.message)}})}async onProviderDisconnect(){clearTimeout(this.pingTimeout),this.events.emit(Ft.disconnect),this.connectionAttemptInProgress=!1,!this.reconnectInProgress&&(this.reconnectInProgress=!0,await this.subscriber.stop(),this.subscriber.hasAnyTopics&&(this.transportExplicitlyClosed||(this.reconnectTimeout=setTimeout(async()=>{await this.transportOpen().catch(e=>this.logger.error(e,e==null?void 0:e.message)),this.reconnectTimeout=void 0,this.reconnectInProgress=!1},we.toMiliseconds(Ple)))))}isInitialized(){if(!this.initialized){const{message:e}=be("NOT_INITIALIZED",this.name);throw new Error(e)}}async toEstablishConnection(){if(await this.confirmOnlineStateOrThrow(),!this.connected){if(this.connectPromise){await this.connectPromise;return}await this.connect()}}}function Zfe(t,e){return t===e||Number.isNaN(t)&&Number.isNaN(e)}function $I(t){return Object.getOwnPropertySymbols(t).filter(e=>Object.prototype.propertyIsEnumerable.call(t,e))}function jI(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const Jfe="[object RegExp]",ehe="[object String]",the="[object Number]",nhe="[object Boolean]",FI="[object Arguments]",rhe="[object Symbol]",ihe="[object Date]",she="[object Map]",ohe="[object Set]",ahe="[object Array]",che="[object Function]",lhe="[object ArrayBuffer]",aE="[object Object]",uhe="[object Error]",fhe="[object DataView]",hhe="[object Uint8Array]",dhe="[object Uint8ClampedArray]",phe="[object Uint16Array]",ghe="[object Uint32Array]",mhe="[object BigUint64Array]",yhe="[object Int8Array]",bhe="[object Int16Array]",whe="[object Int32Array]",vhe="[object BigInt64Array]",xhe="[object Float32Array]",Ehe="[object Float64Array]";function Ahe(){}function zI(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);return e===null||e===Object.prototype||Object.getPrototypeOf(e)===null?Object.prototype.toString.call(t)==="[object Object]":!1}function She(t,e,n){return $p(t,e,void 0,void 0,void 0,void 0,n)}function $p(t,e,n,r,i,o,a){const l=a(t,e,n,r,i,o);if(l!==void 0)return l;if(typeof t==typeof e)switch(typeof t){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return t===e;case"number":return t===e||Object.is(t,e);case"function":return t===e;case"object":return rg(t,e,o,a)}return rg(t,e,o,a)}function rg(t,e,n,r){if(Object.is(t,e))return!0;let i=jI(t),o=jI(e);if(i===FI&&(i=aE),o===FI&&(o=aE),i!==o)return!1;switch(i){case ehe:return t.toString()===e.toString();case the:{const f=t.valueOf(),h=e.valueOf();return Zfe(f,h)}case nhe:case ihe:case rhe:return Object.is(t.valueOf(),e.valueOf());case Jfe:return t.source===e.source&&t.flags===e.flags;case che:return t===e}n=n??new Map;const a=n.get(t),l=n.get(e);if(a!=null&&l!=null)return a===e;n.set(t,e),n.set(e,t);try{switch(i){case she:{if(t.size!==e.size)return!1;for(const[f,h]of t.entries())if(!e.has(f)||!$p(h,e.get(f),f,t,e,n,r))return!1;return!0}case ohe:{if(t.size!==e.size)return!1;const f=Array.from(t.values()),h=Array.from(e.values());for(let d=0;d<f.length;d++){const g=f[d],y=h.findIndex(b=>$p(g,b,void 0,t,e,n,r));if(y===-1)return!1;h.splice(y,1)}return!0}case ahe:case hhe:case dhe:case phe:case ghe:case mhe:case yhe:case bhe:case whe:case vhe:case xhe:case Ehe:{if(typeof Buffer<"u"&&Buffer.isBuffer(t)!==Buffer.isBuffer(e)||t.length!==e.length)return!1;for(let f=0;f<t.length;f++)if(!$p(t[f],e[f],f,t,e,n,r))return!1;return!0}case lhe:return t.byteLength!==e.byteLength?!1:rg(new Uint8Array(t),new Uint8Array(e),n,r);case fhe:return t.byteLength!==e.byteLength||t.byteOffset!==e.byteOffset?!1:rg(new Uint8Array(t),new Uint8Array(e),n,r);case uhe:return t.name===e.name&&t.message===e.message;case aE:{if(!(rg(t.constructor,e.constructor,n,r)||zI(t)&&zI(e)))return!1;const f=[...Object.keys(t),...$I(t)],h=[...Object.keys(e),...$I(e)];if(f.length!==h.length)return!1;for(let d=0;d<f.length;d++){const g=f[d],y=t[g];if(!Object.hasOwn(e,g))return!1;const b=e[g];if(!$p(y,b,g,t,e,n,r))return!1}return!0}default:return!1}}finally{n.delete(t),n.delete(e)}}function The(t,e){return She(t,e,Ahe)}var Che=Object.defineProperty,VI=Object.getOwnPropertySymbols,Ohe=Object.prototype.hasOwnProperty,Dhe=Object.prototype.propertyIsEnumerable,g2=(t,e,n)=>e in t?Che(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,HI=(t,e)=>{for(var n in e||(e={}))Ohe.call(e,n)&&g2(t,n,e[n]);if(VI)for(var n of VI(e))Dhe.call(e,n)&&g2(t,n,e[n]);return t},gr=(t,e,n)=>g2(t,typeof e!="symbol"?e+"":e,n);class lu extends gce{constructor(e,n,r,i=Ks,o=void 0){super(e,n,r,i),this.core=e,this.logger=n,this.name=r,gr(this,"map",new Map),gr(this,"version",Nle),gr(this,"cached",[]),gr(this,"initialized",!1),gr(this,"getKey"),gr(this,"storagePrefix",Ks),gr(this,"recentlyDeleted",[]),gr(this,"recentlyDeletedLimit",200),gr(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(a=>{this.getKey&&a!==null&&!on(a)?this.map.set(this.getKey(a),a):Toe(a)?this.map.set(a.id,a):Coe(a)&&this.map.set(a.topic,a)}),this.cached=[],this.initialized=!0)}),gr(this,"set",async(a,l)=>{this.isInitialized(),this.map.has(a)?await this.update(a,l):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:a,value:l}),this.map.set(a,l),await this.persist())}),gr(this,"get",a=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:a}),this.getData(a))),gr(this,"getAll",a=>(this.isInitialized(),a?this.values.filter(l=>Object.keys(a).every(f=>The(l[f],a[f]))):this.values)),gr(this,"update",async(a,l)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:a,update:l});const f=HI(HI({},this.getData(a)),l);this.map.set(a,f),await this.persist()}),gr(this,"delete",async(a,l)=>{this.isInitialized(),this.map.has(a)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:a,reason:l}),this.map.delete(a),this.addToRecentlyDeleted(a),await this.persist())}),this.logger=ar(n,this.name),this.storagePrefix=i,this.getKey=o}get context(){return _r(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}addToRecentlyDeleted(e){this.recentlyDeleted.push(e),this.recentlyDeleted.length>=this.recentlyDeletedLimit&&this.recentlyDeleted.splice(0,this.recentlyDeletedLimit/2)}async setDataStore(e){await this.core.storage.setItem(this.storageKey,e)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(e){const n=this.map.get(e);if(!n){if(this.recentlyDeleted.includes(e)){const{message:i}=be("MISSING_OR_INVALID",`Record was recently deleted - ${this.name}: ${e}`);throw this.logger.error(i),new Error(i)}const{message:r}=be("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(r),new Error(r)}return n}async persist(){await this.setDataStore(this.values)}async restore(){try{const e=await this.getDataStore();if(typeof e>"u"||!e.length)return;if(this.map.size){const{message:n}=be("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(e){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(e)}}isInitialized(){if(!this.initialized){const{message:e}=be("NOT_INITIALIZED",this.name);throw new Error(e)}}}var Phe=Object.defineProperty,Nhe=(t,e,n)=>e in t?Phe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ye=(t,e,n)=>Nhe(t,typeof e!="symbol"?e+"":e,n);class Rhe{constructor(e,n){this.core=e,this.logger=n,Ye(this,"name",Ble),Ye(this,"version",Mle),Ye(this,"events",new $S),Ye(this,"pairings"),Ye(this,"initialized",!1),Ye(this,"storagePrefix",Ks),Ye(this,"ignoredPayloadTypes",[jo]),Ye(this,"registeredMethods",[]),Ye(this,"init",async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))}),Ye(this,"register",({methods:r})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...r])]}),Ye(this,"create",async r=>{this.isInitialized();const i=t2(),o=await this.core.crypto.setSymKey(i),a=rn(we.FIVE_MINUTES),l={protocol:uU},f={topic:o,expiry:a,relay:l,active:!1,methods:r==null?void 0:r.methods},h=Y_({protocol:this.core.protocol,version:this.core.version,topic:o,symKey:i,relay:l,expiryTimestamp:a,methods:r==null?void 0:r.methods});return this.events.emit(ol.create,f),this.core.expirer.set(o,a),await this.pairings.set(o,f),await this.core.relayer.subscribe(o,{transportType:r==null?void 0:r.transportType,internal:r==null?void 0:r.internal}),{topic:o,uri:h}}),Ye(this,"pair",async r=>{this.isInitialized();const i=this.core.eventClient.createEvent({properties:{topic:r==null?void 0:r.uri,trace:[ys.pairing_started]}});this.isValidPair(r,i);const{topic:o,symKey:a,relay:l,expiryTimestamp:f,methods:h}=Q_(r.uri);i.props.properties.topic=o,i.addTrace(ys.pairing_uri_validation_success),i.addTrace(ys.pairing_uri_not_expired);let d;if(this.pairings.keys.includes(o)){if(d=this.pairings.get(o),i.addTrace(ys.existing_pairing),d.active)throw i.setError(vo.active_pairing_already_exists),new Error(`Pairing already exists: ${o}. Please try again with a new connection URI.`);i.addTrace(ys.pairing_not_expired)}const g=f||rn(we.FIVE_MINUTES),y={topic:o,relay:l,expiry:g,active:!1,methods:h};this.core.expirer.set(o,g),await this.pairings.set(o,y),i.addTrace(ys.store_new_pairing),r.activatePairing&&await this.activate({topic:o}),this.events.emit(ol.create,y),i.addTrace(ys.emit_inactive_pairing),this.core.crypto.keychain.has(o)||await this.core.crypto.setSymKey(a,o),i.addTrace(ys.subscribing_pairing_topic);try{await this.core.relayer.confirmOnlineStateOrThrow()}catch{i.setError(vo.no_internet_connection)}try{await this.core.relayer.subscribe(o,{relay:l})}catch(b){throw i.setError(vo.subscribe_pairing_topic_failure),b}return i.addTrace(ys.subscribe_pairing_topic_success),y}),Ye(this,"activate",async({topic:r})=>{this.isInitialized();const i=rn(we.FIVE_MINUTES);this.core.expirer.set(r,i),await this.pairings.update(r,{active:!0,expiry:i})}),Ye(this,"ping",async r=>{this.isInitialized(),await this.isValidPing(r),this.logger.warn("ping() is deprecated and will be removed in the next major release.");const{topic:i}=r;if(this.pairings.keys.includes(i)){const o=await this.sendRequest(i,"wc_pairingPing",{}),{done:a,resolve:l,reject:f}=tl();this.events.once(at("pairing_ping",o),({error:h})=>{h?f(h):l()}),await a()}}),Ye(this,"updateExpiry",async({topic:r,expiry:i})=>{this.isInitialized(),await this.pairings.update(r,{expiry:i})}),Ye(this,"updateMetadata",async({topic:r,metadata:i})=>{this.isInitialized(),await this.pairings.update(r,{peerMetadata:i})}),Ye(this,"getPairings",()=>(this.isInitialized(),this.pairings.values)),Ye(this,"disconnect",async r=>{this.isInitialized(),await this.isValidDisconnect(r);const{topic:i}=r;this.pairings.keys.includes(i)&&(await this.sendRequest(i,"wc_pairingDelete",St("USER_DISCONNECTED")),await this.deletePairing(i))}),Ye(this,"formatUriFromPairing",r=>{this.isInitialized();const{topic:i,relay:o,expiry:a,methods:l}=r,f=this.core.crypto.keychain.get(i);return Y_({protocol:this.core.protocol,version:this.core.version,topic:i,symKey:f,relay:o,expiryTimestamp:a,methods:l})}),Ye(this,"sendRequest",async(r,i,o)=>{const a=Rs(i,o),l=await this.core.crypto.encode(r,a),f=Sp[i].req;return this.core.history.set(r,a),this.core.relayer.publish(r,l,f),a.id}),Ye(this,"sendResult",async(r,i,o)=>{const a=_g(r,o),l=await this.core.crypto.encode(i,a),f=(await this.core.history.get(i,r)).request.method,h=Sp[f].res;await this.core.relayer.publish(i,l,h),await this.core.history.resolve(a)}),Ye(this,"sendError",async(r,i,o)=>{const a=dw(r,o),l=await this.core.crypto.encode(i,a),f=(await this.core.history.get(i,r)).request.method,h=Sp[f]?Sp[f].res:Sp.unregistered_method.res;await this.core.relayer.publish(i,l,h),await this.core.history.resolve(a)}),Ye(this,"deletePairing",async(r,i)=>{await this.core.relayer.unsubscribe(r),await Promise.all([this.pairings.delete(r,St("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(r),i?Promise.resolve():this.core.expirer.del(r)])}),Ye(this,"cleanup",async()=>{const r=this.pairings.getAll().filter(i=>ja(i.expiry));await Promise.all(r.map(i=>this.deletePairing(i.topic)))}),Ye(this,"onRelayEventRequest",async r=>{const{topic:i,payload:o}=r;switch(o.method){case"wc_pairingPing":return await this.onPairingPingRequest(i,o);case"wc_pairingDelete":return await this.onPairingDeleteRequest(i,o);default:return await this.onUnknownRpcMethodRequest(i,o)}}),Ye(this,"onRelayEventResponse",async r=>{const{topic:i,payload:o}=r,a=(await this.core.history.get(i,o.id)).request.method;switch(a){case"wc_pairingPing":return this.onPairingPingResponse(i,o);default:return this.onUnknownRpcMethodResponse(a)}}),Ye(this,"onPairingPingRequest",async(r,i)=>{const{id:o}=i;try{this.isValidPing({topic:r}),await this.sendResult(o,r,!0),this.events.emit(ol.ping,{id:o,topic:r})}catch(a){await this.sendError(o,r,a),this.logger.error(a)}}),Ye(this,"onPairingPingResponse",(r,i)=>{const{id:o}=i;setTimeout(()=>{ws(i)?this.events.emit(at("pairing_ping",o),{}):Ci(i)&&this.events.emit(at("pairing_ping",o),{error:i.error})},500)}),Ye(this,"onPairingDeleteRequest",async(r,i)=>{const{id:o}=i;try{this.isValidDisconnect({topic:r}),await this.deletePairing(r),this.events.emit(ol.delete,{id:o,topic:r})}catch(a){await this.sendError(o,r,a),this.logger.error(a)}}),Ye(this,"onUnknownRpcMethodRequest",async(r,i)=>{const{id:o,method:a}=i;try{if(this.registeredMethods.includes(a))return;const l=St("WC_METHOD_UNSUPPORTED",a);await this.sendError(o,r,l),this.logger.error(l)}catch(l){await this.sendError(o,r,l),this.logger.error(l)}}),Ye(this,"onUnknownRpcMethodResponse",r=>{this.registeredMethods.includes(r)||this.logger.error(St("WC_METHOD_UNSUPPORTED",r))}),Ye(this,"isValidPair",(r,i)=>{var o;if(!yr(r)){const{message:l}=be("MISSING_OR_INVALID",`pair() params: ${r}`);throw i.setError(vo.malformed_pairing_uri),new Error(l)}if(!Soe(r.uri)){const{message:l}=be("MISSING_OR_INVALID",`pair() uri: ${r.uri}`);throw i.setError(vo.malformed_pairing_uri),new Error(l)}const a=Q_(r==null?void 0:r.uri);if(!((o=a==null?void 0:a.relay)!=null&&o.protocol)){const{message:l}=be("MISSING_OR_INVALID","pair() uri#relay-protocol");throw i.setError(vo.malformed_pairing_uri),new Error(l)}if(!(a!=null&&a.symKey)){const{message:l}=be("MISSING_OR_INVALID","pair() uri#symKey");throw i.setError(vo.malformed_pairing_uri),new Error(l)}if(a!=null&&a.expiryTimestamp&&we.toMiliseconds(a==null?void 0:a.expiryTimestamp)<Date.now()){i.setError(vo.pairing_expired);const{message:l}=be("EXPIRED","pair() URI has expired. Please try again with a new connection URI.");throw new Error(l)}}),Ye(this,"isValidPing",async r=>{if(!yr(r)){const{message:o}=be("MISSING_OR_INVALID",`ping() params: ${r}`);throw new Error(o)}const{topic:i}=r;await this.isValidPairingTopic(i)}),Ye(this,"isValidDisconnect",async r=>{if(!yr(r)){const{message:o}=be("MISSING_OR_INVALID",`disconnect() params: ${r}`);throw new Error(o)}const{topic:i}=r;await this.isValidPairingTopic(i)}),Ye(this,"isValidPairingTopic",async r=>{if(!Xt(r,!1)){const{message:i}=be("MISSING_OR_INVALID",`pairing topic should be a string: ${r}`);throw new Error(i)}if(!this.pairings.keys.includes(r)){const{message:i}=be("NO_MATCHING_KEY",`pairing topic doesn't exist: ${r}`);throw new Error(i)}if(ja(this.pairings.get(r).expiry)){await this.deletePairing(r);const{message:i}=be("EXPIRED",`pairing topic: ${r}`);throw new Error(i)}}),this.core=e,this.logger=ar(n,this.name),this.pairings=new lu(this.core,this.logger,this.name,this.storagePrefix)}get context(){return _r(this.logger)}isInitialized(){if(!this.initialized){const{message:e}=be("NOT_INITIALIZED",this.name);throw new Error(e)}}registerRelayerEvents(){this.core.relayer.on(Ft.message,async e=>{const{topic:n,message:r,transportType:i}=e;if(this.pairings.keys.includes(n)&&i!==At.link_mode&&!this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(r)))try{const o=await this.core.crypto.decode(n,r);dT(o)?(this.core.history.set(n,o),await this.onRelayEventRequest({topic:n,payload:o})):pw(o)&&(await this.core.history.resolve(o),await this.onRelayEventResponse({topic:n,payload:o}),this.core.history.delete(n,o.id)),await this.core.relayer.messages.ack(n,r)}catch(o){this.logger.error(o)}})}registerExpirerEvents(){this.core.expirer.on(yi.expired,async e=>{const{topic:n}=ok(e.target);n&&this.pairings.keys.includes(n)&&(await this.deletePairing(n,!0),this.events.emit(ol.expire,{topic:n}))})}}var _he=Object.defineProperty,Ihe=(t,e,n)=>e in t?_he(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Sn=(t,e,n)=>Ihe(t,typeof e!="symbol"?e+"":e,n);class Bhe extends fce{constructor(e,n){super(e,n),this.core=e,this.logger=n,Sn(this,"records",new Map),Sn(this,"events",new ei.EventEmitter),Sn(this,"name",kle),Sn(this,"version",Ule),Sn(this,"cached",[]),Sn(this,"initialized",!1),Sn(this,"storagePrefix",Ks),Sn(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(r=>this.records.set(r.id,r)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),Sn(this,"set",(r,i,o)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:r,request:i,chainId:o}),this.records.has(i.id))return;const a={id:i.id,topic:r,request:{method:i.method,params:i.params||null},chainId:o,expiry:rn(we.THIRTY_DAYS)};this.records.set(a.id,a),this.persist(),this.events.emit($i.created,a)}),Sn(this,"resolve",async r=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:r}),!this.records.has(r.id))return;const i=await this.getRecord(r.id);typeof i.response>"u"&&(i.response=Ci(r)?{error:r.error}:{result:r.result},this.records.set(i.id,i),this.persist(),this.events.emit($i.updated,i))}),Sn(this,"get",async(r,i)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:r,id:i}),await this.getRecord(i))),Sn(this,"delete",(r,i)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:i}),this.values.forEach(o=>{if(o.topic===r){if(typeof i<"u"&&o.id!==i)return;this.records.delete(o.id),this.events.emit($i.deleted,o)}}),this.persist()}),Sn(this,"exists",async(r,i)=>(this.isInitialized(),this.records.has(i)?(await this.getRecord(i)).topic===r:!1)),Sn(this,"on",(r,i)=>{this.events.on(r,i)}),Sn(this,"once",(r,i)=>{this.events.once(r,i)}),Sn(this,"off",(r,i)=>{this.events.off(r,i)}),Sn(this,"removeListener",(r,i)=>{this.events.removeListener(r,i)}),this.logger=ar(n,this.name)}get context(){return _r(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const e=[];return this.values.forEach(n=>{if(typeof n.response<"u")return;const r={topic:n.topic,request:Rs(n.request.method,n.request.params,n.id),chainId:n.chainId};return e.push(r)}),e}async setJsonRpcRecords(e){await this.core.storage.setItem(this.storageKey,e)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(e){this.isInitialized();const n=this.records.get(e);if(!n){const{message:r}=be("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(r)}return n}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit($i.sync)}async restore(){try{const e=await this.getJsonRpcRecords();if(typeof e>"u"||!e.length)return;if(this.records.size){const{message:n}=be("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(e){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(e)}}registerEventListeners(){this.events.on($i.created,e=>{const n=$i.created;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:e})}),this.events.on($i.updated,e=>{const n=$i.updated;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:e})}),this.events.on($i.deleted,e=>{const n=$i.deleted;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:e})}),this.core.heartbeat.on(au.pulse,()=>{this.cleanup()})}cleanup(){try{this.isInitialized();let e=!1;this.records.forEach(n=>{we.toMiliseconds(n.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${n.id}`),this.records.delete(n.id),this.events.emit($i.deleted,n,!1),e=!0)}),e&&this.persist()}catch(e){this.logger.warn(e)}}isInitialized(){if(!this.initialized){const{message:e}=be("NOT_INITIALIZED",this.name);throw new Error(e)}}}var Mhe=Object.defineProperty,khe=(t,e,n)=>e in t?Mhe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Fn=(t,e,n)=>khe(t,typeof e!="symbol"?e+"":e,n);class Uhe extends yce{constructor(e,n){super(e,n),this.core=e,this.logger=n,Fn(this,"expirations",new Map),Fn(this,"events",new ei.EventEmitter),Fn(this,"name",Lle),Fn(this,"version",$le),Fn(this,"cached",[]),Fn(this,"initialized",!1),Fn(this,"storagePrefix",Ks),Fn(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(r=>this.expirations.set(r.target,r)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),Fn(this,"has",r=>{try{const i=this.formatTarget(r);return typeof this.getExpiration(i)<"u"}catch{return!1}}),Fn(this,"set",(r,i)=>{this.isInitialized();const o=this.formatTarget(r),a={target:o,expiry:i};this.expirations.set(o,a),this.checkExpiry(o,a),this.events.emit(yi.created,{target:o,expiration:a})}),Fn(this,"get",r=>{this.isInitialized();const i=this.formatTarget(r);return this.getExpiration(i)}),Fn(this,"del",r=>{if(this.isInitialized(),this.has(r)){const i=this.formatTarget(r),o=this.getExpiration(i);this.expirations.delete(i),this.events.emit(yi.deleted,{target:i,expiration:o})}}),Fn(this,"on",(r,i)=>{this.events.on(r,i)}),Fn(this,"once",(r,i)=>{this.events.once(r,i)}),Fn(this,"off",(r,i)=>{this.events.off(r,i)}),Fn(this,"removeListener",(r,i)=>{this.events.removeListener(r,i)}),this.logger=ar(n,this.name)}get context(){return _r(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(e){if(typeof e=="string")return cre(e);if(typeof e=="number")return lre(e);const{message:n}=be("UNKNOWN_TYPE",`Target type: ${typeof e}`);throw new Error(n)}async setExpirations(e){await this.core.storage.setItem(this.storageKey,e)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(yi.sync)}async restore(){try{const e=await this.getExpirations();if(typeof e>"u"||!e.length)return;if(this.expirations.size){const{message:n}=be("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(e){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(e)}}getExpiration(e){const n=this.expirations.get(e);if(!n){const{message:r}=be("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.warn(r),new Error(r)}return n}checkExpiry(e,n){const{expiry:r}=n;we.toMiliseconds(r)-Date.now()<=0&&this.expire(e,n)}expire(e,n){this.expirations.delete(e),this.events.emit(yi.expired,{target:e,expiration:n})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((e,n)=>this.checkExpiry(n,e))}registerEventListeners(){this.core.heartbeat.on(au.pulse,()=>this.checkExpirations()),this.events.on(yi.created,e=>{const n=yi.created;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:e}),this.persist()}),this.events.on(yi.expired,e=>{const n=yi.expired;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:e}),this.persist()}),this.events.on(yi.deleted,e=>{const n=yi.deleted;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:e}),this.persist()})}isInitialized(){if(!this.initialized){const{message:e}=be("NOT_INITIALIZED",this.name);throw new Error(e)}}}var Lhe=Object.defineProperty,$he=(t,e,n)=>e in t?Lhe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Qt=(t,e,n)=>$he(t,typeof e!="symbol"?e+"":e,n);class jhe extends bce{constructor(e,n,r){super(e,n,r),this.core=e,this.logger=n,this.store=r,Qt(this,"name",jle),Qt(this,"abortController"),Qt(this,"isDevEnv"),Qt(this,"verifyUrlV3",zle),Qt(this,"storagePrefix",Ks),Qt(this,"version",lU),Qt(this,"publicKey"),Qt(this,"fetchPromise"),Qt(this,"init",async()=>{var i;this.isDevEnv||(this.publicKey=await this.store.getItem(this.storeKey),this.publicKey&&we.toMiliseconds((i=this.publicKey)==null?void 0:i.expiresAt)<Date.now()&&(this.logger.debug("verify v2 public key expired"),await this.removePublicKey()))}),Qt(this,"register",async i=>{if(!ed()||this.isDevEnv)return;const o=window.location.origin,{id:a,decryptedId:l}=i,f=`${this.verifyUrlV3}/attestation?projectId=${this.core.projectId}&origin=${o}&id=${a}&decryptedId=${l}`;try{const h=qo.getDocument(),d=this.startAbortTimer(we.ONE_SECOND*5),g=await new Promise((y,b)=>{const x=()=>{window.removeEventListener("message",E),h.body.removeChild(w),b("attestation aborted")};this.abortController.signal.addEventListener("abort",x);const w=h.createElement("iframe");w.src=f,w.style.display="none",w.addEventListener("error",x,{signal:this.abortController.signal});const E=A=>{if(A.data&&typeof A.data=="string")try{const C=JSON.parse(A.data);if(C.type==="verify_attestation"){if(zA(C.attestation).payload.id!==a)return;clearInterval(d),h.body.removeChild(w),this.abortController.signal.removeEventListener("abort",x),window.removeEventListener("message",E),y(C.attestation===null?"":C.attestation)}}catch(C){this.logger.warn(C)}};h.body.appendChild(w),window.addEventListener("message",E,{signal:this.abortController.signal})});return this.logger.debug("jwt attestation",g),g}catch(h){this.logger.warn(h)}return""}),Qt(this,"resolve",async i=>{if(this.isDevEnv)return"";const{attestationId:o,hash:a,encryptedId:l}=i;if(o===""){this.logger.debug("resolve: attestationId is empty, skipping");return}if(o){if(zA(o).payload.id!==l)return;const h=await this.isValidJwtAttestation(o);if(h){if(!h.isVerified){this.logger.warn("resolve: jwt attestation: origin url not verified");return}return h}}if(!a)return;const f=this.getVerifyUrl(i==null?void 0:i.verifyUrl);return this.fetchAttestation(a,f)}),Qt(this,"fetchAttestation",async(i,o)=>{this.logger.debug(`resolving attestation: ${i} from url: ${o}`);const a=this.startAbortTimer(we.ONE_SECOND*5),l=await fetch(`${o}/attestation/${i}?v2Supported=true`,{signal:this.abortController.signal});return clearTimeout(a),l.status===200?await l.json():void 0}),Qt(this,"getVerifyUrl",i=>{let o=i||ng;return Vle.includes(o)||(this.logger.info(`verify url: ${o}, not included in trusted list, assigning default: ${ng}`),o=ng),o}),Qt(this,"fetchPublicKey",async()=>{try{this.logger.debug(`fetching public key from: ${this.verifyUrlV3}`);const i=this.startAbortTimer(we.FIVE_SECONDS),o=await fetch(`${this.verifyUrlV3}/public-key`,{signal:this.abortController.signal});return clearTimeout(i),await o.json()}catch(i){this.logger.warn(i)}}),Qt(this,"persistPublicKey",async i=>{this.logger.debug("persisting public key to local storage",i),await this.store.setItem(this.storeKey,i),this.publicKey=i}),Qt(this,"removePublicKey",async()=>{this.logger.debug("removing verify v2 public key from storage"),await this.store.removeItem(this.storeKey),this.publicKey=void 0}),Qt(this,"isValidJwtAttestation",async i=>{const o=await this.getPublicKey();try{if(o)return this.validateAttestation(i,o)}catch(l){this.logger.error(l),this.logger.warn("error validating attestation")}const a=await this.fetchAndPersistPublicKey();try{if(a)return this.validateAttestation(i,a)}catch(l){this.logger.error(l),this.logger.warn("error validating attestation")}}),Qt(this,"getPublicKey",async()=>this.publicKey?this.publicKey:await this.fetchAndPersistPublicKey()),Qt(this,"fetchAndPersistPublicKey",async()=>{if(this.fetchPromise)return await this.fetchPromise,this.publicKey;this.fetchPromise=new Promise(async o=>{const a=await this.fetchPublicKey();a&&(await this.persistPublicKey(a),o(a))});const i=await this.fetchPromise;return this.fetchPromise=void 0,i}),Qt(this,"validateAttestation",(i,o)=>{const a=roe(i,o.publicKey),l={hasExpired:we.toMiliseconds(a.exp)<Date.now(),payload:a};if(l.hasExpired)throw this.logger.warn("resolve: jwt attestation expired"),new Error("JWT attestation expired");return{origin:l.payload.origin,isScam:l.payload.isScam,isVerified:l.payload.isVerified}}),this.logger=ar(n,this.name),this.abortController=new AbortController,this.isDevEnv=XS(),this.init()}get storeKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//verify:public:key"}get context(){return _r(this.logger)}startAbortTimer(e){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),we.toMiliseconds(e))}}var Fhe=Object.defineProperty,zhe=(t,e,n)=>e in t?Fhe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,qI=(t,e,n)=>zhe(t,typeof e!="symbol"?e+"":e,n);class Vhe extends wce{constructor(e,n){super(e,n),this.projectId=e,this.logger=n,qI(this,"context",Hle),qI(this,"registerDeviceToken",async r=>{const{clientId:i,token:o,notificationType:a,enableEncrypted:l=!1}=r,f=`${qle}/${this.projectId}/clients`;await fetch(f,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:i,type:a,token:o,always_raw:l})})}),this.logger=ar(n,this.context)}}var Hhe=Object.defineProperty,GI=Object.getOwnPropertySymbols,qhe=Object.prototype.hasOwnProperty,Ghe=Object.prototype.propertyIsEnumerable,m2=(t,e,n)=>e in t?Hhe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Dp=(t,e)=>{for(var n in e||(e={}))qhe.call(e,n)&&m2(t,n,e[n]);if(GI)for(var n of GI(e))Ghe.call(e,n)&&m2(t,n,e[n]);return t},dn=(t,e,n)=>m2(t,typeof e!="symbol"?e+"":e,n);class Khe extends vce{constructor(e,n,r=!0){super(e,n,r),this.core=e,this.logger=n,dn(this,"context",Kle),dn(this,"storagePrefix",Ks),dn(this,"storageVersion",Gle),dn(this,"events",new Map),dn(this,"shouldPersist",!1),dn(this,"init",async()=>{if(!XS())try{const i={eventId:m_(),timestamp:Date.now(),domain:this.getAppDomain(),props:{event:"INIT",type:"",properties:{client_id:await this.core.crypto.getClientId(),user_agent:ik(this.core.relayer.protocol,this.core.relayer.version,c2)}}};await this.sendEvent([i])}catch(i){this.logger.warn(i)}}),dn(this,"createEvent",i=>{const{event:o="ERROR",type:a="",properties:{topic:l,trace:f}}=i,h=m_(),d=this.core.projectId||"",g=Date.now(),y=Dp({eventId:h,timestamp:g,props:{event:o,type:a,properties:{topic:l,trace:f}},bundleId:d,domain:this.getAppDomain()},this.setMethods(h));return this.telemetryEnabled&&(this.events.set(h,y),this.shouldPersist=!0),y}),dn(this,"getEvent",i=>{const{eventId:o,topic:a}=i;if(o)return this.events.get(o);const l=Array.from(this.events.values()).find(f=>f.props.properties.topic===a);if(l)return Dp(Dp({},l),this.setMethods(l.eventId))}),dn(this,"deleteEvent",i=>{const{eventId:o}=i;this.events.delete(o),this.shouldPersist=!0}),dn(this,"setEventListeners",()=>{this.core.heartbeat.on(au.pulse,async()=>{this.shouldPersist&&await this.persist(),this.events.forEach(i=>{we.fromMiliseconds(Date.now())-we.fromMiliseconds(i.timestamp)>Qle&&(this.events.delete(i.eventId),this.shouldPersist=!0)})})}),dn(this,"setMethods",i=>({addTrace:o=>this.addTrace(i,o),setError:o=>this.setError(i,o)})),dn(this,"addTrace",(i,o)=>{const a=this.events.get(i);a&&(a.props.properties.trace.push(o),this.events.set(i,a),this.shouldPersist=!0)}),dn(this,"setError",(i,o)=>{const a=this.events.get(i);a&&(a.props.type=o,a.timestamp=Date.now(),this.events.set(i,a),this.shouldPersist=!0)}),dn(this,"persist",async()=>{await this.core.storage.setItem(this.storageKey,Array.from(this.events.values())),this.shouldPersist=!1}),dn(this,"restore",async()=>{try{const i=await this.core.storage.getItem(this.storageKey)||[];if(!i.length)return;i.forEach(o=>{this.events.set(o.eventId,Dp(Dp({},o),this.setMethods(o.eventId)))})}catch(i){this.logger.warn(i)}}),dn(this,"submit",async()=>{if(!this.telemetryEnabled||this.events.size===0)return;const i=[];for(const[o,a]of this.events)a.props.type&&i.push(a);if(i.length!==0)try{if((await this.sendEvent(i)).ok)for(const o of i)this.events.delete(o.eventId),this.shouldPersist=!0}catch(o){this.logger.warn(o)}}),dn(this,"sendEvent",async i=>{const o=this.getAppDomain()?"":"&sp=desktop";return await fetch(`${Yle}?projectId=${this.core.projectId}&st=events_sdk&sv=js-${c2}${o}`,{method:"POST",body:JSON.stringify(i)})}),dn(this,"getAppDomain",()=>rk().url),this.logger=ar(n,this.context),this.telemetryEnabled=r,r?this.restore().then(async()=>{await this.submit(),this.setEventListeners()}):this.persist()}get storageKey(){return this.storagePrefix+this.storageVersion+this.core.customStoragePrefix+"//"+this.context}}var Qhe=Object.defineProperty,KI=Object.getOwnPropertySymbols,Yhe=Object.prototype.hasOwnProperty,Whe=Object.prototype.propertyIsEnumerable,y2=(t,e,n)=>e in t?Qhe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,QI=(t,e)=>{for(var n in e||(e={}))Yhe.call(e,n)&&y2(t,n,e[n]);if(KI)for(var n of KI(e))Whe.call(e,n)&&y2(t,n,e[n]);return t},xt=(t,e,n)=>y2(t,typeof e!="symbol"?e+"":e,n);let Xhe=class SU extends ace{constructor(e){var n;super(e),xt(this,"protocol",cU),xt(this,"version",lU),xt(this,"name",a2),xt(this,"relayUrl"),xt(this,"projectId"),xt(this,"customStoragePrefix"),xt(this,"events",new ei.EventEmitter),xt(this,"logger"),xt(this,"heartbeat"),xt(this,"relayer"),xt(this,"crypto"),xt(this,"storage"),xt(this,"history"),xt(this,"expirer"),xt(this,"pairing"),xt(this,"verify"),xt(this,"echoClient"),xt(this,"linkModeSupportedApps"),xt(this,"eventClient"),xt(this,"initialized",!1),xt(this,"logChunkController"),xt(this,"on",(l,f)=>this.events.on(l,f)),xt(this,"once",(l,f)=>this.events.once(l,f)),xt(this,"off",(l,f)=>this.events.off(l,f)),xt(this,"removeListener",(l,f)=>this.events.removeListener(l,f)),xt(this,"dispatchEnvelope",({topic:l,message:f,sessionExists:h})=>{if(!l||!f)return;const d={topic:l,message:f,publishedAt:Date.now(),transportType:At.link_mode};this.relayer.onLinkMessageEvent(d,{sessionExists:h})});const r=this.getGlobalCore(e==null?void 0:e.customStoragePrefix);if(r)try{return this.customStoragePrefix=r.customStoragePrefix,this.logger=r.logger,this.heartbeat=r.heartbeat,this.crypto=r.crypto,this.history=r.history,this.expirer=r.expirer,this.storage=r.storage,this.relayer=r.relayer,this.pairing=r.pairing,this.verify=r.verify,this.echoClient=r.echoClient,this.linkModeSupportedApps=r.linkModeSupportedApps,this.eventClient=r.eventClient,this.initialized=r.initialized,this.logChunkController=r.logChunkController,r}catch(l){console.warn("Failed to copy global core",l)}this.projectId=e==null?void 0:e.projectId,this.relayUrl=(e==null?void 0:e.relayUrl)||fU,this.customStoragePrefix=e!=null&&e.customStoragePrefix?`:${e.customStoragePrefix}`:"";const i=hw({level:typeof(e==null?void 0:e.logger)=="string"&&e.logger?e.logger:mle.logger,name:a2}),{logger:o,chunkLoggerController:a}=ice({opts:i,maxSizeInBytes:e==null?void 0:e.maxLogBlobSizeInBytes,loggerOverride:e==null?void 0:e.logger});this.logChunkController=a,(n=this.logChunkController)!=null&&n.downloadLogsBlobInBrowser&&(window.downloadLogsBlobInBrowser=async()=>{var l,f;(l=this.logChunkController)!=null&&l.downloadLogsBlobInBrowser&&((f=this.logChunkController)==null||f.downloadLogsBlobInBrowser({clientId:await this.crypto.getClientId()}))}),this.logger=ar(o,this.name),this.heartbeat=new aae,this.crypto=new Sfe(this,this.logger,e==null?void 0:e.keychain),this.history=new Bhe(this,this.logger),this.expirer=new Uhe(this,this.logger),this.storage=e!=null&&e.storage?e.storage:new Fae(QI(QI({},yle),e==null?void 0:e.storageOptions)),this.relayer=new Xfe({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new Rhe(this,this.logger),this.verify=new jhe(this,this.logger,this.storage),this.echoClient=new Vhe(this.projectId||"",this.logger),this.linkModeSupportedApps=[],this.eventClient=new Khe(this,this.logger,e==null?void 0:e.telemetryEnabled),this.setGlobalCore(this)}static async init(e){const n=new SU(e);await n.initialize();const r=await n.crypto.getClientId();return await n.storage.setItem(Rle,r),n}get context(){return _r(this.logger)}async start(){this.initialized||await this.initialize()}async getLogsBlob(){var e;return(e=this.logChunkController)==null?void 0:e.logsToBlob({clientId:await this.crypto.getClientId()})}async addLinkModeSupportedApp(e){this.linkModeSupportedApps.includes(e)||(this.linkModeSupportedApps.push(e),await this.storage.setItem(CI,this.linkModeSupportedApps))}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.linkModeSupportedApps=await this.storage.getItem(CI)||[],this.initialized=!0,this.logger.info("Core Initialization Success")}catch(e){throw this.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,e),this.logger.error(e.message),e}}getGlobalCore(e=""){try{if(this.isGlobalCoreDisabled())return;const n=`_walletConnectCore_${e}`,r=`${n}_count`;return globalThis[r]=(globalThis[r]||0)+1,globalThis[r]>1&&console.warn(`WalletConnect Core is already initialized. This is probably a mistake and can lead to unexpected behavior. Init() was called ${globalThis[r]} times.`),globalThis[n]}catch(n){console.warn("Failed to get global WalletConnect core",n);return}}setGlobalCore(e){var n;try{if(this.isGlobalCoreDisabled())return;const r=`_walletConnectCore_${((n=e.opts)==null?void 0:n.customStoragePrefix)||""}`;globalThis[r]=e}catch(r){console.warn("Failed to set global WalletConnect core",r)}}isGlobalCoreDisabled(){try{return typeof process<"u"&&gle.DISABLE_GLOBAL_CORE==="true"}catch{return!0}}};const Zhe=Xhe,TU="wc",CU=2,OU="client",pT=`${TU}@${CU}:${OU}:`,cE={name:OU,logger:"error"},YI="WALLETCONNECT_DEEPLINK_CHOICE",Jhe="proposal",WI="Proposal expired",ede="session",af=we.SEVEN_DAYS,tde="engine",Tn={wc_sessionPropose:{req:{ttl:we.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:we.FIVE_MINUTES,prompt:!1,tag:1101},reject:{ttl:we.FIVE_MINUTES,prompt:!1,tag:1120},autoReject:{ttl:we.FIVE_MINUTES,prompt:!1,tag:1121}},wc_sessionSettle:{req:{ttl:we.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:we.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:we.ONE_DAY,prompt:!1,tag:1104},res:{ttl:we.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:we.ONE_DAY,prompt:!1,tag:1106},res:{ttl:we.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:we.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:we.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:we.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:we.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:we.ONE_DAY,prompt:!1,tag:1112},res:{ttl:we.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:we.ONE_DAY,prompt:!1,tag:1114},res:{ttl:we.ONE_DAY,prompt:!1,tag:1115}},wc_sessionAuthenticate:{req:{ttl:we.ONE_HOUR,prompt:!0,tag:1116},res:{ttl:we.ONE_HOUR,prompt:!1,tag:1117},reject:{ttl:we.FIVE_MINUTES,prompt:!1,tag:1118},autoReject:{ttl:we.FIVE_MINUTES,prompt:!1,tag:1119}}},lE={min:we.FIVE_MINUTES,max:we.SEVEN_DAYS},ms={idle:"IDLE",active:"ACTIVE"},nde={eth_sendTransaction:{key:""},eth_sendRawTransaction:{key:""},wallet_sendCalls:{key:""},solana_signTransaction:{key:"signature"},solana_signAllTransactions:{key:"transactions"},solana_signAndSendTransaction:{key:"signature"},sui_signAndExecuteTransaction:{key:"digest"},sui_signTransaction:{key:""},hedera_signAndExecuteTransaction:{key:"transactionId"},hedera_executeTransaction:{key:"transactionId"},near_signTransaction:{key:""},near_signTransactions:{key:""},tron_signTransaction:{key:"txID"},xrpl_signTransaction:{key:""},xrpl_signTransactionFor:{key:""},algo_signTxn:{key:""},sendTransfer:{key:"txid"},stacks_stxTransfer:{key:"txId"},polkadot_signTransaction:{key:""},cosmos_signDirect:{key:""}},rde="request",ide=["wc_sessionPropose","wc_sessionRequest","wc_authRequest","wc_sessionAuthenticate"],sde="wc",ode="auth",ade="authKeys",cde="pairingTopics",lde="requests",mw=`${sde}@${1.5}:${ode}:`,$0=`${mw}:PUB_KEY`;var ude=Object.defineProperty,fde=Object.defineProperties,hde=Object.getOwnPropertyDescriptors,XI=Object.getOwnPropertySymbols,dde=Object.prototype.hasOwnProperty,pde=Object.prototype.propertyIsEnumerable,b2=(t,e,n)=>e in t?ude(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ft=(t,e)=>{for(var n in e||(e={}))dde.call(e,n)&&b2(t,n,e[n]);if(XI)for(var n of XI(e))pde.call(e,n)&&b2(t,n,e[n]);return t},zn=(t,e)=>fde(t,hde(e)),ge=(t,e,n)=>b2(t,typeof e!="symbol"?e+"":e,n);class gde extends Sce{constructor(e){super(e),ge(this,"name",tde),ge(this,"events",new $S),ge(this,"initialized",!1),ge(this,"requestQueue",{state:ms.idle,queue:[]}),ge(this,"sessionRequestQueue",{state:ms.idle,queue:[]}),ge(this,"emittedSessionRequests",new bre({limit:500})),ge(this,"requestQueueDelay",we.ONE_SECOND),ge(this,"expectedPairingMethodMap",new Map),ge(this,"recentlyDeletedMap",new Map),ge(this,"recentlyDeletedLimit",200),ge(this,"relayMessageCache",[]),ge(this,"pendingSessions",new Map),ge(this,"init",async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),await this.registerLinkModeListeners(),this.client.core.pairing.register({methods:Object.keys(Tn)}),this.initialized=!0,setTimeout(async()=>{await this.processPendingMessageEvents(),this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()},we.toMiliseconds(this.requestQueueDelay)))}),ge(this,"connect",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();const r=zn(ft({},n),{requiredNamespaces:n.requiredNamespaces||{},optionalNamespaces:n.optionalNamespaces||{}});await this.isValidConnect(r),r.optionalNamespaces=woe(r.requiredNamespaces,r.optionalNamespaces),r.requiredNamespaces={};const{pairingTopic:i,requiredNamespaces:o,optionalNamespaces:a,sessionProperties:l,scopedProperties:f,relays:h}=r;let d=i,g,y=!1;try{if(d){const P=this.client.core.pairing.pairings.get(d);this.client.logger.warn("connect() with existing pairing topic is deprecated and will be removed in the next major release."),y=P.active}}catch(P){throw this.client.logger.error(`connect() -> pairing.get(${d}) failed`),P}if(!d||!y){const{topic:P,uri:M}=await this.client.core.pairing.create({internal:{skipSubscribe:!0}});d=P,g=M}if(!d){const{message:P}=be("NO_MATCHING_KEY",`connect() pairing topic: ${d}`);throw new Error(P)}const b=await this.client.core.crypto.generateKeyPair(),x=Tn.wc_sessionPropose.req.ttl||we.FIVE_MINUTES,w=rn(x),E=zn(ft(ft({requiredNamespaces:o,optionalNamespaces:a,relays:h??[{protocol:uU}],proposer:{publicKey:b,metadata:this.client.metadata},expiryTimestamp:w,pairingTopic:d},l&&{sessionProperties:l}),f&&{scopedProperties:f}),{id:bs()}),A=at("session_connect",E.id),{reject:C,resolve:S,done:R}=tl(x,WI),O=({id:P})=>{P===E.id&&(this.client.events.off("proposal_expire",O),this.pendingSessions.delete(E.id),this.events.emit(A,{error:{message:WI,code:0}}))};return this.client.events.on("proposal_expire",O),this.events.once(A,({error:P,session:M})=>{this.client.events.off("proposal_expire",O),P?C(P):M&&S(M)}),await this.sendProposeSession({proposal:E,publishOpts:{internal:{throwOnFailedPublish:!0},tvf:{correlationId:E.id}}}),await this.setProposal(E.id,E),{uri:g,approval:R}}),ge(this,"pair",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{return await this.client.core.pairing.pair(n)}catch(r){throw this.client.logger.error("pair() failed"),r}}),ge(this,"approve",async n=>{var r,i,o;const a=this.client.core.eventClient.createEvent({properties:{topic:(r=n==null?void 0:n.id)==null?void 0:r.toString(),trace:[Ma.session_approve_started]}});try{this.isInitialized(),await this.confirmOnlineStateOrThrow()}catch(k){throw a.setError(Tp.no_internet_connection),k}try{await this.isValidProposalId(n==null?void 0:n.id)}catch(k){throw this.client.logger.error(`approve() -> proposal.get(${n==null?void 0:n.id}) failed`),a.setError(Tp.proposal_not_found),k}try{await this.isValidApprove(n)}catch(k){throw this.client.logger.error("approve() -> isValidApprove() failed"),a.setError(Tp.session_approve_namespace_validation_failure),k}const{id:l,relayProtocol:f,namespaces:h,sessionProperties:d,scopedProperties:g,sessionConfig:y}=n,b=this.client.proposal.get(l);this.client.core.eventClient.deleteEvent({eventId:a.eventId});const{pairingTopic:x,proposer:w,requiredNamespaces:E,optionalNamespaces:A}=b;let C=(i=this.client.core.eventClient)==null?void 0:i.getEvent({topic:x});C||(C=(o=this.client.core.eventClient)==null?void 0:o.createEvent({type:Ma.session_approve_started,properties:{topic:x,trace:[Ma.session_approve_started,Ma.session_namespaces_validation_success]}}));const S=await this.client.core.crypto.generateKeyPair(),R=w.publicKey,O=await this.client.core.crypto.generateSharedKey(S,R),P=ft(ft(ft({relay:{protocol:f??"irn"},namespaces:h,controller:{publicKey:S,metadata:this.client.metadata},expiry:rn(af)},d&&{sessionProperties:d}),g&&{scopedProperties:g}),y&&{sessionConfig:y}),M=At.relay;C.addTrace(Ma.subscribing_session_topic);try{await this.client.core.relayer.subscribe(O,{transportType:M,internal:{skipSubscribe:!0}})}catch(k){throw C.setError(Tp.subscribe_session_topic_failure),k}C.addTrace(Ma.subscribe_session_topic_success);const I=zn(ft({},P),{topic:O,requiredNamespaces:E,optionalNamespaces:A,pairingTopic:x,acknowledged:!1,self:P.controller,peer:{publicKey:w.publicKey,metadata:w.metadata},controller:S,transportType:At.relay});await this.client.session.set(O,I),C.addTrace(Ma.store_session);try{await this.sendApproveSession({sessionTopic:O,proposal:b,pairingProposalResponse:{relay:{protocol:f??"irn"},responderPublicKey:S},sessionSettleRequest:P,publishOpts:{internal:{throwOnFailedPublish:!0},tvf:{correlationId:l}}}),C.addTrace(Ma.session_approve_publish_success)}catch(k){throw this.client.logger.error(k),this.client.session.delete(O,St("USER_DISCONNECTED")),await this.client.core.relayer.unsubscribe(O),k}return this.client.core.eventClient.deleteEvent({eventId:C.eventId}),await this.client.core.pairing.updateMetadata({topic:x,metadata:w.metadata}),await this.deleteProposal(l),await this.client.core.pairing.activate({topic:x}),await this.setExpiry(O,rn(af)),{topic:O,acknowledged:()=>Promise.resolve(this.client.session.get(O))}}),ge(this,"reject",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidReject(n)}catch(a){throw this.client.logger.error("reject() -> isValidReject() failed"),a}const{id:r,reason:i}=n;let o;try{o=this.client.proposal.get(r).pairingTopic}catch(a){throw this.client.logger.error(`reject() -> proposal.get(${r}) failed`),a}o&&await this.sendError({id:r,topic:o,error:i,rpcOpts:Tn.wc_sessionPropose.reject}),await this.deleteProposal(r)}),ge(this,"update",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidUpdate(n)}catch(g){throw this.client.logger.error("update() -> isValidUpdate() failed"),g}const{topic:r,namespaces:i}=n,{done:o,resolve:a,reject:l}=tl(),f=bs(),h=fc().toString(),d=this.client.session.get(r).namespaces;return this.events.once(at("session_update",f),({error:g})=>{g?l(g):a()}),await this.client.session.update(r,{namespaces:i}),await this.sendRequest({topic:r,method:"wc_sessionUpdate",params:{namespaces:i},throwOnFailedPublish:!0,clientRpcId:f,relayRpcId:h}).catch(g=>{this.client.logger.error(g),this.client.session.update(r,{namespaces:d}),l(g)}),{acknowledged:o}}),ge(this,"extend",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidExtend(n)}catch(f){throw this.client.logger.error("extend() -> isValidExtend() failed"),f}const{topic:r}=n,i=bs(),{done:o,resolve:a,reject:l}=tl();return this.events.once(at("session_extend",i),({error:f})=>{f?l(f):a()}),await this.setExpiry(r,rn(af)),this.sendRequest({topic:r,method:"wc_sessionExtend",params:{},clientRpcId:i,throwOnFailedPublish:!0}).catch(f=>{l(f)}),{acknowledged:o}}),ge(this,"request",async n=>{this.isInitialized();try{await this.isValidRequest(n)}catch(E){throw this.client.logger.error("request() -> isValidRequest() failed"),E}const{chainId:r,request:i,topic:o,expiry:a=Tn.wc_sessionRequest.req.ttl}=n,l=this.client.session.get(o);(l==null?void 0:l.transportType)===At.relay&&await this.confirmOnlineStateOrThrow();const f=bs(),h=fc().toString(),{done:d,resolve:g,reject:y}=tl(a,"Request expired. Please try again.");this.events.once(at("session_request",f),({error:E,result:A})=>{E?y(E):g(A)});const b="wc_sessionRequest",x=this.getAppLinkIfEnabled(l.peer.metadata,l.transportType);if(x)return await this.sendRequest({clientRpcId:f,relayRpcId:h,topic:o,method:b,params:{request:zn(ft({},i),{expiryTimestamp:rn(a)}),chainId:r},expiry:a,throwOnFailedPublish:!0,appLink:x}).catch(E=>y(E)),this.client.events.emit("session_request_sent",{topic:o,request:i,chainId:r,id:f}),await d();const w={request:zn(ft({},i),{expiryTimestamp:rn(a)}),chainId:r};return await Promise.all([new Promise(async E=>{await this.sendRequest({clientRpcId:f,relayRpcId:h,topic:o,method:b,params:w,expiry:a,throwOnFailedPublish:!0,tvf:this.getTVFParams(f,w)}).catch(A=>y(A)),this.client.events.emit("session_request_sent",{topic:o,request:i,chainId:r,id:f}),E()}),new Promise(async E=>{var A;if(!((A=l.sessionConfig)!=null&&A.disableDeepLink)){const C=await dre(this.client.core.storage,YI);await ure({id:f,topic:o,wcDeepLink:C})}E()}),d()]).then(E=>E[2])}),ge(this,"respond",async n=>{this.isInitialized(),await this.isValidRespond(n);const{topic:r,response:i}=n,{id:o}=i,a=this.client.session.get(r);a.transportType===At.relay&&await this.confirmOnlineStateOrThrow();const l=this.getAppLinkIfEnabled(a.peer.metadata,a.transportType);ws(i)?await this.sendResult({id:o,topic:r,result:i.result,throwOnFailedPublish:!0,appLink:l}):Ci(i)&&await this.sendError({id:o,topic:r,error:i.error,appLink:l}),this.cleanupAfterResponse(n)}),ge(this,"ping",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidPing(n)}catch(i){throw this.client.logger.error("ping() -> isValidPing() failed"),i}const{topic:r}=n;if(this.client.session.keys.includes(r)){const i=bs(),o=fc().toString(),{done:a,resolve:l,reject:f}=tl();this.events.once(at("session_ping",i),({error:h})=>{h?f(h):l()}),await Promise.all([this.sendRequest({topic:r,method:"wc_sessionPing",params:{},throwOnFailedPublish:!0,clientRpcId:i,relayRpcId:o}),a()])}else this.client.core.pairing.pairings.keys.includes(r)&&(this.client.logger.warn("ping() on pairing topic is deprecated and will be removed in the next major release."),await this.client.core.pairing.ping({topic:r}))}),ge(this,"emit",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidEmit(n);const{topic:r,event:i,chainId:o}=n,a=fc().toString(),l=bs();await this.sendRequest({topic:r,method:"wc_sessionEvent",params:{event:i,chainId:o},throwOnFailedPublish:!0,relayRpcId:a,clientRpcId:l})}),ge(this,"disconnect",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidDisconnect(n);const{topic:r}=n;if(this.client.session.keys.includes(r))await this.sendRequest({topic:r,method:"wc_sessionDelete",params:St("USER_DISCONNECTED"),throwOnFailedPublish:!0}),await this.deleteSession({topic:r,emitEvent:!1});else if(this.client.core.pairing.pairings.keys.includes(r))await this.client.core.pairing.disconnect({topic:r});else{const{message:i}=be("MISMATCHED_TOPIC",`Session or pairing topic not found: ${r}`);throw new Error(i)}}),ge(this,"find",n=>(this.isInitialized(),this.client.session.getAll().filter(r=>Eoe(r,n)))),ge(this,"getPendingSessionRequests",()=>this.client.pendingRequest.getAll()),ge(this,"authenticate",async(n,r)=>{var i;this.isInitialized(),this.isValidAuthenticate(n);const o=r&&this.client.core.linkModeSupportedApps.includes(r)&&((i=this.client.metadata.redirect)==null?void 0:i.linkMode),a=o?At.link_mode:At.relay;a===At.relay&&await this.confirmOnlineStateOrThrow();const{chains:l,statement:f="",uri:h,domain:d,nonce:g,type:y,exp:b,nbf:x,methods:w=[],expiry:E}=n,A=[...n.resources||[]],{topic:C,uri:S}=await this.client.core.pairing.create({methods:["wc_sessionAuthenticate"],transportType:a});this.client.logger.info({message:"Generated new pairing",pairing:{topic:C,uri:S}});const R=await this.client.core.crypto.generateKeyPair(),O=M0(R);if(await Promise.all([this.client.auth.authKeys.set($0,{responseTopic:O,publicKey:R}),this.client.auth.pairingTopics.set(O,{topic:O,pairingTopic:C})]),await this.client.core.relayer.subscribe(O,{transportType:a}),this.client.logger.info(`sending request to new pairing topic: ${C}`),w.length>0){const{namespace:H}=Hl(l[0]);let _=Pie(H,"request",w);B0(A)&&(_=Rie(_,A.pop())),A.push(_)}const P=E&&E>Tn.wc_sessionAuthenticate.req.ttl?E:Tn.wc_sessionAuthenticate.req.ttl,M={authPayload:{type:y??"caip122",chains:l,statement:f,aud:h,domain:d,version:"1",nonce:g,iat:new Date().toISOString(),exp:b,nbf:x,resources:A},requester:{publicKey:R,metadata:this.client.metadata},expiryTimestamp:rn(P)},I={eip155:{chains:l,methods:[...new Set(["personal_sign",...w])],events:["chainChanged","accountsChanged"]}},k={requiredNamespaces:{},optionalNamespaces:I,relays:[{protocol:"irn"}],pairingTopic:C,proposer:{publicKey:R,metadata:this.client.metadata},expiryTimestamp:rn(Tn.wc_sessionPropose.req.ttl),id:bs()},{done:z,resolve:V,reject:G}=tl(P,"Request expired"),Z=bs(),Y=at("session_connect",k.id),D=at("session_request",Z),T=async({error:H,session:_})=>{this.events.off(D,U),H?G(H):_&&V({session:_})},U=async H=>{var _,K,te;if(await this.deletePendingAuthRequest(Z,{message:"fulfilled",code:0}),H.error){const ve=St("WC_METHOD_UNSUPPORTED","wc_sessionAuthenticate");return H.error.code===ve.code?void 0:(this.events.off(Y,T),G(H.error.message))}await this.deleteProposal(k.id),this.events.off(Y,T);const{cacaos:X,responder:ne}=H.result,fe=[],ue=[];for(const ve of X){await O_({cacao:ve,projectId:this.client.core.projectId})||(this.client.logger.error(ve,"Signature verification failed"),G(St("SESSION_SETTLEMENT_FAILED","Signature verification failed")));const{p:Ce}=ve,Ne=B0(Ce.resources),_e=[GA(Ce.iss)],Je=pb(Ce.iss);if(Ne){const ht=D_(Ne),cr=P_(Ne);fe.push(...ht),_e.push(...cr)}for(const ht of _e)ue.push(`${ht}:${Je}`)}const he=await this.client.core.crypto.generateSharedKey(R,ne.publicKey);let ye;fe.length>0&&(ye={topic:he,acknowledged:!0,self:{publicKey:R,metadata:this.client.metadata},peer:ne,controller:ne.publicKey,expiry:rn(af),requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:C,namespaces:J_([...new Set(fe)],[...new Set(ue)]),transportType:a},await this.client.core.relayer.subscribe(he,{transportType:a}),await this.client.session.set(he,ye),C&&await this.client.core.pairing.updateMetadata({topic:C,metadata:ne.metadata}),ye=this.client.session.get(he)),(_=this.client.metadata.redirect)!=null&&_.linkMode&&(K=ne.metadata.redirect)!=null&&K.linkMode&&(te=ne.metadata.redirect)!=null&&te.universal&&r&&(this.client.core.addLinkModeSupportedApp(ne.metadata.redirect.universal),this.client.session.update(he,{transportType:At.link_mode})),V({auths:X,session:ye})};this.events.once(Y,T),this.events.once(D,U);let $;try{if(o){const H=Rs("wc_sessionAuthenticate",M,Z);this.client.core.history.set(C,H);const _=await this.client.core.crypto.encode("",H,{type:um,encoding:Ha});$=s0(r,C,_)}else await Promise.all([this.sendRequest({topic:C,method:"wc_sessionAuthenticate",params:M,expiry:n.expiry,throwOnFailedPublish:!0,clientRpcId:Z}),this.sendRequest({topic:C,method:"wc_sessionPropose",params:k,expiry:Tn.wc_sessionPropose.req.ttl,throwOnFailedPublish:!0,clientRpcId:k.id})])}catch(H){throw this.events.off(Y,T),this.events.off(D,U),H}return await this.setProposal(k.id,k),await this.setAuthRequest(Z,{request:zn(ft({},M),{verifyContext:{}}),pairingTopic:C,transportType:a}),{uri:$??S,response:z}}),ge(this,"approveSessionAuthenticate",async n=>{const{id:r,auths:i}=n,o=this.client.core.eventClient.createEvent({properties:{topic:r.toString(),trace:[Zc.authenticated_session_approve_started]}});try{this.isInitialized()}catch(E){throw o.setError(Cp.no_internet_connection),E}const a=this.getPendingAuthRequest(r);if(!a)throw o.setError(Cp.authenticated_session_pending_request_not_found),new Error(`Could not find pending auth request with id ${r}`);const l=a.transportType||At.relay;l===At.relay&&await this.confirmOnlineStateOrThrow();const f=a.requester.publicKey,h=await this.client.core.crypto.generateKeyPair(),d=M0(f),g={type:jo,receiverPublicKey:f,senderPublicKey:h},y=[],b=[];for(const E of i){if(!await O_({cacao:E,projectId:this.client.core.projectId})){o.setError(Cp.invalid_cacao);const O=St("SESSION_SETTLEMENT_FAILED","Signature verification failed");throw await this.sendError({id:r,topic:d,error:O,encodeOpts:g}),new Error(O.message)}o.addTrace(Zc.cacaos_verified);const{p:A}=E,C=B0(A.resources),S=[GA(A.iss)],R=pb(A.iss);if(C){const O=D_(C),P=P_(C);y.push(...O),S.push(...P)}for(const O of S)b.push(`${O}:${R}`)}const x=await this.client.core.crypto.generateSharedKey(h,f);o.addTrace(Zc.create_authenticated_session_topic);let w;if((y==null?void 0:y.length)>0){w={topic:x,acknowledged:!0,self:{publicKey:h,metadata:this.client.metadata},peer:{publicKey:f,metadata:a.requester.metadata},controller:f,expiry:rn(af),authentication:i,requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:a.pairingTopic,namespaces:J_([...new Set(y)],[...new Set(b)]),transportType:l},o.addTrace(Zc.subscribing_authenticated_session_topic);try{await this.client.core.relayer.subscribe(x,{transportType:l})}catch(E){throw o.setError(Cp.subscribe_authenticated_session_topic_failure),E}o.addTrace(Zc.subscribe_authenticated_session_topic_success),await this.client.session.set(x,w),o.addTrace(Zc.store_authenticated_session),await this.client.core.pairing.updateMetadata({topic:a.pairingTopic,metadata:a.requester.metadata})}o.addTrace(Zc.publishing_authenticated_session_approve);try{await this.sendResult({topic:d,id:r,result:{cacaos:i,responder:{publicKey:h,metadata:this.client.metadata}},encodeOpts:g,throwOnFailedPublish:!0,appLink:this.getAppLinkIfEnabled(a.requester.metadata,l)})}catch(E){throw o.setError(Cp.authenticated_session_approve_publish_failure),E}return await this.client.auth.requests.delete(r,{message:"fulfilled",code:0}),await this.client.core.pairing.activate({topic:a.pairingTopic}),this.client.core.eventClient.deleteEvent({eventId:o.eventId}),{session:w}}),ge(this,"rejectSessionAuthenticate",async n=>{this.isInitialized();const{id:r,reason:i}=n,o=this.getPendingAuthRequest(r);if(!o)throw new Error(`Could not find pending auth request with id ${r}`);o.transportType===At.relay&&await this.confirmOnlineStateOrThrow();const a=o.requester.publicKey,l=await this.client.core.crypto.generateKeyPair(),f=M0(a),h={type:jo,receiverPublicKey:a,senderPublicKey:l};await this.sendError({id:r,topic:f,error:i,encodeOpts:h,rpcOpts:Tn.wc_sessionAuthenticate.reject,appLink:this.getAppLinkIfEnabled(o.requester.metadata,o.transportType)}),await this.client.auth.requests.delete(r,{message:"rejected",code:0}),await this.deleteProposal(r)}),ge(this,"formatAuthMessage",n=>{this.isInitialized();const{request:r,iss:i}=n;return xk(r,i)}),ge(this,"processRelayMessageCache",()=>{setTimeout(async()=>{if(this.relayMessageCache.length!==0)for(;this.relayMessageCache.length>0;)try{const n=this.relayMessageCache.shift();n&&await this.onRelayMessage(n)}catch(n){this.client.logger.error(n)}},50)}),ge(this,"cleanupDuplicatePairings",async n=>{if(n.pairingTopic)try{const r=this.client.core.pairing.pairings.get(n.pairingTopic),i=this.client.core.pairing.pairings.getAll().filter(o=>{var a,l;return((a=o.peerMetadata)==null?void 0:a.url)&&((l=o.peerMetadata)==null?void 0:l.url)===n.peer.metadata.url&&o.topic&&o.topic!==r.topic});if(i.length===0)return;this.client.logger.info(`Cleaning up ${i.length} duplicate pairing(s)`),await Promise.all(i.map(o=>this.client.core.pairing.disconnect({topic:o.topic}))),this.client.logger.info("Duplicate pairings clean up finished")}catch(r){this.client.logger.error(r)}}),ge(this,"deleteSession",async n=>{var r;const{topic:i,expirerHasDeleted:o=!1,emitEvent:a=!0,id:l=0}=n,{self:f}=this.client.session.get(i);await this.client.core.relayer.unsubscribe(i),await this.client.session.delete(i,St("USER_DISCONNECTED")),this.addToRecentlyDeleted(i,"session"),this.client.core.crypto.keychain.has(f.publicKey)&&await this.client.core.crypto.deleteKeyPair(f.publicKey),this.client.core.crypto.keychain.has(i)&&await this.client.core.crypto.deleteSymKey(i),o||this.client.core.expirer.del(i),this.client.core.storage.removeItem(YI).catch(h=>this.client.logger.warn(h)),this.getPendingSessionRequests().forEach(h=>{h.topic===i&&this.deletePendingSessionRequest(h.id,St("USER_DISCONNECTED"))}),i===((r=this.sessionRequestQueue.queue[0])==null?void 0:r.topic)&&(this.sessionRequestQueue.state=ms.idle),a&&this.client.events.emit("session_delete",{id:l,topic:i})}),ge(this,"deleteProposal",async(n,r)=>{if(r)try{const i=this.client.proposal.get(n),o=this.client.core.eventClient.getEvent({topic:i.pairingTopic});o==null||o.setError(Tp.proposal_expired)}catch{}await Promise.all([this.client.proposal.delete(n,St("USER_DISCONNECTED")),r?Promise.resolve():this.client.core.expirer.del(n)]),this.addToRecentlyDeleted(n,"proposal")}),ge(this,"deletePendingSessionRequest",async(n,r,i=!1)=>{await Promise.all([this.client.pendingRequest.delete(n,r),i?Promise.resolve():this.client.core.expirer.del(n)]),this.addToRecentlyDeleted(n,"request"),this.sessionRequestQueue.queue=this.sessionRequestQueue.queue.filter(o=>o.id!==n),i&&(this.sessionRequestQueue.state=ms.idle,this.client.events.emit("session_request_expire",{id:n}))}),ge(this,"deletePendingAuthRequest",async(n,r,i=!1)=>{await Promise.all([this.client.auth.requests.delete(n,r),i?Promise.resolve():this.client.core.expirer.del(n)])}),ge(this,"setExpiry",async(n,r)=>{this.client.session.keys.includes(n)&&(this.client.core.expirer.set(n,r),await this.client.session.update(n,{expiry:r}))}),ge(this,"setProposal",async(n,r)=>{this.client.core.expirer.set(n,rn(Tn.wc_sessionPropose.req.ttl)),await this.client.proposal.set(n,r)}),ge(this,"setAuthRequest",async(n,r)=>{const{request:i,pairingTopic:o,transportType:a=At.relay}=r;this.client.core.expirer.set(n,i.expiryTimestamp),await this.client.auth.requests.set(n,{authPayload:i.authPayload,requester:i.requester,expiryTimestamp:i.expiryTimestamp,id:n,pairingTopic:o,verifyContext:i.verifyContext,transportType:a})}),ge(this,"setPendingSessionRequest",async n=>{const{id:r,topic:i,params:o,verifyContext:a}=n,l=o.request.expiryTimestamp||rn(Tn.wc_sessionRequest.req.ttl);this.client.core.expirer.set(r,l),await this.client.pendingRequest.set(r,{id:r,topic:i,params:o,verifyContext:a})}),ge(this,"sendRequest",async n=>{const{topic:r,method:i,params:o,expiry:a,relayRpcId:l,clientRpcId:f,throwOnFailedPublish:h,appLink:d,tvf:g,publishOpts:y={}}=n,b=Rs(i,o,f);let x;const w=!!d;try{const C=w?Ha:Sr;x=await this.client.core.crypto.encode(r,b,{encoding:C})}catch(C){throw await this.cleanup(),this.client.logger.error(`sendRequest() -> core.crypto.encode() for topic ${r} failed`),C}let E;if(ide.includes(i)){const C=Ti(JSON.stringify(b)),S=Ti(x);E=await this.client.core.verify.register({id:S,decryptedId:C})}const A=ft(ft({},Tn[i].req),y);if(A.attestation=E,a&&(A.ttl=a),l&&(A.id=l),this.client.core.history.set(r,b),w){const C=s0(d,r,x);await global.Linking.openURL(C,this.client.name)}else A.tvf=zn(ft({},g),{correlationId:b.id}),h?(A.internal=zn(ft({},A.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(r,x,A)):this.client.core.relayer.publish(r,x,A).catch(C=>this.client.logger.error(C));return b.id}),ge(this,"sendProposeSession",async n=>{const{proposal:r,publishOpts:i}=n,o=Rs("wc_sessionPropose",r,r.id);this.client.core.history.set(r.pairingTopic,o);const a=await this.client.core.crypto.encode(r.pairingTopic,o,{encoding:Sr}),l=Ti(JSON.stringify(o)),f=Ti(a),h=await this.client.core.verify.register({id:f,decryptedId:l});await this.client.core.relayer.publishCustom({payload:{pairingTopic:r.pairingTopic,sessionProposal:a},opts:zn(ft({},i),{publishMethod:"wc_proposeSession",attestation:h})})}),ge(this,"sendApproveSession",async n=>{const{sessionTopic:r,pairingProposalResponse:i,proposal:o,sessionSettleRequest:a,publishOpts:l}=n,f=_g(o.id,i),h=await this.client.core.crypto.encode(o.pairingTopic,f,{encoding:Sr}),d=Rs("wc_sessionSettle",a,l==null?void 0:l.id),g=await this.client.core.crypto.encode(r,d,{encoding:Sr});this.client.core.history.set(r,d),await this.client.core.relayer.publishCustom({payload:{sessionTopic:r,pairingTopic:o.pairingTopic,sessionProposalResponse:h,sessionSettlementRequest:g},opts:zn(ft({},l),{publishMethod:"wc_approveSession"})})}),ge(this,"sendResult",async n=>{const{id:r,topic:i,result:o,throwOnFailedPublish:a,encodeOpts:l,appLink:f}=n,h=_g(r,o);let d;const g=f&&typeof(global==null?void 0:global.Linking)<"u";try{const x=g?Ha:Sr;d=await this.client.core.crypto.encode(i,h,zn(ft({},l||{}),{encoding:x}))}catch(x){throw await this.cleanup(),this.client.logger.error(`sendResult() -> core.crypto.encode() for topic ${i} failed`),x}let y,b;try{y=await this.client.core.history.get(i,r);const x=y.request;try{b=this.getTVFParams(r,x.params,o)}catch(w){this.client.logger.warn(`sendResult() -> getTVFParams() failed: ${w==null?void 0:w.message}`)}}catch(x){throw this.client.logger.error(`sendResult() -> history.get(${i}, ${r}) failed`),x}if(g){const x=s0(f,i,d);await global.Linking.openURL(x,this.client.name)}else{const x=y.request.method,w=Tn[x].res;w.tvf=zn(ft({},b),{correlationId:r}),a?(w.internal=zn(ft({},w.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(i,d,w)):this.client.core.relayer.publish(i,d,w).catch(E=>this.client.logger.error(E))}await this.client.core.history.resolve(h)}),ge(this,"sendError",async n=>{const{id:r,topic:i,error:o,encodeOpts:a,rpcOpts:l,appLink:f}=n,h=dw(r,o);let d;const g=f&&typeof(global==null?void 0:global.Linking)<"u";try{const b=g?Ha:Sr;d=await this.client.core.crypto.encode(i,h,zn(ft({},a||{}),{encoding:b}))}catch(b){throw await this.cleanup(),this.client.logger.error(`sendError() -> core.crypto.encode() for topic ${i} failed`),b}let y;try{y=await this.client.core.history.get(i,r)}catch(b){throw this.client.logger.error(`sendError() -> history.get(${i}, ${r}) failed`),b}if(g){const b=s0(f,i,d);await global.Linking.openURL(b,this.client.name)}else{const b=y.request.method,x=l||Tn[b].res;this.client.core.relayer.publish(i,d,x)}await this.client.core.history.resolve(h)}),ge(this,"cleanup",async()=>{const n=[],r=[];this.client.session.getAll().forEach(i=>{let o=!1;ja(i.expiry)&&(o=!0),this.client.core.crypto.keychain.has(i.topic)||(o=!0),o&&n.push(i.topic)}),this.client.proposal.getAll().forEach(i=>{ja(i.expiryTimestamp)&&r.push(i.id)}),await Promise.all([...n.map(i=>this.deleteSession({topic:i})),...r.map(i=>this.deleteProposal(i))])}),ge(this,"onProviderMessageEvent",async n=>{!this.initialized||this.relayMessageCache.length>0?this.relayMessageCache.push(n):await this.onRelayMessage(n)}),ge(this,"onRelayEventRequest",async n=>{this.requestQueue.queue.push(n),await this.processRequestsQueue()}),ge(this,"processRequestsQueue",async()=>{if(this.requestQueue.state===ms.active){this.client.logger.info("Request queue already active, skipping...");return}for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=ms.active;const n=this.requestQueue.queue.shift();if(n)try{await this.processRequest(n)}catch(r){this.client.logger.warn(r)}}this.requestQueue.state=ms.idle}),ge(this,"processRequest",async n=>{const{topic:r,payload:i,attestation:o,transportType:a,encryptedId:l}=n,f=i.method;if(!this.shouldIgnorePairingRequest({topic:r,requestMethod:f}))switch(f){case"wc_sessionPropose":return await this.onSessionProposeRequest({topic:r,payload:i,attestation:o,encryptedId:l});case"wc_sessionSettle":return await this.onSessionSettleRequest(r,i);case"wc_sessionUpdate":return await this.onSessionUpdateRequest(r,i);case"wc_sessionExtend":return await this.onSessionExtendRequest(r,i);case"wc_sessionPing":return await this.onSessionPingRequest(r,i);case"wc_sessionDelete":return await this.onSessionDeleteRequest(r,i);case"wc_sessionRequest":return await this.onSessionRequest({topic:r,payload:i,attestation:o,encryptedId:l,transportType:a});case"wc_sessionEvent":return await this.onSessionEventRequest(r,i);case"wc_sessionAuthenticate":return await this.onSessionAuthenticateRequest({topic:r,payload:i,attestation:o,encryptedId:l,transportType:a});default:return this.client.logger.info(`Unsupported request method ${f}`)}}),ge(this,"onRelayEventResponse",async n=>{const{topic:r,payload:i,transportType:o}=n,a=(await this.client.core.history.get(r,i.id)).request.method;switch(a){case"wc_sessionPropose":return this.onSessionProposeResponse(r,i,o);case"wc_sessionSettle":return this.onSessionSettleResponse(r,i);case"wc_sessionUpdate":return this.onSessionUpdateResponse(r,i);case"wc_sessionExtend":return this.onSessionExtendResponse(r,i);case"wc_sessionPing":return this.onSessionPingResponse(r,i);case"wc_sessionRequest":return this.onSessionRequestResponse(r,i);case"wc_sessionAuthenticate":return this.onSessionAuthenticateResponse(r,i);default:return this.client.logger.info(`Unsupported response method ${a}`)}}),ge(this,"onRelayEventUnknownPayload",n=>{const{topic:r}=n,{message:i}=be("MISSING_OR_INVALID",`Decoded payload on topic ${r} is not identifiable as a JSON-RPC request or a response.`);throw new Error(i)}),ge(this,"shouldIgnorePairingRequest",n=>{const{topic:r,requestMethod:i}=n,o=this.expectedPairingMethodMap.get(r);return!o||o.includes(i)?!1:!!(o.includes("wc_sessionAuthenticate")&&this.client.events.listenerCount("session_authenticate")>0)}),ge(this,"onSessionProposeRequest",async n=>{const{topic:r,payload:i,attestation:o,encryptedId:a}=n,{params:l,id:f}=i;try{const h=this.client.core.eventClient.getEvent({topic:r});this.client.events.listenerCount("session_proposal")===0&&(console.warn("No listener for session_proposal event"),h==null||h.setError(vo.proposal_listener_not_found)),this.isValidConnect(ft({},i.params));const d=l.expiryTimestamp||rn(Tn.wc_sessionPropose.req.ttl),g=ft({id:f,pairingTopic:r,expiryTimestamp:d,attestation:o,encryptedId:a},l);await this.setProposal(f,g);const y=await this.getVerifyContext({attestationId:o,hash:Ti(JSON.stringify(i)),encryptedId:a,metadata:g.proposer.metadata});h==null||h.addTrace(ys.emit_session_proposal),this.client.events.emit("session_proposal",{id:f,params:g,verifyContext:y})}catch(h){await this.sendError({id:f,topic:r,error:h,rpcOpts:Tn.wc_sessionPropose.autoReject}),this.client.logger.error(h)}}),ge(this,"onSessionProposeResponse",async(n,r,i)=>{const{id:o}=r;if(ws(r)){const{result:a}=r;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:a});const l=this.client.proposal.get(o);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:l});const f=l.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:f});const h=a.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:h});const d=await this.client.core.crypto.generateSharedKey(f,h);this.pendingSessions.set(o,{sessionTopic:d,pairingTopic:n,proposalId:o,publicKey:f});const g=await this.client.core.relayer.subscribe(d,{transportType:i});this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:g}),await this.client.core.pairing.activate({topic:n})}else if(Ci(r)){await this.deleteProposal(o);const a=at("session_connect",o);if(this.events.listenerCount(a)===0)throw new Error(`emitting ${a} without any listeners, 954`);this.events.emit(a,{error:r.error})}}),ge(this,"onSessionSettleRequest",async(n,r)=>{const{id:i,params:o}=r;try{this.isValidSessionSettleRequest(o);const{relay:a,controller:l,expiry:f,namespaces:h,sessionProperties:d,scopedProperties:g,sessionConfig:y}=r.params,b=[...this.pendingSessions.values()].find(E=>E.sessionTopic===n);if(!b)return this.client.logger.error(`Pending session not found for topic ${n}`);const x=this.client.proposal.get(b.proposalId),w=zn(ft(ft(ft({topic:n,relay:a,expiry:f,namespaces:h,acknowledged:!0,pairingTopic:b.pairingTopic,requiredNamespaces:x.requiredNamespaces,optionalNamespaces:x.optionalNamespaces,controller:l.publicKey,self:{publicKey:b.publicKey,metadata:this.client.metadata},peer:{publicKey:l.publicKey,metadata:l.metadata}},d&&{sessionProperties:d}),g&&{scopedProperties:g}),y&&{sessionConfig:y}),{transportType:At.relay});await this.client.session.set(w.topic,w),await this.setExpiry(w.topic,w.expiry),await this.client.core.pairing.updateMetadata({topic:b.pairingTopic,metadata:w.peer.metadata}),this.client.events.emit("session_connect",{session:w}),this.events.emit(at("session_connect",b.proposalId),{session:w}),this.pendingSessions.delete(b.proposalId),this.deleteProposal(b.proposalId,!1),this.cleanupDuplicatePairings(w),await this.sendResult({id:r.id,topic:n,result:!0})}catch(a){await this.sendError({id:i,topic:n,error:a}),this.client.logger.error(a)}}),ge(this,"onSessionSettleResponse",async(n,r)=>{const{id:i}=r;ws(r)?(await this.client.session.update(n,{acknowledged:!0}),this.events.emit(at("session_approve",i),{})):Ci(r)&&(await this.client.session.delete(n,St("USER_DISCONNECTED")),this.events.emit(at("session_approve",i),{error:r.error}))}),ge(this,"onSessionUpdateRequest",async(n,r)=>{const{params:i,id:o}=r;try{const a=`${n}_session_update`,l=Ap.get(a);if(l&&this.isRequestOutOfSync(l,o)){this.client.logger.warn(`Discarding out of sync request - ${o}`),this.sendError({id:o,topic:n,error:St("INVALID_UPDATE_REQUEST")});return}this.isValidUpdate(ft({topic:n},i));try{Ap.set(a,o),await this.client.session.update(n,{namespaces:i.namespaces}),await this.sendResult({id:o,topic:n,result:!0})}catch(f){throw Ap.delete(a),f}this.client.events.emit("session_update",{id:o,topic:n,params:i})}catch(a){await this.sendError({id:o,topic:n,error:a}),this.client.logger.error(a)}}),ge(this,"isRequestOutOfSync",(n,r)=>r.toString().slice(0,-3)<n.toString().slice(0,-3)),ge(this,"onSessionUpdateResponse",(n,r)=>{const{id:i}=r,o=at("session_update",i);if(this.events.listenerCount(o)===0)throw new Error(`emitting ${o} without any listeners`);ws(r)?this.events.emit(at("session_update",i),{}):Ci(r)&&this.events.emit(at("session_update",i),{error:r.error})}),ge(this,"onSessionExtendRequest",async(n,r)=>{const{id:i}=r;try{this.isValidExtend({topic:n}),await this.setExpiry(n,rn(af)),await this.sendResult({id:i,topic:n,result:!0}),this.client.events.emit("session_extend",{id:i,topic:n})}catch(o){await this.sendError({id:i,topic:n,error:o}),this.client.logger.error(o)}}),ge(this,"onSessionExtendResponse",(n,r)=>{const{id:i}=r,o=at("session_extend",i);if(this.events.listenerCount(o)===0)throw new Error(`emitting ${o} without any listeners`);ws(r)?this.events.emit(at("session_extend",i),{}):Ci(r)&&this.events.emit(at("session_extend",i),{error:r.error})}),ge(this,"onSessionPingRequest",async(n,r)=>{const{id:i}=r;try{this.isValidPing({topic:n}),await this.sendResult({id:i,topic:n,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_ping",{id:i,topic:n})}catch(o){await this.sendError({id:i,topic:n,error:o}),this.client.logger.error(o)}}),ge(this,"onSessionPingResponse",(n,r)=>{const{id:i}=r,o=at("session_ping",i);setTimeout(()=>{if(this.events.listenerCount(o)===0)throw new Error(`emitting ${o} without any listeners 2176`);ws(r)?this.events.emit(at("session_ping",i),{}):Ci(r)&&this.events.emit(at("session_ping",i),{error:r.error})},500)}),ge(this,"onSessionDeleteRequest",async(n,r)=>{const{id:i}=r;try{this.isValidDisconnect({topic:n,reason:r.params}),await Promise.all([new Promise(o=>{this.client.core.relayer.once(Ft.publish,async()=>{o(await this.deleteSession({topic:n,id:i}))})}),this.sendResult({id:i,topic:n,result:!0}),this.cleanupPendingSentRequestsForTopic({topic:n,error:St("USER_DISCONNECTED")})]).catch(o=>this.client.logger.error(o))}catch(o){this.client.logger.error(o)}}),ge(this,"onSessionRequest",async n=>{var r,i,o;const{topic:a,payload:l,attestation:f,encryptedId:h,transportType:d}=n,{id:g,params:y}=l;try{await this.isValidRequest(ft({topic:a},y));const b=this.client.session.get(a),x=await this.getVerifyContext({attestationId:f,hash:Ti(JSON.stringify(Rs("wc_sessionRequest",y,g))),encryptedId:h,metadata:b.peer.metadata,transportType:d}),w={id:g,topic:a,params:y,verifyContext:x};await this.setPendingSessionRequest(w),d===At.link_mode&&(r=b.peer.metadata.redirect)!=null&&r.universal&&this.client.core.addLinkModeSupportedApp((i=b.peer.metadata.redirect)==null?void 0:i.universal),(o=this.client.signConfig)!=null&&o.disableRequestQueue?this.emitSessionRequest(w):(this.addSessionRequestToSessionRequestQueue(w),this.processSessionRequestQueue())}catch(b){await this.sendError({id:g,topic:a,error:b}),this.client.logger.error(b)}}),ge(this,"onSessionRequestResponse",(n,r)=>{const{id:i}=r,o=at("session_request",i);if(this.events.listenerCount(o)===0)throw new Error(`emitting ${o} without any listeners`);ws(r)?this.events.emit(at("session_request",i),{result:r.result}):Ci(r)&&this.events.emit(at("session_request",i),{error:r.error})}),ge(this,"onSessionEventRequest",async(n,r)=>{const{id:i,params:o}=r;try{const a=`${n}_session_event_${o.event.name}`,l=Ap.get(a);if(l&&this.isRequestOutOfSync(l,i)){this.client.logger.info(`Discarding out of sync request - ${i}`);return}this.isValidEmit(ft({topic:n},o)),this.client.events.emit("session_event",{id:i,topic:n,params:o}),Ap.set(a,i)}catch(a){await this.sendError({id:i,topic:n,error:a}),this.client.logger.error(a)}}),ge(this,"onSessionAuthenticateResponse",(n,r)=>{const{id:i}=r;this.client.logger.trace({type:"method",method:"onSessionAuthenticateResponse",topic:n,payload:r}),ws(r)?this.events.emit(at("session_request",i),{result:r.result}):Ci(r)&&this.events.emit(at("session_request",i),{error:r.error})}),ge(this,"onSessionAuthenticateRequest",async n=>{var r;const{topic:i,payload:o,attestation:a,encryptedId:l,transportType:f}=n;try{const{requester:h,authPayload:d,expiryTimestamp:g}=o.params,y=await this.getVerifyContext({attestationId:a,hash:Ti(JSON.stringify(o)),encryptedId:l,metadata:h.metadata,transportType:f}),b={requester:h,pairingTopic:i,id:o.id,authPayload:d,verifyContext:y,expiryTimestamp:g};await this.setAuthRequest(o.id,{request:b,pairingTopic:i,transportType:f}),f===At.link_mode&&(r=h.metadata.redirect)!=null&&r.universal&&this.client.core.addLinkModeSupportedApp(h.metadata.redirect.universal),this.client.events.emit("session_authenticate",{topic:i,params:o.params,id:o.id,verifyContext:y})}catch(h){this.client.logger.error(h);const d=o.params.requester.publicKey,g=await this.client.core.crypto.generateKeyPair(),y=this.getAppLinkIfEnabled(o.params.requester.metadata,f),b={type:jo,receiverPublicKey:d,senderPublicKey:g};await this.sendError({id:o.id,topic:i,error:h,encodeOpts:b,rpcOpts:Tn.wc_sessionAuthenticate.autoReject,appLink:y})}}),ge(this,"addSessionRequestToSessionRequestQueue",n=>{this.sessionRequestQueue.queue.push(n)}),ge(this,"cleanupAfterResponse",n=>{this.deletePendingSessionRequest(n.response.id,{message:"fulfilled",code:0}),setTimeout(()=>{this.sessionRequestQueue.state=ms.idle,this.processSessionRequestQueue()},we.toMiliseconds(this.requestQueueDelay))}),ge(this,"cleanupPendingSentRequestsForTopic",({topic:n,error:r})=>{const i=this.client.core.history.pending;i.length>0&&i.filter(o=>o.topic===n&&o.request.method==="wc_sessionRequest").forEach(o=>{const a=o.request.id,l=at("session_request",a);if(this.events.listenerCount(l)===0)throw new Error(`emitting ${l} without any listeners`);this.events.emit(at("session_request",o.request.id),{error:r})})}),ge(this,"processSessionRequestQueue",()=>{if(this.sessionRequestQueue.state===ms.active){this.client.logger.info("session request queue is already active.");return}const n=this.sessionRequestQueue.queue[0];if(!n){this.client.logger.info("session request queue is empty.");return}try{this.emitSessionRequest(n)}catch(r){this.client.logger.error(r)}}),ge(this,"emitSessionRequest",n=>{if(this.emittedSessionRequests.has(n.id)){this.client.logger.warn({id:n.id},`Skipping emitting \`session_request\` event for duplicate request. id: ${n.id}`);return}this.sessionRequestQueue.state=ms.active,this.emittedSessionRequests.add(n.id),this.client.events.emit("session_request",n)}),ge(this,"onPairingCreated",n=>{if(n.methods&&this.expectedPairingMethodMap.set(n.topic,n.methods),n.active)return;const r=this.client.proposal.getAll().find(i=>i.pairingTopic===n.topic);r&&this.onSessionProposeRequest({topic:n.topic,payload:Rs("wc_sessionPropose",zn(ft({},r),{requiredNamespaces:r.requiredNamespaces,optionalNamespaces:r.optionalNamespaces,relays:r.relays,proposer:r.proposer,sessionProperties:r.sessionProperties,scopedProperties:r.scopedProperties}),r.id),attestation:r.attestation,encryptedId:r.encryptedId})}),ge(this,"isValidConnect",async n=>{if(!yr(n)){const{message:h}=be("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(n)}`);throw new Error(h)}const{pairingTopic:r,requiredNamespaces:i,optionalNamespaces:o,sessionProperties:a,scopedProperties:l,relays:f}=n;if(on(r)||await this.isValidPairingTopic(r),!Boe(f)){const{message:h}=be("MISSING_OR_INVALID",`connect() relays: ${f}`);throw new Error(h)}if(!on(i)&&Hs(i)!==0){const h="requiredNamespaces are deprecated and are automatically assigned to optionalNamespaces";["fatal","error","silent"].includes(this.client.logger.level)?console.warn(h):this.client.logger.warn(h),this.validateNamespaces(i,"requiredNamespaces")}if(!on(o)&&Hs(o)!==0&&this.validateNamespaces(o,"optionalNamespaces"),on(a)||this.validateSessionProps(a,"sessionProperties"),!on(l)){this.validateSessionProps(l,"scopedProperties");const h=Object.keys(i||{}).concat(Object.keys(o||{}));if(!Object.keys(l).every(d=>h.includes(d.split(":")[0])))throw new Error(`Scoped properties must be a subset of required/optional namespaces, received: ${JSON.stringify(l)}, required/optional namespaces: ${JSON.stringify(h)}`)}}),ge(this,"validateNamespaces",(n,r)=>{const i=Ioe(n,"connect()",r);if(i)throw new Error(i.message)}),ge(this,"isValidApprove",async n=>{if(!yr(n))throw new Error(be("MISSING_OR_INVALID",`approve() params: ${n}`).message);const{id:r,namespaces:i,relayProtocol:o,sessionProperties:a,scopedProperties:l}=n;this.checkRecentlyDeleted(r),await this.isValidProposalId(r);const f=this.client.proposal.get(r),h=Zx(i,"approve()");if(h)throw new Error(h.message);const d=nI(f.requiredNamespaces,i,"approve()");if(d)throw new Error(d.message);if(!Xt(o,!0)){const{message:g}=be("MISSING_OR_INVALID",`approve() relayProtocol: ${o}`);throw new Error(g)}if(on(a)||this.validateSessionProps(a,"sessionProperties"),!on(l)){this.validateSessionProps(l,"scopedProperties");const g=new Set(Object.keys(i));if(!Object.keys(l).every(y=>g.has(y.split(":")[0])))throw new Error(`Scoped properties must be a subset of approved namespaces, received: ${JSON.stringify(l)}, approved namespaces: ${Array.from(g).join(", ")}`)}}),ge(this,"isValidReject",async n=>{if(!yr(n)){const{message:o}=be("MISSING_OR_INVALID",`reject() params: ${n}`);throw new Error(o)}const{id:r,reason:i}=n;if(this.checkRecentlyDeleted(r),await this.isValidProposalId(r),!koe(i)){const{message:o}=be("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(i)}`);throw new Error(o)}}),ge(this,"isValidSessionSettleRequest",n=>{if(!yr(n)){const{message:h}=be("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${n}`);throw new Error(h)}const{relay:r,controller:i,namespaces:o,expiry:a}=n;if(!Zk(r)){const{message:h}=be("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(h)}const l=Ooe(i,"onSessionSettleRequest()");if(l)throw new Error(l.message);const f=Zx(o,"onSessionSettleRequest()");if(f)throw new Error(f.message);if(ja(a)){const{message:h}=be("EXPIRED","onSessionSettleRequest()");throw new Error(h)}}),ge(this,"isValidUpdate",async n=>{if(!yr(n)){const{message:f}=be("MISSING_OR_INVALID",`update() params: ${n}`);throw new Error(f)}const{topic:r,namespaces:i}=n;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r);const o=this.client.session.get(r),a=Zx(i,"update()");if(a)throw new Error(a.message);const l=nI(o.requiredNamespaces,i,"update()");if(l)throw new Error(l.message)}),ge(this,"isValidExtend",async n=>{if(!yr(n)){const{message:i}=be("MISSING_OR_INVALID",`extend() params: ${n}`);throw new Error(i)}const{topic:r}=n;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r)}),ge(this,"isValidRequest",async n=>{if(!yr(n)){const{message:f}=be("MISSING_OR_INVALID",`request() params: ${n}`);throw new Error(f)}const{topic:r,request:i,chainId:o,expiry:a}=n;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r);const{namespaces:l}=this.client.session.get(r);if(!tI(l,o)){const{message:f}=be("MISSING_OR_INVALID",`request() chainId: ${o}`);throw new Error(f)}if(!Uoe(i)){const{message:f}=be("MISSING_OR_INVALID",`request() ${JSON.stringify(i)}`);throw new Error(f)}if(!joe(l,o,i.method)){const{message:f}=be("MISSING_OR_INVALID",`request() method: ${i.method}`);throw new Error(f)}if(a&&!Hoe(a,lE)){const{message:f}=be("MISSING_OR_INVALID",`request() expiry: ${a}. Expiry must be a number (in seconds) between ${lE.min} and ${lE.max}`);throw new Error(f)}}),ge(this,"isValidRespond",async n=>{var r;if(!yr(n)){const{message:a}=be("MISSING_OR_INVALID",`respond() params: ${n}`);throw new Error(a)}const{topic:i,response:o}=n;try{await this.isValidSessionTopic(i)}catch(a){throw(r=n==null?void 0:n.response)!=null&&r.id&&this.cleanupAfterResponse(n),a}if(!Loe(o)){const{message:a}=be("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(o)}`);throw new Error(a)}}),ge(this,"isValidPing",async n=>{if(!yr(n)){const{message:i}=be("MISSING_OR_INVALID",`ping() params: ${n}`);throw new Error(i)}const{topic:r}=n;await this.isValidSessionOrPairingTopic(r)}),ge(this,"isValidEmit",async n=>{if(!yr(n)){const{message:l}=be("MISSING_OR_INVALID",`emit() params: ${n}`);throw new Error(l)}const{topic:r,event:i,chainId:o}=n;await this.isValidSessionTopic(r);const{namespaces:a}=this.client.session.get(r);if(!tI(a,o)){const{message:l}=be("MISSING_OR_INVALID",`emit() chainId: ${o}`);throw new Error(l)}if(!$oe(i)){const{message:l}=be("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(i)}`);throw new Error(l)}if(!Foe(a,o,i.name)){const{message:l}=be("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(i)}`);throw new Error(l)}}),ge(this,"isValidDisconnect",async n=>{if(!yr(n)){const{message:i}=be("MISSING_OR_INVALID",`disconnect() params: ${n}`);throw new Error(i)}const{topic:r}=n;await this.isValidSessionOrPairingTopic(r)}),ge(this,"isValidAuthenticate",n=>{const{chains:r,uri:i,domain:o,nonce:a}=n;if(!Array.isArray(r)||r.length===0)throw new Error("chains is required and must be a non-empty array");if(!Xt(i,!1))throw new Error("uri is required parameter");if(!Xt(o,!1))throw new Error("domain is required parameter");if(!Xt(a,!1))throw new Error("nonce is required parameter");if([...new Set(r.map(f=>Hl(f).namespace))].length>1)throw new Error("Multi-namespace requests are not supported. Please request single namespace only.");const{namespace:l}=Hl(r[0]);if(l!=="eip155")throw new Error("Only eip155 namespace is supported for authenticated sessions. Please use .connect() for non-eip155 chains.")}),ge(this,"getVerifyContext",async n=>{const{attestationId:r,hash:i,encryptedId:o,metadata:a,transportType:l}=n,f={verified:{verifyUrl:a.verifyUrl||ng,validation:"UNKNOWN",origin:a.url||""}};try{if(l===At.link_mode){const d=this.getAppLinkIfEnabled(a,l);return f.verified.validation=d&&new URL(d).origin===new URL(a.url).origin?"VALID":"INVALID",f}const h=await this.client.core.verify.resolve({attestationId:r,hash:i,encryptedId:o,verifyUrl:a.verifyUrl});h&&(f.verified.origin=h.origin,f.verified.isScam=h.isScam,f.verified.validation=h.origin===new URL(a.url).origin?"VALID":"INVALID")}catch(h){this.client.logger.warn(h)}return this.client.logger.debug(`Verify context: ${JSON.stringify(f)}`),f}),ge(this,"validateSessionProps",(n,r)=>{Object.values(n).forEach((i,o)=>{if(i==null){const{message:a}=be("MISSING_OR_INVALID",`${r} must contain an existing value for each key. Received: ${i} for key ${Object.keys(n)[o]}`);throw new Error(a)}})}),ge(this,"getPendingAuthRequest",n=>{const r=this.client.auth.requests.get(n);return typeof r=="object"?r:void 0}),ge(this,"addToRecentlyDeleted",(n,r)=>{if(this.recentlyDeletedMap.set(n,r),this.recentlyDeletedMap.size>=this.recentlyDeletedLimit){let i=0;const o=this.recentlyDeletedLimit/2;for(const a of this.recentlyDeletedMap.keys()){if(i++>=o)break;this.recentlyDeletedMap.delete(a)}}}),ge(this,"checkRecentlyDeleted",n=>{const r=this.recentlyDeletedMap.get(n);if(r){const{message:i}=be("MISSING_OR_INVALID",`Record was recently deleted - ${r}: ${n}`);throw new Error(i)}}),ge(this,"isLinkModeEnabled",(n,r)=>{var i,o,a,l,f,h,d,g,y;return!n||r!==At.link_mode?!1:((o=(i=this.client.metadata)==null?void 0:i.redirect)==null?void 0:o.linkMode)===!0&&((l=(a=this.client.metadata)==null?void 0:a.redirect)==null?void 0:l.universal)!==void 0&&((h=(f=this.client.metadata)==null?void 0:f.redirect)==null?void 0:h.universal)!==""&&((d=n==null?void 0:n.redirect)==null?void 0:d.universal)!==void 0&&((g=n==null?void 0:n.redirect)==null?void 0:g.universal)!==""&&((y=n==null?void 0:n.redirect)==null?void 0:y.linkMode)===!0&&this.client.core.linkModeSupportedApps.includes(n.redirect.universal)&&typeof(global==null?void 0:global.Linking)<"u"}),ge(this,"getAppLinkIfEnabled",(n,r)=>{var i;return this.isLinkModeEnabled(n,r)?(i=n==null?void 0:n.redirect)==null?void 0:i.universal:void 0}),ge(this,"handleLinkModeMessage",({url:n})=>{if(!n||!n.includes("wc_ev")||!n.includes("topic"))return;const r=g_(n,"topic")||"",i=decodeURIComponent(g_(n,"wc_ev")||""),o=this.client.session.keys.includes(r);o&&this.client.session.update(r,{transportType:At.link_mode}),this.client.core.dispatchEnvelope({topic:r,message:i,sessionExists:o})}),ge(this,"registerLinkModeListeners",async()=>{var n;if(XS()||Cc()&&(n=this.client.metadata.redirect)!=null&&n.linkMode){const r=global==null?void 0:global.Linking;if(typeof r<"u"){r.addEventListener("url",this.handleLinkModeMessage,this.client.name);const i=await r.getInitialURL();i&&setTimeout(()=>{this.handleLinkModeMessage({url:i})},50)}}}),ge(this,"getTVFParams",(n,r,i)=>{var o,a,l;if(!((o=r.request)!=null&&o.method))return{};const f={correlationId:n,rpcMethods:[r.request.method],chainId:r.chainId};try{const h=this.extractTxHashesFromResult(r.request,i);f.txHashes=h,f.contractAddresses=this.isValidContractData(r.request.params)?[(l=(a=r.request.params)==null?void 0:a[0])==null?void 0:l.to]:[]}catch(h){this.client.logger.warn("Error getting TVF params",h)}return f}),ge(this,"isValidContractData",n=>{var r;if(!n)return!1;try{const i=(n==null?void 0:n.data)||((r=n==null?void 0:n[0])==null?void 0:r.data);if(!i.startsWith("0x"))return!1;const o=i.slice(2);return/^[0-9a-fA-F]*$/.test(o)?o.length%2===0:!1}catch{}return!1}),ge(this,"extractTxHashesFromResult",(n,r)=>{var i;try{if(!r)return[];const o=n.method,a=nde[o];if(o==="sui_signTransaction")return[die(r.transactionBytes)];if(o==="near_signTransaction")return[A_(r)];if(o==="near_signTransactions")return r.map(f=>A_(f));if(o==="xrpl_signTransactionFor"||o==="xrpl_signTransaction")return[(i=r.tx_json)==null?void 0:i.hash];if(o==="polkadot_signTransaction")return[sae({transaction:n.params.transactionPayload,signature:r.signature})];if(o==="algo_signTxn")return Ni(r)?r.map(f=>S_(f)):[S_(r)];if(o==="cosmos_signDirect")return[gie(r)];if(typeof r=="string")return[r];const l=r[a.key];if(Ni(l))return o==="solana_signAllTransactions"?l.map(f=>hie(f)):l;if(typeof l=="string")return[l]}catch(o){this.client.logger.warn("Error extracting tx hashes from result",o)}return[]})}async processPendingMessageEvents(){try{const e=this.client.session.keys,n=this.client.core.relayer.messages.getWithoutAck(e);for(const[r,i]of Object.entries(n))for(const o of i)try{await this.onProviderMessageEvent({topic:r,message:o,publishedAt:Date.now()})}catch{this.client.logger.warn(`Error processing pending message event for topic: ${r}, message: ${o}`)}}catch(e){this.client.logger.warn("processPendingMessageEvents failed",e)}}isInitialized(){if(!this.initialized){const{message:e}=be("NOT_INITIALIZED",this.name);throw new Error(e)}}async confirmOnlineStateOrThrow(){await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(Ft.message,e=>{this.onProviderMessageEvent(e)})}async onRelayMessage(e){const{topic:n,message:r,attestation:i,transportType:o}=e,{publicKey:a}=this.client.auth.authKeys.keys.includes($0)?this.client.auth.authKeys.get($0):{publicKey:void 0};try{const l=await this.client.core.crypto.decode(n,r,{receiverPublicKey:a,encoding:o===At.link_mode?Ha:Sr});dT(l)?(this.client.core.history.set(n,l),await this.onRelayEventRequest({topic:n,payload:l,attestation:i,transportType:o,encryptedId:Ti(r)})):pw(l)?(await this.client.core.history.resolve(l),await this.onRelayEventResponse({topic:n,payload:l,transportType:o}),this.client.core.history.delete(n,l.id)):await this.onRelayEventUnknownPayload({topic:n,payload:l,transportType:o}),await this.client.core.relayer.messages.ack(n,r)}catch(l){this.client.logger.error(l)}}registerExpirerEvents(){this.client.core.expirer.on(yi.expired,async e=>{const{topic:n,id:r}=ok(e.target);if(r&&this.client.pendingRequest.keys.includes(r))return await this.deletePendingSessionRequest(r,be("EXPIRED"),!0);if(r&&this.client.auth.requests.keys.includes(r))return await this.deletePendingAuthRequest(r,be("EXPIRED"),!0);n?this.client.session.keys.includes(n)&&(await this.deleteSession({topic:n,expirerHasDeleted:!0}),this.client.events.emit("session_expire",{topic:n})):r&&(await this.deleteProposal(r,!0),this.client.events.emit("proposal_expire",{id:r}))})}registerPairingEvents(){this.client.core.pairing.events.on(ol.create,e=>this.onPairingCreated(e)),this.client.core.pairing.events.on(ol.delete,e=>{this.addToRecentlyDeleted(e.topic,"pairing")})}isValidPairingTopic(e){if(!Xt(e,!1)){const{message:n}=be("MISSING_OR_INVALID",`pairing topic should be a string: ${e}`);throw new Error(n)}if(!this.client.core.pairing.pairings.keys.includes(e)){const{message:n}=be("NO_MATCHING_KEY",`pairing topic doesn't exist: ${e}`);throw new Error(n)}if(ja(this.client.core.pairing.pairings.get(e).expiry)){const{message:n}=be("EXPIRED",`pairing topic: ${e}`);throw new Error(n)}}async isValidSessionTopic(e){if(!Xt(e,!1)){const{message:n}=be("MISSING_OR_INVALID",`session topic should be a string: ${e}`);throw new Error(n)}if(this.checkRecentlyDeleted(e),!this.client.session.keys.includes(e)){const{message:n}=be("NO_MATCHING_KEY",`session topic doesn't exist: ${e}`);throw new Error(n)}if(ja(this.client.session.get(e).expiry)){await this.deleteSession({topic:e});const{message:n}=be("EXPIRED",`session topic: ${e}`);throw new Error(n)}if(!this.client.core.crypto.keychain.has(e)){const{message:n}=be("MISSING_OR_INVALID",`session topic does not exist in keychain: ${e}`);throw await this.deleteSession({topic:e}),new Error(n)}}async isValidSessionOrPairingTopic(e){if(this.checkRecentlyDeleted(e),this.client.session.keys.includes(e))await this.isValidSessionTopic(e);else if(this.client.core.pairing.pairings.keys.includes(e))this.isValidPairingTopic(e);else if(Xt(e,!1)){const{message:n}=be("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${e}`);throw new Error(n)}else{const{message:n}=be("MISSING_OR_INVALID",`session or pairing topic should be a string: ${e}`);throw new Error(n)}}async isValidProposalId(e){if(!Moe(e)){const{message:n}=be("MISSING_OR_INVALID",`proposal id should be a number: ${e}`);throw new Error(n)}if(!this.client.proposal.keys.includes(e)){const{message:n}=be("NO_MATCHING_KEY",`proposal id doesn't exist: ${e}`);throw new Error(n)}if(ja(this.client.proposal.get(e).expiryTimestamp)){await this.deleteProposal(e);const{message:n}=be("EXPIRED",`proposal id: ${e}`);throw new Error(n)}}}class mde extends lu{constructor(e,n){super(e,n,Jhe,pT),this.core=e,this.logger=n}}let yde=class extends lu{constructor(e,n){super(e,n,ede,pT),this.core=e,this.logger=n}};class bde extends lu{constructor(e,n){super(e,n,rde,pT,r=>r.id),this.core=e,this.logger=n}}class wde extends lu{constructor(e,n){super(e,n,ade,mw,()=>$0),this.core=e,this.logger=n}}class vde extends lu{constructor(e,n){super(e,n,cde,mw),this.core=e,this.logger=n}}class xde extends lu{constructor(e,n){super(e,n,lde,mw,r=>r.id),this.core=e,this.logger=n}}var Ede=Object.defineProperty,Ade=(t,e,n)=>e in t?Ede(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,uE=(t,e,n)=>Ade(t,typeof e!="symbol"?e+"":e,n);class Sde{constructor(e,n){this.core=e,this.logger=n,uE(this,"authKeys"),uE(this,"pairingTopics"),uE(this,"requests"),this.authKeys=new wde(this.core,this.logger),this.pairingTopics=new vde(this.core,this.logger),this.requests=new xde(this.core,this.logger)}async init(){await this.authKeys.init(),await this.pairingTopics.init(),await this.requests.init()}}var Tde=Object.defineProperty,Cde=(t,e,n)=>e in t?Tde(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,We=(t,e,n)=>Cde(t,typeof e!="symbol"?e+"":e,n);let Ode=class DU extends Ace{constructor(e){super(e),We(this,"protocol",TU),We(this,"version",CU),We(this,"name",cE.name),We(this,"metadata"),We(this,"core"),We(this,"logger"),We(this,"events",new ei.EventEmitter),We(this,"engine"),We(this,"session"),We(this,"proposal"),We(this,"pendingRequest"),We(this,"auth"),We(this,"signConfig"),We(this,"on",(r,i)=>this.events.on(r,i)),We(this,"once",(r,i)=>this.events.once(r,i)),We(this,"off",(r,i)=>this.events.off(r,i)),We(this,"removeListener",(r,i)=>this.events.removeListener(r,i)),We(this,"removeAllListeners",r=>this.events.removeAllListeners(r)),We(this,"connect",async r=>{try{return await this.engine.connect(r)}catch(i){throw this.logger.error(i.message),i}}),We(this,"pair",async r=>{try{return await this.engine.pair(r)}catch(i){throw this.logger.error(i.message),i}}),We(this,"approve",async r=>{try{return await this.engine.approve(r)}catch(i){throw this.logger.error(i.message),i}}),We(this,"reject",async r=>{try{return await this.engine.reject(r)}catch(i){throw this.logger.error(i.message),i}}),We(this,"update",async r=>{try{return await this.engine.update(r)}catch(i){throw this.logger.error(i.message),i}}),We(this,"extend",async r=>{try{return await this.engine.extend(r)}catch(i){throw this.logger.error(i.message),i}}),We(this,"request",async r=>{try{return await this.engine.request(r)}catch(i){throw this.logger.error(i.message),i}}),We(this,"respond",async r=>{try{return await this.engine.respond(r)}catch(i){throw this.logger.error(i.message),i}}),We(this,"ping",async r=>{try{return await this.engine.ping(r)}catch(i){throw this.logger.error(i.message),i}}),We(this,"emit",async r=>{try{return await this.engine.emit(r)}catch(i){throw this.logger.error(i.message),i}}),We(this,"disconnect",async r=>{try{return await this.engine.disconnect(r)}catch(i){throw this.logger.error(i.message),i}}),We(this,"find",r=>{try{return this.engine.find(r)}catch(i){throw this.logger.error(i.message),i}}),We(this,"getPendingSessionRequests",()=>{try{return this.engine.getPendingSessionRequests()}catch(r){throw this.logger.error(r.message),r}}),We(this,"authenticate",async(r,i)=>{try{return await this.engine.authenticate(r,i)}catch(o){throw this.logger.error(o.message),o}}),We(this,"formatAuthMessage",r=>{try{return this.engine.formatAuthMessage(r)}catch(i){throw this.logger.error(i.message),i}}),We(this,"approveSessionAuthenticate",async r=>{try{return await this.engine.approveSessionAuthenticate(r)}catch(i){throw this.logger.error(i.message),i}}),We(this,"rejectSessionAuthenticate",async r=>{try{return await this.engine.rejectSessionAuthenticate(r)}catch(i){throw this.logger.error(i.message),i}}),this.name=(e==null?void 0:e.name)||cE.name,this.metadata=ire(e==null?void 0:e.metadata),this.signConfig=e==null?void 0:e.signConfig;const n=typeof(e==null?void 0:e.logger)<"u"&&typeof(e==null?void 0:e.logger)!="string"?e.logger:hm(hw({level:(e==null?void 0:e.logger)||cE.logger}));this.core=(e==null?void 0:e.core)||new Zhe(e),this.logger=ar(n,this.name),this.session=new yde(this.core,this.logger),this.proposal=new mde(this.core,this.logger),this.pendingRequest=new bde(this.core,this.logger),this.engine=new gde(this),this.auth=new Sde(this.core,this.logger)}static async init(e){const n=new DU(e);return await n.initialize(),n}get context(){return _r(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.auth.init(),await this.engine.init(),this.logger.info("SignClient Initialization Success")}catch(e){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(e.message),e}}};var c0={exports:{}},ZI;function Dde(){return ZI||(ZI=1,function(t,e){var n=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof Ns<"u"&&Ns,r=function(){function o(){this.fetch=!1,this.DOMException=n.DOMException}return o.prototype=n,new o}();(function(o){(function(a){var l=typeof o<"u"&&o||typeof self<"u"&&self||typeof Ns<"u"&&Ns||{},f={searchParams:"URLSearchParams"in l,iterable:"Symbol"in l&&"iterator"in Symbol,blob:"FileReader"in l&&"Blob"in l&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in l,arrayBuffer:"ArrayBuffer"in l};function h(D){return D&&DataView.prototype.isPrototypeOf(D)}if(f.arrayBuffer)var d=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],g=ArrayBuffer.isView||function(D){return D&&d.indexOf(Object.prototype.toString.call(D))>-1};function y(D){if(typeof D!="string"&&(D=String(D)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(D)||D==="")throw new TypeError('Invalid character in header field name: "'+D+'"');return D.toLowerCase()}function b(D){return typeof D!="string"&&(D=String(D)),D}function x(D){var T={next:function(){var U=D.shift();return{done:U===void 0,value:U}}};return f.iterable&&(T[Symbol.iterator]=function(){return T}),T}function w(D){this.map={},D instanceof w?D.forEach(function(T,U){this.append(U,T)},this):Array.isArray(D)?D.forEach(function(T){if(T.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+T.length);this.append(T[0],T[1])},this):D&&Object.getOwnPropertyNames(D).forEach(function(T){this.append(T,D[T])},this)}w.prototype.append=function(D,T){D=y(D),T=b(T);var U=this.map[D];this.map[D]=U?U+", "+T:T},w.prototype.delete=function(D){delete this.map[y(D)]},w.prototype.get=function(D){return D=y(D),this.has(D)?this.map[D]:null},w.prototype.has=function(D){return this.map.hasOwnProperty(y(D))},w.prototype.set=function(D,T){this.map[y(D)]=b(T)},w.prototype.forEach=function(D,T){for(var U in this.map)this.map.hasOwnProperty(U)&&D.call(T,this.map[U],U,this)},w.prototype.keys=function(){var D=[];return this.forEach(function(T,U){D.push(U)}),x(D)},w.prototype.values=function(){var D=[];return this.forEach(function(T){D.push(T)}),x(D)},w.prototype.entries=function(){var D=[];return this.forEach(function(T,U){D.push([U,T])}),x(D)},f.iterable&&(w.prototype[Symbol.iterator]=w.prototype.entries);function E(D){if(!D._noBody){if(D.bodyUsed)return Promise.reject(new TypeError("Already read"));D.bodyUsed=!0}}function A(D){return new Promise(function(T,U){D.onload=function(){T(D.result)},D.onerror=function(){U(D.error)}})}function C(D){var T=new FileReader,U=A(T);return T.readAsArrayBuffer(D),U}function S(D){var T=new FileReader,U=A(T),$=/charset=([A-Za-z0-9_-]+)/.exec(D.type),H=$?$[1]:"utf-8";return T.readAsText(D,H),U}function R(D){for(var T=new Uint8Array(D),U=new Array(T.length),$=0;$<T.length;$++)U[$]=String.fromCharCode(T[$]);return U.join("")}function O(D){if(D.slice)return D.slice(0);var T=new Uint8Array(D.byteLength);return T.set(new Uint8Array(D)),T.buffer}function P(){return this.bodyUsed=!1,this._initBody=function(D){this.bodyUsed=this.bodyUsed,this._bodyInit=D,D?typeof D=="string"?this._bodyText=D:f.blob&&Blob.prototype.isPrototypeOf(D)?this._bodyBlob=D:f.formData&&FormData.prototype.isPrototypeOf(D)?this._bodyFormData=D:f.searchParams&&URLSearchParams.prototype.isPrototypeOf(D)?this._bodyText=D.toString():f.arrayBuffer&&f.blob&&h(D)?(this._bodyArrayBuffer=O(D.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):f.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(D)||g(D))?this._bodyArrayBuffer=O(D):this._bodyText=D=Object.prototype.toString.call(D):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof D=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):f.searchParams&&URLSearchParams.prototype.isPrototypeOf(D)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},f.blob&&(this.blob=function(){var D=E(this);if(D)return D;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var D=E(this);return D||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(f.blob)return this.blob().then(C);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var D=E(this);if(D)return D;if(this._bodyBlob)return S(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(R(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},f.formData&&(this.formData=function(){return this.text().then(z)}),this.json=function(){return this.text().then(JSON.parse)},this}var M=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function I(D){var T=D.toUpperCase();return M.indexOf(T)>-1?T:D}function k(D,T){if(!(this instanceof k))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');T=T||{};var U=T.body;if(D instanceof k){if(D.bodyUsed)throw new TypeError("Already read");this.url=D.url,this.credentials=D.credentials,T.headers||(this.headers=new w(D.headers)),this.method=D.method,this.mode=D.mode,this.signal=D.signal,!U&&D._bodyInit!=null&&(U=D._bodyInit,D.bodyUsed=!0)}else this.url=String(D);if(this.credentials=T.credentials||this.credentials||"same-origin",(T.headers||!this.headers)&&(this.headers=new w(T.headers)),this.method=I(T.method||this.method||"GET"),this.mode=T.mode||this.mode||null,this.signal=T.signal||this.signal||function(){if("AbortController"in l){var _=new AbortController;return _.signal}}(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&U)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(U),(this.method==="GET"||this.method==="HEAD")&&(T.cache==="no-store"||T.cache==="no-cache")){var $=/([?&])_=[^&]*/;if($.test(this.url))this.url=this.url.replace($,"$1_="+new Date().getTime());else{var H=/\?/;this.url+=(H.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}k.prototype.clone=function(){return new k(this,{body:this._bodyInit})};function z(D){var T=new FormData;return D.trim().split("&").forEach(function(U){if(U){var $=U.split("="),H=$.shift().replace(/\+/g," "),_=$.join("=").replace(/\+/g," ");T.append(decodeURIComponent(H),decodeURIComponent(_))}}),T}function V(D){var T=new w,U=D.replace(/\r?\n[\t ]+/g," ");return U.split("\r").map(function($){return $.indexOf(`
`)===0?$.substr(1,$.length):$}).forEach(function($){var H=$.split(":"),_=H.shift().trim();if(_){var K=H.join(":").trim();try{T.append(_,K)}catch(te){console.warn("Response "+te.message)}}}),T}P.call(k.prototype);function G(D,T){if(!(this instanceof G))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(T||(T={}),this.type="default",this.status=T.status===void 0?200:T.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=T.statusText===void 0?"":""+T.statusText,this.headers=new w(T.headers),this.url=T.url||"",this._initBody(D)}P.call(G.prototype),G.prototype.clone=function(){return new G(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new w(this.headers),url:this.url})},G.error=function(){var D=new G(null,{status:200,statusText:""});return D.ok=!1,D.status=0,D.type="error",D};var Z=[301,302,303,307,308];G.redirect=function(D,T){if(Z.indexOf(T)===-1)throw new RangeError("Invalid status code");return new G(null,{status:T,headers:{location:D}})},a.DOMException=l.DOMException;try{new a.DOMException}catch{a.DOMException=function(T,U){this.message=T,this.name=U;var $=Error(T);this.stack=$.stack},a.DOMException.prototype=Object.create(Error.prototype),a.DOMException.prototype.constructor=a.DOMException}function Y(D,T){return new Promise(function(U,$){var H=new k(D,T);if(H.signal&&H.signal.aborted)return $(new a.DOMException("Aborted","AbortError"));var _=new XMLHttpRequest;function K(){_.abort()}_.onload=function(){var ne={statusText:_.statusText,headers:V(_.getAllResponseHeaders()||"")};H.url.indexOf("file://")===0&&(_.status<200||_.status>599)?ne.status=200:ne.status=_.status,ne.url="responseURL"in _?_.responseURL:ne.headers.get("X-Request-URL");var fe="response"in _?_.response:_.responseText;setTimeout(function(){U(new G(fe,ne))},0)},_.onerror=function(){setTimeout(function(){$(new TypeError("Network request failed"))},0)},_.ontimeout=function(){setTimeout(function(){$(new TypeError("Network request timed out"))},0)},_.onabort=function(){setTimeout(function(){$(new a.DOMException("Aborted","AbortError"))},0)};function te(ne){try{return ne===""&&l.location.href?l.location.href:ne}catch{return ne}}if(_.open(H.method,te(H.url),!0),H.credentials==="include"?_.withCredentials=!0:H.credentials==="omit"&&(_.withCredentials=!1),"responseType"in _&&(f.blob?_.responseType="blob":f.arrayBuffer&&(_.responseType="arraybuffer")),T&&typeof T.headers=="object"&&!(T.headers instanceof w||l.Headers&&T.headers instanceof l.Headers)){var X=[];Object.getOwnPropertyNames(T.headers).forEach(function(ne){X.push(y(ne)),_.setRequestHeader(ne,b(T.headers[ne]))}),H.headers.forEach(function(ne,fe){X.indexOf(fe)===-1&&_.setRequestHeader(fe,ne)})}else H.headers.forEach(function(ne,fe){_.setRequestHeader(fe,ne)});H.signal&&(H.signal.addEventListener("abort",K),_.onreadystatechange=function(){_.readyState===4&&H.signal.removeEventListener("abort",K)}),_.send(typeof H._bodyInit>"u"?null:H._bodyInit)})}return Y.polyfill=!0,l.fetch||(l.fetch=Y,l.Headers=w,l.Request=k,l.Response=G),a.Headers=w,a.Request=k,a.Response=G,a.fetch=Y,Object.defineProperty(a,"__esModule",{value:!0}),a})({})})(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var i=n.fetch?n:r;e=i.fetch,e.default=i.fetch,e.fetch=i.fetch,e.Headers=i.Headers,e.Request=i.Request,e.Response=i.Response,t.exports=e}(c0,c0.exports)),c0.exports}var Pde=Dde();const JI=Kg(Pde);var Nde=Object.defineProperty,Rde=Object.defineProperties,_de=Object.getOwnPropertyDescriptors,e8=Object.getOwnPropertySymbols,Ide=Object.prototype.hasOwnProperty,Bde=Object.prototype.propertyIsEnumerable,t8=(t,e,n)=>e in t?Nde(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,n8=(t,e)=>{for(var n in e||(e={}))Ide.call(e,n)&&t8(t,n,e[n]);if(e8)for(var n of e8(e))Bde.call(e,n)&&t8(t,n,e[n]);return t},r8=(t,e)=>Rde(t,_de(e));const Mde={Accept:"application/json","Content-Type":"application/json"},kde="POST",i8={headers:Mde,method:kde},s8=10;let is=class{constructor(e,n=!1){if(this.url=e,this.disableProviderPing=n,this.events=new ei.EventEmitter,this.isAvailable=!1,this.registering=!1,!xI(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);this.url=e,this.disableProviderPing=n}get connected(){return this.isAvailable}get connecting(){return this.registering}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async open(e=this.url){await this.register(e)}async close(){if(!this.isAvailable)throw new Error("Connection already closed");this.onClose()}async send(e){this.isAvailable||await this.register();try{const n=Go(e),r=await(await JI(this.url,r8(n8({},i8),{body:n}))).json();this.onPayload({data:r})}catch(n){this.onError(e.id,n)}}async register(e=this.url){if(!xI(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);if(this.registering){const n=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=n||this.events.listenerCount("open")>=n)&&this.events.setMaxListeners(n+1),new Promise((r,i)=>{this.events.once("register_error",o=>{this.resetMaxListeners(),i(o)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.isAvailable>"u")return i(new Error("HTTP connection is missing or invalid"));r()})})}this.url=e,this.registering=!0;try{if(!this.disableProviderPing){const n=Go({id:1,jsonrpc:"2.0",method:"test",params:[]});await JI(e,r8(n8({},i8),{body:n}))}this.onOpen()}catch(n){const r=this.parseError(n);throw this.events.emit("register_error",r),this.onClose(),r}}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(e){if(typeof e.data>"u")return;const n=typeof e.data=="string"?Wl(e.data):e.data;this.events.emit("payload",n)}onError(e,n){const r=this.parseError(n),i=r.message||r.toString(),o=dw(e,i);this.events.emit("payload",o)}parseError(e,n=this.url){return iU(e,n,"HTTP")}resetMaxListeners(){this.events.getMaxListeners()>s8&&this.events.setMaxListeners(s8)}};const o8="error",Ude="wss://relay.walletconnect.org",Lde="wc",$de="universal_provider",l0=`${Lde}@2:${$de}:`,PU="https://rpc.walletconnect.org/v1/",NU="generic",jde=`${PU}bundler`,Bi={DEFAULT_CHAIN_CHANGED:"default_chain_changed"};function gT(t){return t==null||typeof t!="object"&&typeof t!="function"}function RU(t){return Object.getOwnPropertySymbols(t).filter(e=>Object.prototype.propertyIsEnumerable.call(t,e))}function _U(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const Fde="[object RegExp]",IU="[object String]",BU="[object Number]",MU="[object Boolean]",kU="[object Arguments]",zde="[object Symbol]",Vde="[object Date]",Hde="[object Map]",qde="[object Set]",Gde="[object Array]",Kde="[object ArrayBuffer]",Qde="[object Object]",Yde="[object DataView]",Wde="[object Uint8Array]",Xde="[object Uint8ClampedArray]",Zde="[object Uint16Array]",Jde="[object Uint32Array]",epe="[object Int8Array]",tpe="[object Int16Array]",npe="[object Int32Array]",rpe="[object Float32Array]",ipe="[object Float64Array]";function mT(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function spe(t,e){return Mf(t,void 0,t,new Map,e)}function Mf(t,e,n,r=new Map,i=void 0){const o=i==null?void 0:i(t,e,n,r);if(o!=null)return o;if(gT(t))return t;if(r.has(t))return r.get(t);if(Array.isArray(t)){const a=new Array(t.length);r.set(t,a);for(let l=0;l<t.length;l++)a[l]=Mf(t[l],l,n,r,i);return Object.hasOwn(t,"index")&&(a.index=t.index),Object.hasOwn(t,"input")&&(a.input=t.input),a}if(t instanceof Date)return new Date(t.getTime());if(t instanceof RegExp){const a=new RegExp(t.source,t.flags);return a.lastIndex=t.lastIndex,a}if(t instanceof Map){const a=new Map;r.set(t,a);for(const[l,f]of t)a.set(l,Mf(f,l,n,r,i));return a}if(t instanceof Set){const a=new Set;r.set(t,a);for(const l of t)a.add(Mf(l,void 0,n,r,i));return a}if(typeof Buffer<"u"&&Buffer.isBuffer(t))return t.subarray();if(mT(t)){const a=new(Object.getPrototypeOf(t)).constructor(t.length);r.set(t,a);for(let l=0;l<t.length;l++)a[l]=Mf(t[l],l,n,r,i);return a}if(t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer)return t.slice(0);if(t instanceof DataView){const a=new DataView(t.buffer.slice(0),t.byteOffset,t.byteLength);return r.set(t,a),al(a,t,n,r,i),a}if(typeof File<"u"&&t instanceof File){const a=new File([t],t.name,{type:t.type});return r.set(t,a),al(a,t,n,r,i),a}if(t instanceof Blob){const a=new Blob([t],{type:t.type});return r.set(t,a),al(a,t,n,r,i),a}if(t instanceof Error){const a=new t.constructor;return r.set(t,a),a.message=t.message,a.name=t.name,a.stack=t.stack,a.cause=t.cause,al(a,t,n,r,i),a}if(typeof t=="object"&&ope(t)){const a=Object.create(Object.getPrototypeOf(t));return r.set(t,a),al(a,t,n,r,i),a}return t}function al(t,e,n=t,r,i){const o=[...Object.keys(e),...RU(e)];for(let a=0;a<o.length;a++){const l=o[a],f=Object.getOwnPropertyDescriptor(t,l);(f==null||f.writable)&&(t[l]=Mf(e[l],l,n,r,i))}}function ope(t){switch(_U(t)){case kU:case Gde:case Kde:case Yde:case MU:case Vde:case rpe:case ipe:case epe:case tpe:case npe:case Hde:case BU:case Qde:case Fde:case qde:case IU:case zde:case Wde:case Xde:case Zde:case Jde:return!0;default:return!1}}function ape(t,e){return spe(t,(n,r,i,o)=>{if(typeof t=="object")switch(Object.prototype.toString.call(t)){case BU:case IU:case MU:{const a=new t.constructor(t==null?void 0:t.valueOf());return al(a,t),a}case kU:{const a={};return al(a,t),a.length=t.length,a[Symbol.iterator]=t[Symbol.iterator],a}default:return}})}function a8(t){return ape(t)}function c8(t){return t!==null&&typeof t=="object"&&_U(t)==="[object Arguments]"}function l8(t){return typeof t=="object"&&t!==null}function cpe(){}function lpe(t){return mT(t)}function upe(t){var n;if(typeof t!="object"||t==null)return!1;if(Object.getPrototypeOf(t)===null)return!0;if(Object.prototype.toString.call(t)!=="[object Object]"){const r=t[Symbol.toStringTag];return r==null||!((n=Object.getOwnPropertyDescriptor(t,Symbol.toStringTag))!=null&&n.writable)?!1:t.toString()===`[object ${r}]`}let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function fpe(t){if(gT(t))return t;if(Array.isArray(t)||mT(t)||t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer)return t.slice(0);const e=Object.getPrototypeOf(t),n=e.constructor;if(t instanceof Date||t instanceof Map||t instanceof Set)return new n(t);if(t instanceof RegExp){const r=new n(t);return r.lastIndex=t.lastIndex,r}if(t instanceof DataView)return new n(t.buffer.slice(0));if(t instanceof Error){const r=new n(t.message);return r.stack=t.stack,r.name=t.name,r.cause=t.cause,r}if(typeof File<"u"&&t instanceof File)return new n([t],t.name,{type:t.type,lastModified:t.lastModified});if(typeof t=="object"){const r=Object.create(e);return Object.assign(r,t)}return t}function hpe(t,...e){const n=e.slice(0,-1),r=e[e.length-1];let i=t;for(let o=0;o<n.length;o++){const a=n[o];i=w2(i,a,r,new Map)}return i}function w2(t,e,n,r){if(gT(t)&&(t=Object(t)),e==null||typeof e!="object")return t;if(r.has(e))return fpe(r.get(e));if(r.set(e,t),Array.isArray(e)){e=e.slice();for(let o=0;o<e.length;o++)e[o]=e[o]??void 0}const i=[...Object.keys(e),...RU(e)];for(let o=0;o<i.length;o++){const a=i[o];let l=e[a],f=t[a];if(c8(l)&&(l={...l}),c8(f)&&(f={...f}),typeof Buffer<"u"&&Buffer.isBuffer(l)&&(l=a8(l)),Array.isArray(l))if(typeof f=="object"&&f!=null){const d=[],g=Reflect.ownKeys(f);for(let y=0;y<g.length;y++){const b=g[y];d[b]=f[b]}f=d}else f=[];const h=n(f,l,a,t,e,r);h!=null?t[a]=h:Array.isArray(l)||l8(f)&&l8(l)?t[a]=w2(f,l,n,r):f==null&&upe(l)?t[a]=w2({},l,n,r):f==null&&lpe(l)?t[a]=a8(l):(f===void 0||l!==void 0)&&(t[a]=l)}return t}function dpe(t,...e){return hpe(t,...e,cpe)}var ppe=Object.defineProperty,gpe=Object.defineProperties,mpe=Object.getOwnPropertyDescriptors,u8=Object.getOwnPropertySymbols,ype=Object.prototype.hasOwnProperty,bpe=Object.prototype.propertyIsEnumerable,f8=(t,e,n)=>e in t?ppe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,u0=(t,e)=>{for(var n in e||(e={}))ype.call(e,n)&&f8(t,n,e[n]);if(u8)for(var n of u8(e))bpe.call(e,n)&&f8(t,n,e[n]);return t},wpe=(t,e)=>gpe(t,mpe(e));function Jr(t,e,n){var r;const i=Hl(t);return((r=e.rpcMap)==null?void 0:r[i.reference])||`${PU}?chainId=${i.namespace}:${i.reference}&projectId=${n}`}function uu(t){return t.includes(":")?t.split(":")[1]:t}function UU(t){return t.map(e=>`${e.split(":")[0]}:${e.split(":")[1]}`)}function vpe(t,e){const n=Object.keys(e.namespaces).filter(i=>i.includes(t));if(!n.length)return[];const r=[];return n.forEach(i=>{const o=e.namespaces[i].accounts;r.push(...o)}),r}function h8(t){return Object.fromEntries(Object.entries(t).filter(([e,n])=>{var r,i;return((r=n==null?void 0:n.chains)==null?void 0:r.length)&&((i=n==null?void 0:n.chains)==null?void 0:i.length)>0}))}function f0(t={},e={}){const n=h8(d8(t)),r=h8(d8(e));return dpe(n,r)}function d8(t){var e,n,r,i,o;const a={};if(!Hs(t))return a;for(const[l,f]of Object.entries(t)){const h=fw(l)?[l]:f.chains,d=f.methods||[],g=f.events||[],y=f.rpcMap||{},b=Bf(l);a[b]=wpe(u0(u0({},a[b]),f),{chains:Vs(h,(e=a[b])==null?void 0:e.chains),methods:Vs(d,(n=a[b])==null?void 0:n.methods),events:Vs(g,(r=a[b])==null?void 0:r.events)}),(Hs(y)||Hs(((i=a[b])==null?void 0:i.rpcMap)||{}))&&(a[b].rpcMap=u0(u0({},y),(o=a[b])==null?void 0:o.rpcMap))}return a}function p8(t){return t.includes(":")?t.split(":")[2]:t}function g8(t){const e={};for(const[n,r]of Object.entries(t)){const i=r.methods||[],o=r.events||[],a=r.accounts||[],l=fw(n)?[n]:r.chains?r.chains:UU(r.accounts);e[n]={chains:l,methods:i,events:o,accounts:a}}return e}function fE(t){return typeof t=="number"?t:t.includes("0x")?parseInt(t,16):(t=t.includes(":")?t.split(":")[1]:t,isNaN(Number(t))?t:Number(t))}const LU={},st=t=>LU[t],hE=(t,e)=>{LU[t]=e};var xpe=Object.defineProperty,m8=Object.getOwnPropertySymbols,Epe=Object.prototype.hasOwnProperty,Ape=Object.prototype.propertyIsEnumerable,y8=(t,e,n)=>e in t?xpe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,b8=(t,e)=>{for(var n in e||(e={}))Epe.call(e,n)&&y8(t,n,e[n]);if(m8)for(var n of m8(e))Ape.call(e,n)&&y8(t,n,e[n]);return t};const w8="eip155",Spe=["atomic","flow-control","paymasterService","sessionKeys","auxiliaryFunds"],Tpe=t=>t&&t.startsWith("0x")?BigInt(t).toString(10):t,dE=t=>t&&t.startsWith("0x")?t:`0x${BigInt(t).toString(16)}`,v8=t=>Object.keys(t).filter(e=>Spe.includes(e)).reduce((e,n)=>(e[n]=t[n],e),{}),Cpe=(t,e,n)=>{const{sessionProperties:r={},scopedProperties:i={}}=t,o={};if(!Hs(i)&&!Hs(r))return;const a=v8(r);for(const l of n){const f=Tpe(l);if(!f)continue;o[dE(f)]=a;const h=i==null?void 0:i[`${w8}:${f}`];if(h){const d=h==null?void 0:h[`${w8}:${f}:${e}`];o[dE(f)]=b8(b8({},o[dE(f)]),v8(d||h))}}for(const[l,f]of Object.entries(o))Object.keys(f).length===0&&delete o[l];return Object.keys(o).length>0?o:void 0};var Ope=Object.defineProperty,Dpe=(t,e,n)=>e in t?Ope(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,cf=(t,e,n)=>Dpe(t,typeof e!="symbol"?e+"":e,n);class Ppe{constructor(e){cf(this,"name","polkadot"),cf(this,"client"),cf(this,"httpProviders"),cf(this,"events"),cf(this,"namespace"),cf(this,"chainId"),this.namespace=e.namespace,this.events=st("events"),this.client=st("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(Bi.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const i=uu(n);e[i]=this.createHttpProvider(i,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||Jr(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new Ii(new is(r,st("disableProviderPing")))}}var Npe=Object.defineProperty,Rpe=Object.defineProperties,_pe=Object.getOwnPropertyDescriptors,x8=Object.getOwnPropertySymbols,Ipe=Object.prototype.hasOwnProperty,Bpe=Object.prototype.propertyIsEnumerable,v2=(t,e,n)=>e in t?Npe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,E8=(t,e)=>{for(var n in e||(e={}))Ipe.call(e,n)&&v2(t,n,e[n]);if(x8)for(var n of x8(e))Bpe.call(e,n)&&v2(t,n,e[n]);return t},A8=(t,e)=>Rpe(t,_pe(e)),lf=(t,e,n)=>v2(t,typeof e!="symbol"?e+"":e,n);class Mpe{constructor(e){lf(this,"name","eip155"),lf(this,"client"),lf(this,"chainId"),lf(this,"namespace"),lf(this,"httpProviders"),lf(this,"events"),this.namespace=e.namespace,this.events=st("events"),this.client=st("client"),this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain())}async request(e){switch(e.request.method){case"eth_requestAccounts":return this.getAccounts();case"eth_accounts":return this.getAccounts();case"wallet_switchEthereumChain":return await this.handleSwitchChain(e);case"eth_chainId":return parseInt(this.getDefaultChain());case"wallet_getCapabilities":return await this.getCapabilities(e);case"wallet_getCallsStatus":return await this.getCallStatus(e)}return this.namespace.methods.includes(e.request.method)?await this.client.request(e):this.getHttpProvider().request(e.request)}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(parseInt(e),n),this.chainId=parseInt(e),this.events.emit(Bi.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}createHttpProvider(e,n){const r=n||Jr(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new Ii(new is(r,st("disableProviderPing")))}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const i=parseInt(uu(n));e[i]=this.createHttpProvider(i,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}getHttpProvider(){const e=this.chainId,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}async handleSwitchChain(e){var n,r;let i=e.request.params?(n=e.request.params[0])==null?void 0:n.chainId:"0x0";i=i.startsWith("0x")?i:`0x${i}`;const o=parseInt(i,16);if(this.isChainApproved(o))this.setDefaultChain(`${o}`);else if(this.namespace.methods.includes("wallet_switchEthereumChain"))await this.client.request({topic:e.topic,request:{method:e.request.method,params:[{chainId:i}]},chainId:(r=this.namespace.chains)==null?void 0:r[0]}),this.setDefaultChain(`${o}`);else throw new Error(`Failed to switch to chain 'eip155:${o}'. The chain is not approved or the wallet does not support 'wallet_switchEthereumChain' method.`);return null}isChainApproved(e){return this.namespace.chains.includes(`${this.name}:${e}`)}async getCapabilities(e){var n,r,i,o,a;const l=(r=(n=e.request)==null?void 0:n.params)==null?void 0:r[0],f=((o=(i=e.request)==null?void 0:i.params)==null?void 0:o[1])||[];if(!l)throw new Error("Missing address parameter in `wallet_getCapabilities` request");const h=this.client.session.get(e.topic),d=((a=h==null?void 0:h.sessionProperties)==null?void 0:a.capabilities)||{},g=`${l}${f.join(",")}`,y=d==null?void 0:d[g];if(y)return y;let b;try{b=Cpe(h,l,f)}catch(w){console.warn("Failed to extract capabilities from session",w)}if(b)return b;const x=await this.client.request(e);try{await this.client.session.update(e.topic,{sessionProperties:A8(E8({},h.sessionProperties||{}),{capabilities:A8(E8({},d||{}),{[g]:x})})})}catch(w){console.warn("Failed to update session with capabilities",w)}return x}async getCallStatus(e){var n,r;const i=this.client.session.get(e.topic),o=(n=i.sessionProperties)==null?void 0:n.bundler_name;if(o){const l=this.getBundlerUrl(e.chainId,o);try{return await this.getUserOperationReceipt(l,e)}catch(f){console.warn("Failed to fetch call status from bundler",f,l)}}const a=(r=i.sessionProperties)==null?void 0:r.bundler_url;if(a)try{return await this.getUserOperationReceipt(a,e)}catch(l){console.warn("Failed to fetch call status from custom bundler",l,a)}if(this.namespace.methods.includes(e.request.method))return await this.client.request(e);throw new Error("Fetching call status not approved by the wallet.")}async getUserOperationReceipt(e,n){var r;const i=new URL(e),o=await fetch(i,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Rs("eth_getUserOperationReceipt",[(r=n.request.params)==null?void 0:r[0]]))});if(!o.ok)throw new Error(`Failed to fetch user operation receipt - ${o.status}`);return await o.json()}getBundlerUrl(e,n){return`${jde}?projectId=${this.client.core.projectId}&chainId=${e}&bundler=${n}`}}var kpe=Object.defineProperty,Upe=(t,e,n)=>e in t?kpe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,uf=(t,e,n)=>Upe(t,typeof e!="symbol"?e+"":e,n);class Lpe{constructor(e){uf(this,"name","solana"),uf(this,"client"),uf(this,"httpProviders"),uf(this,"events"),uf(this,"namespace"),uf(this,"chainId"),this.namespace=e.namespace,this.events=st("events"),this.client=st("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(Bi.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const i=uu(n);e[i]=this.createHttpProvider(i,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||Jr(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new Ii(new is(r,st("disableProviderPing")))}}var $pe=Object.defineProperty,jpe=(t,e,n)=>e in t?$pe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ff=(t,e,n)=>jpe(t,typeof e!="symbol"?e+"":e,n);class Fpe{constructor(e){ff(this,"name","cosmos"),ff(this,"client"),ff(this,"httpProviders"),ff(this,"events"),ff(this,"namespace"),ff(this,"chainId"),this.namespace=e.namespace,this.events=st("events"),this.client=st("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(Bi.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const i=uu(n);e[i]=this.createHttpProvider(i,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||Jr(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new Ii(new is(r,st("disableProviderPing")))}}var zpe=Object.defineProperty,Vpe=(t,e,n)=>e in t?zpe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,hf=(t,e,n)=>Vpe(t,typeof e!="symbol"?e+"":e,n);class Hpe{constructor(e){hf(this,"name","algorand"),hf(this,"client"),hf(this,"httpProviders"),hf(this,"events"),hf(this,"namespace"),hf(this,"chainId"),this.namespace=e.namespace,this.events=st("events"),this.client=st("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){if(!this.httpProviders[e]){const r=n||Jr(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,r)}this.chainId=e,this.events.emit(Bi.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;e[n]=this.createHttpProvider(n,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||Jr(e,this.namespace,this.client.core.projectId);return typeof r>"u"?void 0:new Ii(new is(r,st("disableProviderPing")))}}var qpe=Object.defineProperty,Gpe=(t,e,n)=>e in t?qpe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,df=(t,e,n)=>Gpe(t,typeof e!="symbol"?e+"":e,n);class Kpe{constructor(e){df(this,"name","cip34"),df(this,"client"),df(this,"httpProviders"),df(this,"events"),df(this,"namespace"),df(this,"chainId"),this.namespace=e.namespace,this.events=st("events"),this.client=st("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(Bi.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{const r=this.getCardanoRPCUrl(n),i=uu(n);e[i]=this.createHttpProvider(i,r)}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}getCardanoRPCUrl(e){const n=this.namespace.rpcMap;if(n)return n[e]}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||this.getCardanoRPCUrl(e);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new Ii(new is(r,st("disableProviderPing")))}}var Qpe=Object.defineProperty,Ype=(t,e,n)=>e in t?Qpe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,pf=(t,e,n)=>Ype(t,typeof e!="symbol"?e+"":e,n);class Wpe{constructor(e){pf(this,"name","elrond"),pf(this,"client"),pf(this,"httpProviders"),pf(this,"events"),pf(this,"namespace"),pf(this,"chainId"),this.namespace=e.namespace,this.events=st("events"),this.client=st("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(Bi.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const i=uu(n);e[i]=this.createHttpProvider(i,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||Jr(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new Ii(new is(r,st("disableProviderPing")))}}var Xpe=Object.defineProperty,Zpe=(t,e,n)=>e in t?Xpe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,gf=(t,e,n)=>Zpe(t,typeof e!="symbol"?e+"":e,n);class Jpe{constructor(e){gf(this,"name","multiversx"),gf(this,"client"),gf(this,"httpProviders"),gf(this,"events"),gf(this,"namespace"),gf(this,"chainId"),this.namespace=e.namespace,this.events=st("events"),this.client=st("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(Bi.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const i=uu(n);e[i]=this.createHttpProvider(i,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||Jr(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new Ii(new is(r,st("disableProviderPing")))}}var ege=Object.defineProperty,tge=(t,e,n)=>e in t?ege(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,mf=(t,e,n)=>tge(t,typeof e!="symbol"?e+"":e,n);class nge{constructor(e){mf(this,"name","near"),mf(this,"client"),mf(this,"httpProviders"),mf(this,"events"),mf(this,"namespace"),mf(this,"chainId"),this.namespace=e.namespace,this.events=st("events"),this.client=st("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){if(this.chainId=e,!this.httpProviders[e]){const r=n||Jr(`${this.name}:${e}`,this.namespace);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,r)}this.events.emit(Bi.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;e[n]=this.createHttpProvider(n,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||Jr(e,this.namespace);return typeof r>"u"?void 0:new Ii(new is(r,st("disableProviderPing")))}}var rge=Object.defineProperty,ige=(t,e,n)=>e in t?rge(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,yf=(t,e,n)=>ige(t,typeof e!="symbol"?e+"":e,n);class sge{constructor(e){yf(this,"name","tezos"),yf(this,"client"),yf(this,"httpProviders"),yf(this,"events"),yf(this,"namespace"),yf(this,"chainId"),this.namespace=e.namespace,this.events=st("events"),this.client=st("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){if(this.chainId=e,!this.httpProviders[e]){const r=n||Jr(`${this.name}:${e}`,this.namespace);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,r)}this.events.emit(Bi.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{e[n]=this.createHttpProvider(n)}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||Jr(e,this.namespace);return typeof r>"u"?void 0:new Ii(new is(r))}}var oge=Object.defineProperty,age=(t,e,n)=>e in t?oge(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,bf=(t,e,n)=>age(t,typeof e!="symbol"?e+"":e,n);class cge{constructor(e){bf(this,"name",NU),bf(this,"client"),bf(this,"httpProviders"),bf(this,"events"),bf(this,"namespace"),bf(this,"chainId"),this.namespace=e.namespace,this.events=st("events"),this.client=st("client"),this.chainId=this.getDefaultChain(),this.name=this.getNamespaceName(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace.chains=[...new Set((this.namespace.chains||[]).concat(e.chains||[]))],this.namespace.accounts=[...new Set((this.namespace.accounts||[]).concat(e.accounts||[]))],this.namespace.methods=[...new Set((this.namespace.methods||[]).concat(e.methods||[]))],this.namespace.events=[...new Set((this.namespace.events||[]).concat(e.events||[]))],this.httpProviders=this.createHttpProviders()}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider(e.chainId).request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(Bi.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getNamespaceName(){const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return Hl(e).namespace}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){var e,n;const r={};return(n=(e=this.namespace)==null?void 0:e.accounts)==null||n.forEach(i=>{const o=Hl(i);r[o.reference]=this.createHttpProvider(i)}),r}getHttpProvider(e){const n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||Jr(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new Ii(new is(r,st("disableProviderPing")))}}var lge=Object.defineProperty,uge=Object.defineProperties,fge=Object.getOwnPropertyDescriptors,S8=Object.getOwnPropertySymbols,hge=Object.prototype.hasOwnProperty,dge=Object.prototype.propertyIsEnumerable,x2=(t,e,n)=>e in t?lge(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,h0=(t,e)=>{for(var n in e||(e={}))hge.call(e,n)&&x2(t,n,e[n]);if(S8)for(var n of S8(e))dge.call(e,n)&&x2(t,n,e[n]);return t},pE=(t,e)=>uge(t,fge(e)),gi=(t,e,n)=>x2(t,typeof e!="symbol"?e+"":e,n);let pge=class $U{constructor(e){gi(this,"client"),gi(this,"namespaces"),gi(this,"optionalNamespaces"),gi(this,"sessionProperties"),gi(this,"scopedProperties"),gi(this,"events",new $S),gi(this,"rpcProviders",{}),gi(this,"session"),gi(this,"providerOpts"),gi(this,"logger"),gi(this,"uri"),gi(this,"disableProviderPing",!1),this.providerOpts=e,this.logger=typeof(e==null?void 0:e.logger)<"u"&&typeof(e==null?void 0:e.logger)!="string"?e.logger:hm(hw({level:(e==null?void 0:e.logger)||o8})),this.disableProviderPing=(e==null?void 0:e.disableProviderPing)||!1}static async init(e){const n=new $U(e);return await n.initialize(),n}async request(e,n,r){const[i,o]=this.validateChain(n);if(!this.session)throw new Error("Please call connect() before request()");return await this.getProvider(i).request({request:h0({},e),chainId:`${i}:${o}`,topic:this.session.topic,expiry:r})}sendAsync(e,n,r,i){const o=new Date().getTime();this.request(e,r,i).then(a=>n(null,_g(o,a))).catch(a=>n(a,void 0))}async enable(){if(!this.client)throw new Error("Sign Client not initialized");return this.session||await this.connect({namespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties}),await this.requestAccounts()}async disconnect(){var e;if(!this.session)throw new Error("Please call connect() before enable()");await this.client.disconnect({topic:(e=this.session)==null?void 0:e.topic,reason:St("USER_DISCONNECTED")}),await this.cleanup()}async connect(e){if(!this.client)throw new Error("Sign Client not initialized");if(this.setNamespaces(e),this.cleanupPendingPairings(),!e.skipPairing)return await this.pair(e.pairingTopic)}async authenticate(e,n){if(!this.client)throw new Error("Sign Client not initialized");this.setNamespaces(e),await this.cleanupPendingPairings();const{uri:r,response:i}=await this.client.authenticate(e,n);r&&(this.uri=r,this.events.emit("display_uri",r));const o=await i();if(this.session=o.session,this.session){const a=g8(this.session.namespaces);this.namespaces=f0(this.namespaces,a),await this.persist("namespaces",this.namespaces),this.onConnect()}return o}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}removeListener(e,n){this.events.removeListener(e,n)}off(e,n){this.events.off(e,n)}get isWalletConnect(){return!0}async pair(e){const{uri:n,approval:r}=await this.client.connect({pairingTopic:e,requiredNamespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties});n&&(this.uri=n,this.events.emit("display_uri",n));const i=await r();this.session=i;const o=g8(i.namespaces);return this.namespaces=f0(this.namespaces,o),await this.persist("namespaces",this.namespaces),await this.persist("optionalNamespaces",this.optionalNamespaces),this.onConnect(),this.session}setDefaultChain(e,n){try{if(!this.session)return;const[r,i]=this.validateChain(e);this.getProvider(r).setDefaultChain(i,n)}catch(r){if(!/Please call connect/.test(r.message))throw r}}async cleanupPendingPairings(e={}){try{this.logger.info("Cleaning up inactive pairings...");const n=this.client.pairing.getAll();if(!Ni(n))return;for(const r of n)e.deletePairings?this.client.core.expirer.set(r.topic,0):await this.client.core.relayer.subscriber.unsubscribe(r.topic);this.logger.info(`Inactive pairings cleared: ${n.length}`)}catch(n){this.logger.warn("Failed to cleanup pending pairings",n)}}abortPairingAttempt(){this.logger.warn("abortPairingAttempt is deprecated. This is now a no-op.")}async checkStorage(){this.namespaces=await this.getFromStore("namespaces")||{},this.optionalNamespaces=await this.getFromStore("optionalNamespaces")||{},this.session&&this.createProviders()}async initialize(){this.logger.trace("Initialized"),await this.createClient(),await this.checkStorage(),this.registerEventListeners()}async createClient(){var e,n;if(this.client=this.providerOpts.client||await Ode.init({core:this.providerOpts.core,logger:this.providerOpts.logger||o8,relayUrl:this.providerOpts.relayUrl||Ude,projectId:this.providerOpts.projectId,metadata:this.providerOpts.metadata,storageOptions:this.providerOpts.storageOptions,storage:this.providerOpts.storage,name:this.providerOpts.name,customStoragePrefix:this.providerOpts.customStoragePrefix,telemetryEnabled:this.providerOpts.telemetryEnabled}),this.providerOpts.session)try{this.session=this.client.session.get(this.providerOpts.session.topic)}catch(r){throw this.logger.error("Failed to get session",r),new Error(`The provided session: ${(n=(e=this.providerOpts)==null?void 0:e.session)==null?void 0:n.topic} doesn't exist in the Sign client`)}else{const r=this.client.session.getAll();this.session=r[0]}this.logger.trace("SignClient Initialized")}createProviders(){if(!this.client)throw new Error("Sign Client not initialized");if(!this.session)throw new Error("Session not initialized. Please call connect() before enable()");const e=[...new Set(Object.keys(this.session.namespaces).map(n=>Bf(n)))];hE("client",this.client),hE("events",this.events),hE("disableProviderPing",this.disableProviderPing),e.forEach(n=>{if(!this.session)return;const r=vpe(n,this.session);if((r==null?void 0:r.length)===0)return;const i=UU(r),o=f0(this.namespaces,this.optionalNamespaces),a=pE(h0({},o[n]),{accounts:r,chains:i});switch(n){case"eip155":this.rpcProviders[n]=new Mpe({namespace:a});break;case"algorand":this.rpcProviders[n]=new Hpe({namespace:a});break;case"solana":this.rpcProviders[n]=new Lpe({namespace:a});break;case"cosmos":this.rpcProviders[n]=new Fpe({namespace:a});break;case"polkadot":this.rpcProviders[n]=new Ppe({namespace:a});break;case"cip34":this.rpcProviders[n]=new Kpe({namespace:a});break;case"elrond":this.rpcProviders[n]=new Wpe({namespace:a});break;case"multiversx":this.rpcProviders[n]=new Jpe({namespace:a});break;case"near":this.rpcProviders[n]=new nge({namespace:a});break;case"tezos":this.rpcProviders[n]=new sge({namespace:a});break;default:this.rpcProviders[n]=new cge({namespace:a})}})}registerEventListeners(){if(typeof this.client>"u")throw new Error("Sign Client is not initialized");this.client.on("session_ping",e=>{var n;const{topic:r}=e;r===((n=this.session)==null?void 0:n.topic)&&this.events.emit("session_ping",e)}),this.client.on("session_event",e=>{var n;const{params:r,topic:i}=e;if(i!==((n=this.session)==null?void 0:n.topic))return;const{event:o}=r;if(o.name==="accountsChanged"){const a=o.data;a&&Ni(a)&&this.events.emit("accountsChanged",a.map(p8))}else if(o.name==="chainChanged"){const a=r.chainId,l=r.event.data,f=Bf(a),h=fE(a)!==fE(l)?`${f}:${fE(l)}`:a;this.onChainChanged(h)}else this.events.emit(o.name,o.data);this.events.emit("session_event",e)}),this.client.on("session_update",({topic:e,params:n})=>{var r,i;if(e!==((r=this.session)==null?void 0:r.topic))return;const{namespaces:o}=n,a=(i=this.client)==null?void 0:i.session.get(e);this.session=pE(h0({},a),{namespaces:o}),this.onSessionUpdate(),this.events.emit("session_update",{topic:e,params:n})}),this.client.on("session_delete",async e=>{var n;e.topic===((n=this.session)==null?void 0:n.topic)&&(await this.cleanup(),this.events.emit("session_delete",e),this.events.emit("disconnect",pE(h0({},St("USER_DISCONNECTED")),{data:e.topic})))}),this.on(Bi.DEFAULT_CHAIN_CHANGED,e=>{this.onChainChanged(e,!0)})}getProvider(e){return this.rpcProviders[e]||this.rpcProviders[NU]}onSessionUpdate(){Object.keys(this.rpcProviders).forEach(e=>{var n;this.getProvider(e).updateNamespace((n=this.session)==null?void 0:n.namespaces[e])})}setNamespaces(e){const{namespaces:n={},optionalNamespaces:r={},sessionProperties:i,scopedProperties:o}=e;this.optionalNamespaces=f0(n,r),this.sessionProperties=i,this.scopedProperties=o}validateChain(e){const[n,r]=(e==null?void 0:e.split(":"))||["",""];if(!this.namespaces||!Object.keys(this.namespaces).length)return[n,r];if(n&&!Object.keys(this.namespaces||{}).map(a=>Bf(a)).includes(n))throw new Error(`Namespace '${n}' is not configured. Please call connect() first with namespace config.`);if(n&&r)return[n,r];const i=Bf(Object.keys(this.namespaces)[0]),o=this.rpcProviders[i].getDefaultChain();return[i,o]}async requestAccounts(){const[e]=this.validateChain();return await this.getProvider(e).requestAccounts()}async onChainChanged(e,n=!1){if(!this.namespaces)return;const[r,i]=this.validateChain(e);if(!i)return;this.updateNamespaceChain(r,i);const o=this.getProvider(r).getDefaultChain();n?(this.events.emit("chainChanged",i),this.emitAccountsChangedOnChainChange({namespace:r,previousChainId:o,newChainId:e})):this.getProvider(r).setDefaultChain(i),await this.persist("namespaces",this.namespaces)}emitAccountsChangedOnChainChange({namespace:e,previousChainId:n,newChainId:r}){var i,o;try{if(n===r)return;const a=(o=(i=this.session)==null?void 0:i.namespaces[e])==null?void 0:o.accounts;if(!a)return;const l=a.filter(f=>f.includes(`${r}:`)).map(p8);if(!Ni(l))return;this.events.emit("accountsChanged",l)}catch(a){this.logger.warn("Failed to emit accountsChanged on chain change",a)}}updateNamespaceChain(e,n){if(!this.namespaces)return;const r=this.namespaces[e]?e:`${e}:${n}`,i={chains:[],methods:[],events:[],defaultChain:n};this.namespaces[r]?this.namespaces[r]&&(this.namespaces[r].defaultChain=n):this.namespaces[r]=i}onConnect(){this.createProviders(),this.events.emit("connect",{session:this.session})}async cleanup(){this.namespaces=void 0,this.optionalNamespaces=void 0,this.sessionProperties=void 0,await this.deleteFromStore("namespaces"),await this.deleteFromStore("optionalNamespaces"),await this.deleteFromStore("sessionProperties"),this.session=void 0,this.cleanupPendingPairings({deletePairings:!0}),await this.cleanupStorage()}async persist(e,n){var r;const i=((r=this.session)==null?void 0:r.topic)||"";await this.client.core.storage.setItem(`${l0}/${e}${i}`,n)}async getFromStore(e){var n;const r=((n=this.session)==null?void 0:n.topic)||"";return await this.client.core.storage.getItem(`${l0}/${e}${r}`)}async deleteFromStore(e){var n;const r=((n=this.session)==null?void 0:n.topic)||"";await this.client.core.storage.removeItem(`${l0}/${e}${r}`)}async cleanupStorage(){var e;try{if(((e=this.client)==null?void 0:e.session.length)>0)return;const n=await this.client.core.storage.getKeys();for(const r of n)r.startsWith(l0)&&await this.client.core.storage.removeItem(r)}catch(n){this.logger.warn("Failed to cleanup storage",n)}}};const gge=pge,mge="wc",yge="ethereum_provider",bge=`${mge}@2:${yge}:`,wge="https://rpc.walletconnect.org/v1/",E2=["eth_sendTransaction","personal_sign"],vge=["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_sendCalls","wallet_getCapabilities","wallet_getCallsStatus","wallet_showCallsStatus"],A2=["chainChanged","accountsChanged"],xge=["chainChanged","accountsChanged","message","disconnect","connect"],Ege=async()=>{const{createAppKit:t}=await Y5(()=>import("./core-7fxzuUKU.js").then(e=>e.X),[]);return t};var Age=Object.defineProperty,Sge=Object.defineProperties,Tge=Object.getOwnPropertyDescriptors,T8=Object.getOwnPropertySymbols,Cge=Object.prototype.hasOwnProperty,Oge=Object.prototype.propertyIsEnumerable,S2=(t,e,n)=>e in t?Age(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,nl=(t,e)=>{for(var n in e||(e={}))Cge.call(e,n)&&S2(t,n,e[n]);if(T8)for(var n of T8(e))Oge.call(e,n)&&S2(t,n,e[n]);return t},Pp=(t,e)=>Sge(t,Tge(e)),Fr=(t,e,n)=>S2(t,typeof e!="symbol"?e+"":e,n);function xb(t){return Number(t[0].split(":")[1])}function d0(t){return`0x${t.toString(16)}`}function Dge(t){const{chains:e,optionalChains:n,methods:r,optionalMethods:i,events:o,optionalEvents:a,rpcMap:l}=t;if(!Ni(e))throw new Error("Invalid chains");const f={chains:e,methods:r||E2,events:o||A2,rpcMap:nl({},e.length?{[xb(e)]:l[xb(e)]}:{})},h=o==null?void 0:o.filter(b=>!A2.includes(b)),d=r==null?void 0:r.filter(b=>!E2.includes(b));if(!n&&!a&&!i&&!(h!=null&&h.length)&&!(d!=null&&d.length))return{required:e.length?f:void 0};const g=(h==null?void 0:h.length)&&(d==null?void 0:d.length)||!n,y={chains:[...new Set(g?f.chains.concat(n||[]):n)],methods:[...new Set(f.methods.concat(i!=null&&i.length?i:vge))],events:[...new Set(f.events.concat(a!=null&&a.length?a:xge))],rpcMap:l};return{required:e.length?f:void 0,optional:n.length?y:void 0}}class yT{constructor(){Fr(this,"events",new ei.EventEmitter),Fr(this,"namespace","eip155"),Fr(this,"accounts",[]),Fr(this,"signer"),Fr(this,"chainId",1),Fr(this,"modal"),Fr(this,"rpc"),Fr(this,"STORAGE_KEY",bge),Fr(this,"on",(e,n)=>(this.events.on(e,n),this)),Fr(this,"once",(e,n)=>(this.events.once(e,n),this)),Fr(this,"removeListener",(e,n)=>(this.events.removeListener(e,n),this)),Fr(this,"off",(e,n)=>(this.events.off(e,n),this)),Fr(this,"parseAccount",e=>this.isCompatibleChainId(e)?this.parseAccountId(e).address:e),this.signer={},this.rpc={}}static async init(e){const n=new yT;return await n.initialize(e),n}async request(e,n){return await this.signer.request(e,this.formatChainId(this.chainId),n)}sendAsync(e,n,r){this.signer.sendAsync(e,n,this.formatChainId(this.chainId),r)}get connected(){return this.signer.client?this.signer.client.core.relayer.connected:!1}get connecting(){return this.signer.client?this.signer.client.core.relayer.connecting:!1}async enable(){return this.session||await this.connect(),await this.request({method:"eth_requestAccounts"})}async connect(e){var n;if(!this.signer.client)throw new Error("Provider not initialized. Call init() first");this.loadConnectOpts(e);const{required:r,optional:i}=Dge(this.rpc);try{const o=await new Promise(async(l,f)=>{var h,d;this.rpc.showQrModal&&((h=this.modal)==null||h.open(),(d=this.modal)==null||d.subscribeState(y=>{!y.open&&!this.signer.session&&(this.signer.abortPairingAttempt(),f(new Error("Connection request reset. Please try again.")))}));const g=e!=null&&e.scopedProperties?{[this.namespace]:e.scopedProperties}:void 0;await this.signer.connect(Pp(nl({namespaces:nl({},r&&{[this.namespace]:r})},i&&{optionalNamespaces:{[this.namespace]:i}}),{pairingTopic:e==null?void 0:e.pairingTopic,scopedProperties:g})).then(y=>{l(y)}).catch(y=>{var b;(b=this.modal)==null||b.showErrorMessage("Unable to connect"),f(new Error(y.message))})});if(!o)return;const a=u_(o.namespaces,[this.namespace]);this.setChainIds(this.rpc.chains.length?this.rpc.chains:a),this.setAccounts(a),this.events.emit("connect",{chainId:d0(this.chainId)})}catch(o){throw this.signer.logger.error(o),o}finally{(n=this.modal)==null||n.close()}}async authenticate(e,n){var r;if(!this.signer.client)throw new Error("Provider not initialized. Call init() first");this.loadConnectOpts({chains:e==null?void 0:e.chains});try{const i=await new Promise(async(a,l)=>{var f,h;this.rpc.showQrModal&&((f=this.modal)==null||f.open(),(h=this.modal)==null||h.subscribeState(d=>{!d.open&&!this.signer.session&&(this.signer.abortPairingAttempt(),l(new Error("Connection request reset. Please try again.")))})),await this.signer.authenticate(Pp(nl({},e),{chains:this.rpc.chains}),n).then(d=>{a(d)}).catch(d=>{var g;(g=this.modal)==null||g.showErrorMessage("Unable to connect"),l(new Error(d.message))})}),o=i.session;if(o){const a=u_(o.namespaces,[this.namespace]);this.setChainIds(this.rpc.chains.length?this.rpc.chains:a),this.setAccounts(a),this.events.emit("connect",{chainId:d0(this.chainId)})}return i}catch(i){throw this.signer.logger.error(i),i}finally{(r=this.modal)==null||r.close()}}async disconnect(){this.session&&await this.signer.disconnect(),this.reset()}get isWalletConnect(){return!0}get session(){return this.signer.session}registerEventListeners(){this.signer.on("session_event",e=>{const{params:n}=e,{event:r}=n;r.name==="accountsChanged"?(this.accounts=this.parseAccounts(r.data),this.events.emit("accountsChanged",this.accounts)):r.name==="chainChanged"?this.setChainId(this.formatChainId(r.data)):this.events.emit(r.name,r.data),this.events.emit("session_event",e)}),this.signer.on("accountsChanged",e=>{this.accounts=this.parseAccounts(e),this.events.emit("accountsChanged",this.accounts)}),this.signer.on("chainChanged",e=>{const n=parseInt(e);this.chainId=n,this.events.emit("chainChanged",d0(this.chainId)),this.persist()}),this.signer.on("session_update",e=>{this.events.emit("session_update",e)}),this.signer.on("session_delete",e=>{this.reset(),this.events.emit("session_delete",e),this.events.emit("disconnect",Pp(nl({},St("USER_DISCONNECTED")),{data:e.topic,name:"USER_DISCONNECTED"}))}),this.signer.on("display_uri",e=>{this.events.emit("display_uri",e)})}switchEthereumChain(e){this.request({method:"wallet_switchEthereumChain",params:[{chainId:e.toString(16)}]})}isCompatibleChainId(e){return typeof e=="string"?e.startsWith(`${this.namespace}:`):!1}formatChainId(e){return`${this.namespace}:${e}`}parseChainId(e){return Number(e.split(":")[1])}setChainIds(e){const n=e.filter(r=>this.isCompatibleChainId(r)).map(r=>this.parseChainId(r));n.length&&(this.chainId=n[0],this.events.emit("chainChanged",d0(this.chainId)),this.persist())}setChainId(e){if(this.isCompatibleChainId(e)){const n=this.parseChainId(e);this.chainId=n,this.switchEthereumChain(n)}}parseAccountId(e){const[n,r,i]=e.split(":");return{chainId:`${n}:${r}`,address:i}}setAccounts(e){this.accounts=e.filter(n=>this.parseChainId(this.parseAccountId(n).chainId)===this.chainId).map(n=>this.parseAccountId(n).address),this.events.emit("accountsChanged",this.accounts)}getRpcConfig(e){var n,r;const i=(n=e==null?void 0:e.chains)!=null?n:[],o=(r=e==null?void 0:e.optionalChains)!=null?r:[],a=i.concat(o);if(!a.length)throw new Error("No chains specified in either `chains` or `optionalChains`");const l=i.length?(e==null?void 0:e.methods)||E2:[],f=i.length?(e==null?void 0:e.events)||A2:[],h=(e==null?void 0:e.optionalMethods)||[],d=(e==null?void 0:e.optionalEvents)||[],g=(e==null?void 0:e.rpcMap)||this.buildRpcMap(a,e.projectId),y=(e==null?void 0:e.qrModalOptions)||void 0;return{chains:i==null?void 0:i.map(b=>this.formatChainId(b)),optionalChains:o.map(b=>this.formatChainId(b)),methods:l,events:f,optionalMethods:h,optionalEvents:d,rpcMap:g,showQrModal:!!(e!=null&&e.showQrModal),qrModalOptions:y,projectId:e.projectId,metadata:e.metadata}}buildRpcMap(e,n){const r={};return e.forEach(i=>{r[i]=this.getRpcUrl(i,n)}),r}async initialize(e){if(this.rpc=this.getRpcConfig(e),this.chainId=this.rpc.chains.length?xb(this.rpc.chains):xb(this.rpc.optionalChains),this.signer=await gge.init({projectId:this.rpc.projectId,metadata:this.rpc.metadata,disableProviderPing:e.disableProviderPing,relayUrl:e.relayUrl,storage:e.storage,storageOptions:e.storageOptions,customStoragePrefix:e.customStoragePrefix,telemetryEnabled:e.telemetryEnabled,logger:e.logger}),this.registerEventListeners(),await this.loadPersistedSession(),this.rpc.showQrModal){let n;try{const r=await Ege(),{convertWCMToAppKitOptions:i}=await Promise.resolve().then(function(){return Lge}),o=i(Pp(nl({},this.rpc.qrModalOptions),{chains:[...new Set([...this.rpc.chains,...this.rpc.optionalChains])],metadata:this.rpc.metadata,projectId:this.rpc.projectId}));if(!o.networks.length)throw new Error("No networks found for WalletConnect·");n=r(Pp(nl({},o),{universalProvider:this.signer,manualWCControl:!0}))}catch(r){throw console.warn(r),new Error("To use QR modal, please install @reown/appkit package")}if(n)try{this.modal=n}catch(r){throw this.signer.logger.error(r),new Error("Could not generate WalletConnectModal Instance")}}}loadConnectOpts(e){if(!e)return;const{chains:n,optionalChains:r,rpcMap:i}=e;n&&Ni(n)&&(this.rpc.chains=n.map(o=>this.formatChainId(o)),n.forEach(o=>{this.rpc.rpcMap[o]=(i==null?void 0:i[o])||this.getRpcUrl(o)})),r&&Ni(r)&&(this.rpc.optionalChains=[],this.rpc.optionalChains=r==null?void 0:r.map(o=>this.formatChainId(o)),r.forEach(o=>{this.rpc.rpcMap[o]=(i==null?void 0:i[o])||this.getRpcUrl(o)}))}getRpcUrl(e,n){var r;return((r=this.rpc.rpcMap)==null?void 0:r[e])||`${wge}?chainId=eip155:${e}&projectId=${n||this.rpc.projectId}`}async loadPersistedSession(){if(this.session)try{const e=await this.signer.client.core.storage.getItem(`${this.STORAGE_KEY}/chainId`),n=this.session.namespaces[`${this.namespace}:${e}`]?this.session.namespaces[`${this.namespace}:${e}`]:this.session.namespaces[this.namespace];this.setChainIds(e?[this.formatChainId(e)]:n==null?void 0:n.accounts),this.setAccounts(n==null?void 0:n.accounts)}catch(e){this.signer.logger.error("Failed to load persisted session, clearing state..."),this.signer.logger.error(e),await this.disconnect().catch(n=>this.signer.logger.warn(n))}}reset(){this.chainId=1,this.accounts=[]}persist(){this.session&&this.signer.client.core.storage.setItem(`${this.STORAGE_KEY}/chainId`,this.chainId)}parseAccounts(e){return typeof e=="string"||e instanceof String?[this.parseAccount(e)]:e.map(n=>this.parseAccount(n))}}var Pge=Object.defineProperty,Nge=Object.defineProperties,Rge=Object.getOwnPropertyDescriptors,C8=Object.getOwnPropertySymbols,_ge=Object.prototype.hasOwnProperty,Ige=Object.prototype.propertyIsEnumerable,O8=(t,e,n)=>e in t?Pge(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,jU=(t,e)=>{for(var n in e||(e={}))_ge.call(e,n)&&O8(t,n,e[n]);if(C8)for(var n of C8(e))Ige.call(e,n)&&O8(t,n,e[n]);return t},Bge=(t,e)=>Nge(t,Rge(e));function Mge(t){if(t)return{"--w3m-font-family":t["--wcm-font-family"],"--w3m-accent":t["--wcm-accent-color"],"--w3m-color-mix":t["--wcm-background-color"],"--w3m-z-index":t["--wcm-z-index"]?Number(t["--wcm-z-index"]):void 0,"--w3m-qr-color":t["--wcm-accent-color"],"--w3m-font-size-master":t["--wcm-text-medium-regular-size"],"--w3m-border-radius-master":t["--wcm-container-border-radius"],"--w3m-color-mix-strength":0}}const kge=t=>{const[e,n]=t.split(":");return FU({id:n,caipNetworkId:t,chainNamespace:e,name:"",nativeCurrency:{name:"",symbol:"",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}}})};function Uge(t){var e,n,r,i,o,a,l;const f=(e=t.chains)==null?void 0:e.map(kge).filter(Boolean);if(f.length===0)throw new Error("At least one chain must be specified");const h=f.find(g=>{var y;return g.id===((y=t.defaultChain)==null?void 0:y.id)}),d={projectId:t.projectId,networks:f,themeMode:t.themeMode,themeVariables:Mge(t.themeVariables),chainImages:t.chainImages,connectorImages:t.walletImages,defaultNetwork:h,metadata:Bge(jU({},t.metadata),{name:((n=t.metadata)==null?void 0:n.name)||"WalletConnect",description:((r=t.metadata)==null?void 0:r.description)||"Connect to WalletConnect-compatible wallets",url:((i=t.metadata)==null?void 0:i.url)||"https://walletconnect.org",icons:((o=t.metadata)==null?void 0:o.icons)||["https://walletconnect.org/walletconnect-logo.png"]}),showWallets:!0,featuredWalletIds:t.explorerRecommendedWalletIds==="NONE"?[]:Array.isArray(t.explorerRecommendedWalletIds)?t.explorerRecommendedWalletIds:[],excludeWalletIds:t.explorerExcludedWalletIds==="ALL"?[]:Array.isArray(t.explorerExcludedWalletIds)?t.explorerExcludedWalletIds:[],enableEIP6963:!1,enableInjected:!1,enableCoinbase:!0,enableWalletConnect:!0,features:{email:!1,socials:!1}};if((a=t.mobileWallets)!=null&&a.length||(l=t.desktopWallets)!=null&&l.length){const g=[...(t.mobileWallets||[]).map(x=>({id:x.id,name:x.name,links:x.links})),...(t.desktopWallets||[]).map(x=>({id:x.id,name:x.name,links:{native:x.links.native,universal:x.links.universal}}))],y=[...d.featuredWalletIds||[],...d.excludeWalletIds||[]],b=g.filter(x=>!y.includes(x.id));b.length&&(d.customWallets=b)}return d}function FU(t){return jU({formatters:void 0,fees:void 0,serializers:void 0},t)}var Lge=Object.freeze({__proto__:null,convertWCMToAppKitOptions:Uge,defineChain:FU});const $ge=()=>{const[t,e]=F.useState(null),[n,r]=F.useState(null),[i,o]=F.useState(""),[a,l]=F.useState(!1),[f,h]=F.useState(!1),[d,g]=F.useState(""),y=async()=>{try{return await yT.init({projectId:"demo-project-id",chains:[1,5,137,80001],showQrModal:!0,methods:["eth_sendTransaction","personal_sign"],events:["chainChanged","accountsChanged"],metadata:{name:"SecureVault",description:"Time-locked wallet application",url:"https://securevault.app",icons:["https://securevault.app/icon.png"]}})}catch(E){throw console.error("Failed to initialize WalletConnect:",E),E}},b=async()=>{try{h(!0),g("");const E=await y();await E.enable();const A=new Qp(E),C=await A.getSigner(),S=await C.getAddress();e(A),r(C),o(S),l(!0),E.on("accountsChanged",R=>{R.length===0?w():o(R[0])}),E.on("chainChanged",R=>{console.log("Chain changed to:",R)}),E.on("disconnect",()=>{w()})}catch(E){g("Failed to connect via WalletConnect"),console.error(E)}finally{h(!1)}},x=async()=>{try{if(h(!0),g(""),!window.ethereum)throw new Error("MetaMask not installed");const E=await window.ethereum.request({method:"eth_requestAccounts"});if(E.length>0){const A=new Qp(window.ethereum),C=await A.getSigner();e(A),r(C),o(E[0]),l(!0),window.ethereum.on("accountsChanged",S=>{S.length===0?w():o(S[0])}),window.ethereum.on("chainChanged",()=>{window.location.reload()})}}catch(E){g("Failed to connect MetaMask"),console.error(E)}finally{h(!1)}},w=()=>{e(null),r(null),o(""),l(!1),g("")};return F.useEffect(()=>{(async()=>{if(window.ethereum)try{const A=await window.ethereum.request({method:"eth_accounts"});if(A.length>0){const C=new Qp(window.ethereum),S=await C.getSigner();e(C),r(S),o(A[0]),l(!0)}}catch(A){console.error("Failed to check existing connection:",A)}})()},[]),{provider:t,signer:n,account:i,isConnected:a,loading:f,error:d,connectWalletConnect:b,connectMetaMask:x,disconnectWallet:w}},gE=[{inputs:[{internalType:"uint256",name:"_unlockTimestamp",type:"uint256"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"account",type:"address"}],name:"AddressWhitelisted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"sender",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"timestamp",type:"uint256"}],name:"FundsDeposited",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"recipient",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"timestamp",type:"uint256"}],name:"FundsWithdrawn",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"oldTimestamp",type:"uint256"},{indexed:!1,internalType:"uint256",name:"newTimestamp",type:"uint256"}],name:"UnlockTimeExtended",type:"event"},{inputs:[{internalType:"address",name:"_account",type:"address"}],name:"addToWhitelist",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_newUnlockTimestamp",type:"uint256"}],name:"extendUnlockTime",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"unlockTimestamp",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"whitelistedAddresses",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"withdraw",outputs:[],stateMutability:"nonpayable",type:"function"},{stateMutability:"payable",type:"receive"}],jge=()=>{const{provider:t,signer:e,account:n,isConnected:r,loading:i,error:o,connectWalletConnect:a,connectMetaMask:l,disconnectWallet:f}=$ge(),[h,d]=F.useState(null),[g,y]=F.useState(""),[b,x]=F.useState(!1),[w,E]=F.useState(""),A=async()=>{await l()},C=async()=>{await a()},S=()=>{f(),d(null),y("")},R=async D=>{try{if(x(!0),E(""),!e)throw new Error("Wallet not connected");await new Promise(_=>setTimeout(_,2e3));const T="0x"+Math.random().toString(16).substr(2,40);y(T);const U=new dc(T,gE,e);d(U),localStorage.setItem("contractAddress",T),localStorage.setItem("unlockTimestamp",D.toString()),localStorage.setItem("contractBalance","0"),localStorage.setItem("whitelist","[]");const $=JSON.parse(localStorage.getItem("deployedContracts")||"[]"),H={address:T,unlockTimestamp:D,balance:"0",deployedAt:Math.floor(Date.now()/1e3),owner:n};return $.push(H),localStorage.setItem("deployedContracts",JSON.stringify($)),T}catch(T){throw E("Failed to deploy contract"),console.error(T),T}finally{x(!1)}},O=async D=>{try{if(x(!0),E(""),!e)throw new Error("Wallet not connected");await new Promise(U=>setTimeout(U,1e3));const T=new dc(D,gE,e);d(T),y(D),localStorage.setItem("contractAddress",D)}catch(T){throw E("Failed to connect to contract"),console.error(T),T}finally{x(!1)}},P=async D=>{try{if(x(!0),E(""),!h)throw new Error("Contract not connected");await new Promise(_=>setTimeout(_,2e3));const U=parseFloat(localStorage.getItem("contractBalance")||"0")+parseFloat(D);localStorage.setItem("contractBalance",U.toString());const $=JSON.parse(localStorage.getItem("deployedContracts")||"[]"),H=$.findIndex(_=>_.address===g);return H!==-1&&($[H].balance=U.toString(),localStorage.setItem("deployedContracts",JSON.stringify($))),console.log(`Deposited ${D} ETH to contract ${g}`),{hash:"0x"+Math.random().toString(16).substr(2,64)}}catch(T){throw E("Failed to deposit funds"),console.error(T),T}finally{x(!1)}},M=async()=>{try{if(x(!0),E(""),!h)throw new Error("Contract not connected");await new Promise(U=>setTimeout(U,2e3)),localStorage.setItem("contractBalance","0");const D=JSON.parse(localStorage.getItem("deployedContracts")||"[]"),T=D.findIndex(U=>U.address===g);return T!==-1&&(D[T].balance="0",localStorage.setItem("deployedContracts",JSON.stringify(D))),console.log("Withdrew all funds from contract"),{hash:"0x"+Math.random().toString(16).substr(2,64)}}catch(D){throw E("Failed to withdraw funds"),console.error(D),D}finally{x(!1)}},I=async D=>{try{if(x(!0),E(""),!h)throw new Error("Contract not connected");return await new Promise(T=>setTimeout(T,2e3)),localStorage.setItem("unlockTimestamp",D.toString()),console.log(`Extended unlock time to ${D}`),{hash:"0x"+Math.random().toString(16).substr(2,64)}}catch(T){throw E("Failed to extend unlock time"),console.error(T),T}finally{x(!1)}},k=async D=>{try{if(x(!0),E(""),!h)throw new Error("Contract not connected");await new Promise(U=>setTimeout(U,1500));const T=JSON.parse(localStorage.getItem("whitelist")||"[]");return T.includes(D)||(T.push(D),localStorage.setItem("whitelist",JSON.stringify(T))),console.log(`Added ${D} to whitelist`),{hash:"0x"+Math.random().toString(16).substr(2,64)}}catch(T){throw E("Failed to add to whitelist"),console.error(T),T}finally{x(!1)}},z=async()=>{try{return g&&localStorage.getItem("contractBalance")||"0"}catch(D){return console.error("Failed to get contract balance:",D),"0"}},V=async()=>{try{if(!g)return null;const D=localStorage.getItem("unlockTimestamp");return D?parseInt(D):null}catch(D){return console.error("Failed to get unlock timestamp:",D),null}},G=async D=>{try{return h?JSON.parse(localStorage.getItem("whitelist")||"[]").includes(D):!1}catch(T){return console.error("Failed to check whitelist status:",T),!1}};return F.useEffect(()=>{const D=localStorage.getItem("contractAddress");if(D&&e){y(D);const T=new dc(D,gE,e);d(T)}},[e]),{provider:t,signer:e,account:n,isConnected:r,contract:h,contractAddress:g,loading:b||i,error:w||o,connectWallet:A,connectWalletConnectProvider:C,disconnectWallet:S,deployContract:R,connectToContract:O,depositFunds:P,withdrawFunds:M,extendUnlockTime:I,addToWhitelist:k,getContractBalance:z,getUnlockTimestamp:V,isWhitelisted:G}},Fge=({isConnected:t,account:e,loading:n,error:r,onConnect:i,onConnectWalletConnect:o,onDisconnect:a})=>{const l=f=>f?`${f.slice(0,6)}...${f.slice(-4)}`:"";return t&&e?j.jsx(vr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8",children:j.jsxs(Ms,{className:"bg-white/10 backdrop-blur-lg border-white/20",children:[j.jsx(cc,{children:j.jsxs(lc,{className:"flex items-center justify-between text-white",children:[j.jsxs("div",{className:"flex items-center",children:[j.jsx(wS,{className:"w-6 h-6 mr-2 text-green-400"}),"Wallet Connected"]}),j.jsxs(zt,{variant:"outline",size:"sm",onClick:a,className:"border-red-500/50 text-red-400 hover:bg-red-500/20",children:[j.jsx(Nq,{className:"w-4 h-4 mr-2"}),"Disconnect"]})]})}),j.jsx(ks,{className:"space-y-4",children:j.jsxs("div",{className:"flex items-center justify-between bg-black/30 rounded-lg p-4",children:[j.jsxs("div",{children:[j.jsx("p",{className:"text-gray-400 text-sm",children:"Connected Account"}),j.jsx("p",{className:"text-white font-mono",children:l(e)})]}),j.jsx(bS,{variant:"secondary",className:"bg-green-500/20 text-green-400 border-green-500/30",children:"Connected"})]})})]})}):j.jsx(vr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8",children:j.jsxs(Ms,{className:"bg-white/10 backdrop-blur-lg border-white/20",children:[j.jsxs(cc,{children:[j.jsxs(lc,{className:"flex items-center text-white",children:[j.jsx(t6,{className:"w-6 h-6 mr-2 text-purple-400"}),"Connect Your Wallet"]}),j.jsx(Gp,{className:"text-gray-400",children:"Choose your preferred wallet to get started with SecureVault"})]}),j.jsxs(ks,{className:"space-y-4",children:[r&&j.jsxs("div",{className:"flex items-center p-4 bg-red-500/20 border border-red-500/30 rounded-lg",children:[j.jsx(mq,{className:"w-5 h-5 mr-2 text-red-400"}),j.jsx("p",{className:"text-red-400",children:r})]}),j.jsxs("div",{className:"grid gap-3",children:[j.jsx(zt,{onClick:i,disabled:n,className:"w-full bg-gradient-to-r from-orange-500 to-amber-500 hover:from-orange-600 hover:to-amber-600 text-white font-medium py-6 justify-start",children:n?j.jsxs(j.Fragment,{children:[j.jsx(uc,{className:"w-5 h-5 mr-3 animate-spin"}),"Connecting..."]}):j.jsxs(j.Fragment,{children:[j.jsx(pq,{className:"w-5 h-5 mr-3"}),j.jsxs("div",{className:"text-left",children:[j.jsx("div",{className:"font-semibold",children:"MetaMask"}),j.jsx("div",{className:"text-sm opacity-80",children:"Connect using browser extension"})]})]})}),j.jsx(zt,{onClick:o,disabled:n,variant:"outline",className:"w-full border-blue-500/50 text-blue-400 hover:bg-blue-500/20 font-medium py-6 justify-start",children:n?j.jsxs(j.Fragment,{children:[j.jsx(uc,{className:"w-5 h-5 mr-3 animate-spin"}),"Connecting..."]}):j.jsxs(j.Fragment,{children:[j.jsx($q,{className:"w-5 h-5 mr-3"}),j.jsxs("div",{className:"text-left",children:[j.jsx("div",{className:"font-semibold",children:"WalletConnect"}),j.jsx("div",{className:"text-sm opacity-80",children:"Scan with mobile wallet"})]})]})})]}),j.jsx("div",{className:"text-center",children:j.jsxs("p",{className:"text-gray-500 text-sm",children:["New to Ethereum? ",j.jsx("a",{href:"https://ethereum.org/wallets/",target:"_blank",rel:"noopener noreferrer",className:"text-purple-400 hover:underline",children:"Learn about wallets"})]})})]})]})})};function D8(t,[e,n]){return Math.min(n,Math.max(e,t))}function Wt(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function bT(t,e=[]){let n=[];function r(o,a){const l=F.createContext(a),f=n.length;n=[...n,a];const h=g=>{var A;const{scope:y,children:b,...x}=g,w=((A=y==null?void 0:y[t])==null?void 0:A[f])||l,E=F.useMemo(()=>x,Object.values(x));return j.jsx(w.Provider,{value:E,children:b})};h.displayName=o+"Provider";function d(g,y){var w;const b=((w=y==null?void 0:y[t])==null?void 0:w[f])||l,x=F.useContext(b);if(x)return x;if(a!==void 0)return a;throw new Error(`\`${g}\` must be used within \`${o}\``)}return[h,d]}const i=()=>{const o=n.map(a=>F.createContext(a));return function(l){const f=(l==null?void 0:l[t])||o;return F.useMemo(()=>({[`__scope${t}`]:{...l,[t]:f}}),[l,f])}};return i.scopeName=t,[r,zge(i,...e)]}function zge(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const a=r.reduce((l,{useScope:f,scopeName:h})=>{const g=f(o)[`__scope${h}`];return{...l,...g}},{});return F.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return n.scopeName=e.scopeName,n}function Vge(t){const e=t+"CollectionProvider",[n,r]=bT(e),[i,o]=n(e,{collectionRef:{current:null},itemMap:new Map}),a=w=>{const{scope:E,children:A}=w,C=ka.useRef(null),S=ka.useRef(new Map).current;return j.jsx(i,{scope:E,itemMap:S,collectionRef:C,children:A})};a.displayName=e;const l=t+"CollectionSlot",f=fg(l),h=ka.forwardRef((w,E)=>{const{scope:A,children:C}=w,S=o(l,A),R=Rn(E,S.collectionRef);return j.jsx(f,{ref:R,children:C})});h.displayName=l;const d=t+"CollectionItemSlot",g="data-radix-collection-item",y=fg(d),b=ka.forwardRef((w,E)=>{const{scope:A,children:C,...S}=w,R=ka.useRef(null),O=Rn(E,R),P=o(d,A);return ka.useEffect(()=>(P.itemMap.set(R,{ref:R,...S}),()=>void P.itemMap.delete(R))),j.jsx(y,{[g]:"",ref:O,children:C})});b.displayName=d;function x(w){const E=o(t+"CollectionConsumer",w);return ka.useCallback(()=>{const C=E.collectionRef.current;if(!C)return[];const S=Array.from(C.querySelectorAll(`[${g}]`));return Array.from(E.itemMap.values()).sort((P,M)=>S.indexOf(P.ref.current)-S.indexOf(M.ref.current))},[E.collectionRef,E.itemMap])}return[{Provider:a,Slot:h,ItemSlot:b},x,r]}var Hge=F.createContext(void 0);function qge(t){const e=F.useContext(Hge);return t||e||"ltr"}function Jl(t){const e=F.useRef(t);return F.useEffect(()=>{e.current=t}),F.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function Gge(t,e=globalThis==null?void 0:globalThis.document){const n=Jl(t);F.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var Kge="DismissableLayer",T2="dismissableLayer.update",Qge="dismissableLayer.pointerDownOutside",Yge="dismissableLayer.focusOutside",P8,zU=F.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),VU=F.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:o,onInteractOutside:a,onDismiss:l,...f}=t,h=F.useContext(zU),[d,g]=F.useState(null),y=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,b]=F.useState({}),x=Rn(e,M=>g(M)),w=Array.from(h.layers),[E]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),A=w.indexOf(E),C=d?w.indexOf(d):-1,S=h.layersWithOutsidePointerEventsDisabled.size>0,R=C>=A,O=Zge(M=>{const I=M.target,k=[...h.branches].some(z=>z.contains(I));!R||k||(i==null||i(M),a==null||a(M),M.defaultPrevented||l==null||l())},y),P=Jge(M=>{const I=M.target;[...h.branches].some(z=>z.contains(I))||(o==null||o(M),a==null||a(M),M.defaultPrevented||l==null||l())},y);return Gge(M=>{C===h.layers.size-1&&(r==null||r(M),!M.defaultPrevented&&l&&(M.preventDefault(),l()))},y),F.useEffect(()=>{if(d)return n&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(P8=y.body.style.pointerEvents,y.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(d)),h.layers.add(d),N8(),()=>{n&&h.layersWithOutsidePointerEventsDisabled.size===1&&(y.body.style.pointerEvents=P8)}},[d,y,n,h]),F.useEffect(()=>()=>{d&&(h.layers.delete(d),h.layersWithOutsidePointerEventsDisabled.delete(d),N8())},[d,h]),F.useEffect(()=>{const M=()=>b({});return document.addEventListener(T2,M),()=>document.removeEventListener(T2,M)},[]),j.jsx(Rt.div,{...f,ref:x,style:{pointerEvents:S?R?"auto":"none":void 0,...t.style},onFocusCapture:Wt(t.onFocusCapture,P.onFocusCapture),onBlurCapture:Wt(t.onBlurCapture,P.onBlurCapture),onPointerDownCapture:Wt(t.onPointerDownCapture,O.onPointerDownCapture)})});VU.displayName=Kge;var Wge="DismissableLayerBranch",Xge=F.forwardRef((t,e)=>{const n=F.useContext(zU),r=F.useRef(null),i=Rn(e,r);return F.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),j.jsx(Rt.div,{...t,ref:i})});Xge.displayName=Wge;function Zge(t,e=globalThis==null?void 0:globalThis.document){const n=Jl(t),r=F.useRef(!1),i=F.useRef(()=>{});return F.useEffect(()=>{const o=l=>{if(l.target&&!r.current){let f=function(){HU(Qge,n,h,{discrete:!0})};const h={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=f,e.addEventListener("click",i.current,{once:!0})):f()}else e.removeEventListener("click",i.current);r.current=!1},a=window.setTimeout(()=>{e.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(a),e.removeEventListener("pointerdown",o),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function Jge(t,e=globalThis==null?void 0:globalThis.document){const n=Jl(t),r=F.useRef(!1);return F.useEffect(()=>{const i=o=>{o.target&&!r.current&&HU(Yge,n,{originalEvent:o},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function N8(){const t=new CustomEvent(T2);document.dispatchEvent(t)}function HU(t,e,n,{discrete:r}){const i=n.originalEvent.target,o=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?KH(i,o):i.dispatchEvent(o)}var mE=0;function eme(){F.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??R8()),document.body.insertAdjacentElement("beforeend",t[1]??R8()),mE++,()=>{mE===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),mE--}},[])}function R8(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var yE="focusScope.autoFocusOnMount",bE="focusScope.autoFocusOnUnmount",_8={bubbles:!1,cancelable:!0},tme="FocusScope",qU=F.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:o,...a}=t,[l,f]=F.useState(null),h=Jl(i),d=Jl(o),g=F.useRef(null),y=Rn(e,w=>f(w)),b=F.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;F.useEffect(()=>{if(r){let w=function(S){if(b.paused||!l)return;const R=S.target;l.contains(R)?g.current=R:$a(g.current,{select:!0})},E=function(S){if(b.paused||!l)return;const R=S.relatedTarget;R!==null&&(l.contains(R)||$a(g.current,{select:!0}))},A=function(S){if(document.activeElement===document.body)for(const O of S)O.removedNodes.length>0&&$a(l)};document.addEventListener("focusin",w),document.addEventListener("focusout",E);const C=new MutationObserver(A);return l&&C.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",w),document.removeEventListener("focusout",E),C.disconnect()}}},[r,l,b.paused]),F.useEffect(()=>{if(l){B8.add(b);const w=document.activeElement;if(!l.contains(w)){const A=new CustomEvent(yE,_8);l.addEventListener(yE,h),l.dispatchEvent(A),A.defaultPrevented||(nme(ame(GU(l)),{select:!0}),document.activeElement===w&&$a(l))}return()=>{l.removeEventListener(yE,h),setTimeout(()=>{const A=new CustomEvent(bE,_8);l.addEventListener(bE,d),l.dispatchEvent(A),A.defaultPrevented||$a(w??document.body,{select:!0}),l.removeEventListener(bE,d),B8.remove(b)},0)}}},[l,h,d,b]);const x=F.useCallback(w=>{if(!n&&!r||b.paused)return;const E=w.key==="Tab"&&!w.altKey&&!w.ctrlKey&&!w.metaKey,A=document.activeElement;if(E&&A){const C=w.currentTarget,[S,R]=rme(C);S&&R?!w.shiftKey&&A===R?(w.preventDefault(),n&&$a(S,{select:!0})):w.shiftKey&&A===S&&(w.preventDefault(),n&&$a(R,{select:!0})):A===C&&w.preventDefault()}},[n,r,b.paused]);return j.jsx(Rt.div,{tabIndex:-1,...a,ref:y,onKeyDown:x})});qU.displayName=tme;function nme(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if($a(r,{select:e}),document.activeElement!==n)return}function rme(t){const e=GU(t),n=I8(e,t),r=I8(e.reverse(),t);return[n,r]}function GU(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function I8(t,e){for(const n of t)if(!ime(n,{upTo:e}))return n}function ime(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function sme(t){return t instanceof HTMLInputElement&&"select"in t}function $a(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&sme(t)&&e&&t.select()}}var B8=ome();function ome(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=M8(t,e),t.unshift(e)},remove(e){var n;t=M8(t,e),(n=t[0])==null||n.resume()}}}function M8(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function ame(t){return t.filter(e=>e.tagName!=="A")}var Rr=globalThis!=null&&globalThis.document?F.useLayoutEffect:()=>{},cme=e4[" useId ".trim().toString()]||(()=>{}),lme=0;function wT(t){const[e,n]=F.useState(cme());return Rr(()=>{n(r=>r??String(lme++))},[t]),t||(e?`radix-${e}`:"")}const ume=["top","right","bottom","left"],xc=Math.min,Wr=Math.max,Eb=Math.round,p0=Math.floor,qs=t=>({x:t,y:t}),fme={left:"right",right:"left",bottom:"top",top:"bottom"},hme={start:"end",end:"start"};function C2(t,e,n){return Wr(t,xc(e,n))}function Qo(t,e){return typeof t=="function"?t(e):t}function Yo(t){return t.split("-")[0]}function id(t){return t.split("-")[1]}function vT(t){return t==="x"?"y":"x"}function xT(t){return t==="y"?"height":"width"}const dme=new Set(["top","bottom"]);function $s(t){return dme.has(Yo(t))?"y":"x"}function ET(t){return vT($s(t))}function pme(t,e,n){n===void 0&&(n=!1);const r=id(t),i=ET(t),o=xT(i);let a=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(a=Ab(a)),[a,Ab(a)]}function gme(t){const e=Ab(t);return[O2(t),e,O2(e)]}function O2(t){return t.replace(/start|end/g,e=>hme[e])}const k8=["left","right"],U8=["right","left"],mme=["top","bottom"],yme=["bottom","top"];function bme(t,e,n){switch(t){case"top":case"bottom":return n?e?U8:k8:e?k8:U8;case"left":case"right":return e?mme:yme;default:return[]}}function wme(t,e,n,r){const i=id(t);let o=bme(Yo(t),n==="start",r);return i&&(o=o.map(a=>a+"-"+i),e&&(o=o.concat(o.map(O2)))),o}function Ab(t){return t.replace(/left|right|bottom|top/g,e=>fme[e])}function vme(t){return{top:0,right:0,bottom:0,left:0,...t}}function KU(t){return typeof t!="number"?vme(t):{top:t,right:t,bottom:t,left:t}}function Sb(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function L8(t,e,n){let{reference:r,floating:i}=t;const o=$s(e),a=ET(e),l=xT(a),f=Yo(e),h=o==="y",d=r.x+r.width/2-i.width/2,g=r.y+r.height/2-i.height/2,y=r[l]/2-i[l]/2;let b;switch(f){case"top":b={x:d,y:r.y-i.height};break;case"bottom":b={x:d,y:r.y+r.height};break;case"right":b={x:r.x+r.width,y:g};break;case"left":b={x:r.x-i.width,y:g};break;default:b={x:r.x,y:r.y}}switch(id(e)){case"start":b[a]-=y*(n&&h?-1:1);break;case"end":b[a]+=y*(n&&h?-1:1);break}return b}const xme=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:a}=n,l=o.filter(Boolean),f=await(a.isRTL==null?void 0:a.isRTL(e));let h=await a.getElementRects({reference:t,floating:e,strategy:i}),{x:d,y:g}=L8(h,r,f),y=r,b={},x=0;for(let w=0;w<l.length;w++){const{name:E,fn:A}=l[w],{x:C,y:S,data:R,reset:O}=await A({x:d,y:g,initialPlacement:r,placement:y,strategy:i,middlewareData:b,rects:h,platform:a,elements:{reference:t,floating:e}});d=C??d,g=S??g,b={...b,[E]:{...b[E],...R}},O&&x<=50&&(x++,typeof O=="object"&&(O.placement&&(y=O.placement),O.rects&&(h=O.rects===!0?await a.getElementRects({reference:t,floating:e,strategy:i}):O.rects),{x:d,y:g}=L8(h,y,f)),w=-1)}return{x:d,y:g,placement:y,strategy:i,middlewareData:b}};async function Ig(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:o,rects:a,elements:l,strategy:f}=t,{boundary:h="clippingAncestors",rootBoundary:d="viewport",elementContext:g="floating",altBoundary:y=!1,padding:b=0}=Qo(e,t),x=KU(b),E=l[y?g==="floating"?"reference":"floating":g],A=Sb(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(E)))==null||n?E:E.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(l.floating)),boundary:h,rootBoundary:d,strategy:f})),C=g==="floating"?{x:r,y:i,width:a.floating.width,height:a.floating.height}:a.reference,S=await(o.getOffsetParent==null?void 0:o.getOffsetParent(l.floating)),R=await(o.isElement==null?void 0:o.isElement(S))?await(o.getScale==null?void 0:o.getScale(S))||{x:1,y:1}:{x:1,y:1},O=Sb(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:C,offsetParent:S,strategy:f}):C);return{top:(A.top-O.top+x.top)/R.y,bottom:(O.bottom-A.bottom+x.bottom)/R.y,left:(A.left-O.left+x.left)/R.x,right:(O.right-A.right+x.right)/R.x}}const Eme=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:o,platform:a,elements:l,middlewareData:f}=e,{element:h,padding:d=0}=Qo(t,e)||{};if(h==null)return{};const g=KU(d),y={x:n,y:r},b=ET(i),x=xT(b),w=await a.getDimensions(h),E=b==="y",A=E?"top":"left",C=E?"bottom":"right",S=E?"clientHeight":"clientWidth",R=o.reference[x]+o.reference[b]-y[b]-o.floating[x],O=y[b]-o.reference[b],P=await(a.getOffsetParent==null?void 0:a.getOffsetParent(h));let M=P?P[S]:0;(!M||!await(a.isElement==null?void 0:a.isElement(P)))&&(M=l.floating[S]||o.floating[x]);const I=R/2-O/2,k=M/2-w[x]/2-1,z=xc(g[A],k),V=xc(g[C],k),G=z,Z=M-w[x]-V,Y=M/2-w[x]/2+I,D=C2(G,Y,Z),T=!f.arrow&&id(i)!=null&&Y!==D&&o.reference[x]/2-(Y<G?z:V)-w[x]/2<0,U=T?Y<G?Y-G:Y-Z:0;return{[b]:y[b]+U,data:{[b]:D,centerOffset:Y-D-U,...T&&{alignmentOffset:U}},reset:T}}}),Ame=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:o,rects:a,initialPlacement:l,platform:f,elements:h}=e,{mainAxis:d=!0,crossAxis:g=!0,fallbackPlacements:y,fallbackStrategy:b="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:w=!0,...E}=Qo(t,e);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const A=Yo(i),C=$s(l),S=Yo(l)===l,R=await(f.isRTL==null?void 0:f.isRTL(h.floating)),O=y||(S||!w?[Ab(l)]:gme(l)),P=x!=="none";!y&&P&&O.push(...wme(l,w,x,R));const M=[l,...O],I=await Ig(e,E),k=[];let z=((r=o.flip)==null?void 0:r.overflows)||[];if(d&&k.push(I[A]),g){const Y=pme(i,a,R);k.push(I[Y[0]],I[Y[1]])}if(z=[...z,{placement:i,overflows:k}],!k.every(Y=>Y<=0)){var V,G;const Y=(((V=o.flip)==null?void 0:V.index)||0)+1,D=M[Y];if(D&&(!(g==="alignment"?C!==$s(D):!1)||z.every($=>$s($.placement)===C?$.overflows[0]>0:!0)))return{data:{index:Y,overflows:z},reset:{placement:D}};let T=(G=z.filter(U=>U.overflows[0]<=0).sort((U,$)=>U.overflows[1]-$.overflows[1])[0])==null?void 0:G.placement;if(!T)switch(b){case"bestFit":{var Z;const U=(Z=z.filter($=>{if(P){const H=$s($.placement);return H===C||H==="y"}return!0}).map($=>[$.placement,$.overflows.filter(H=>H>0).reduce((H,_)=>H+_,0)]).sort(($,H)=>$[1]-H[1])[0])==null?void 0:Z[0];U&&(T=U);break}case"initialPlacement":T=l;break}if(i!==T)return{reset:{placement:T}}}return{}}}};function $8(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function j8(t){return ume.some(e=>t[e]>=0)}const Sme=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=Qo(t,e);switch(r){case"referenceHidden":{const o=await Ig(e,{...i,elementContext:"reference"}),a=$8(o,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:j8(a)}}}case"escaped":{const o=await Ig(e,{...i,altBoundary:!0}),a=$8(o,n.floating);return{data:{escapedOffsets:a,escaped:j8(a)}}}default:return{}}}}},QU=new Set(["left","top"]);async function Tme(t,e){const{placement:n,platform:r,elements:i}=t,o=await(r.isRTL==null?void 0:r.isRTL(i.floating)),a=Yo(n),l=id(n),f=$s(n)==="y",h=QU.has(a)?-1:1,d=o&&f?-1:1,g=Qo(e,t);let{mainAxis:y,crossAxis:b,alignmentAxis:x}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:g.mainAxis||0,crossAxis:g.crossAxis||0,alignmentAxis:g.alignmentAxis};return l&&typeof x=="number"&&(b=l==="end"?x*-1:x),f?{x:b*d,y:y*h}:{x:y*h,y:b*d}}const Cme=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:o,placement:a,middlewareData:l}=e,f=await Tme(e,t);return a===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:i+f.x,y:o+f.y,data:{...f,placement:a}}}}},Ome=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:o=!0,crossAxis:a=!1,limiter:l={fn:E=>{let{x:A,y:C}=E;return{x:A,y:C}}},...f}=Qo(t,e),h={x:n,y:r},d=await Ig(e,f),g=$s(Yo(i)),y=vT(g);let b=h[y],x=h[g];if(o){const E=y==="y"?"top":"left",A=y==="y"?"bottom":"right",C=b+d[E],S=b-d[A];b=C2(C,b,S)}if(a){const E=g==="y"?"top":"left",A=g==="y"?"bottom":"right",C=x+d[E],S=x-d[A];x=C2(C,x,S)}const w=l.fn({...e,[y]:b,[g]:x});return{...w,data:{x:w.x-n,y:w.y-r,enabled:{[y]:o,[g]:a}}}}}},Dme=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:o,middlewareData:a}=e,{offset:l=0,mainAxis:f=!0,crossAxis:h=!0}=Qo(t,e),d={x:n,y:r},g=$s(i),y=vT(g);let b=d[y],x=d[g];const w=Qo(l,e),E=typeof w=="number"?{mainAxis:w,crossAxis:0}:{mainAxis:0,crossAxis:0,...w};if(f){const S=y==="y"?"height":"width",R=o.reference[y]-o.floating[S]+E.mainAxis,O=o.reference[y]+o.reference[S]-E.mainAxis;b<R?b=R:b>O&&(b=O)}if(h){var A,C;const S=y==="y"?"width":"height",R=QU.has(Yo(i)),O=o.reference[g]-o.floating[S]+(R&&((A=a.offset)==null?void 0:A[g])||0)+(R?0:E.crossAxis),P=o.reference[g]+o.reference[S]+(R?0:((C=a.offset)==null?void 0:C[g])||0)-(R?E.crossAxis:0);x<O?x=O:x>P&&(x=P)}return{[y]:b,[g]:x}}}},Pme=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:o,platform:a,elements:l}=e,{apply:f=()=>{},...h}=Qo(t,e),d=await Ig(e,h),g=Yo(i),y=id(i),b=$s(i)==="y",{width:x,height:w}=o.floating;let E,A;g==="top"||g==="bottom"?(E=g,A=y===(await(a.isRTL==null?void 0:a.isRTL(l.floating))?"start":"end")?"left":"right"):(A=g,E=y==="end"?"top":"bottom");const C=w-d.top-d.bottom,S=x-d.left-d.right,R=xc(w-d[E],C),O=xc(x-d[A],S),P=!e.middlewareData.shift;let M=R,I=O;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(I=S),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(M=C),P&&!y){const z=Wr(d.left,0),V=Wr(d.right,0),G=Wr(d.top,0),Z=Wr(d.bottom,0);b?I=x-2*(z!==0||V!==0?z+V:Wr(d.left,d.right)):M=w-2*(G!==0||Z!==0?G+Z:Wr(d.top,d.bottom))}await f({...e,availableWidth:I,availableHeight:M});const k=await a.getDimensions(l.floating);return x!==k.width||w!==k.height?{reset:{rects:!0}}:{}}}};function yw(){return typeof window<"u"}function sd(t){return YU(t)?(t.nodeName||"").toLowerCase():"#document"}function Zr(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Ys(t){var e;return(e=(YU(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function YU(t){return yw()?t instanceof Node||t instanceof Zr(t).Node:!1}function ts(t){return yw()?t instanceof Element||t instanceof Zr(t).Element:!1}function Qs(t){return yw()?t instanceof HTMLElement||t instanceof Zr(t).HTMLElement:!1}function F8(t){return!yw()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Zr(t).ShadowRoot}const Nme=new Set(["inline","contents"]);function gm(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=ns(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!Nme.has(i)}const Rme=new Set(["table","td","th"]);function _me(t){return Rme.has(sd(t))}const Ime=[":popover-open",":modal"];function bw(t){return Ime.some(e=>{try{return t.matches(e)}catch{return!1}})}const Bme=["transform","translate","scale","rotate","perspective"],Mme=["transform","translate","scale","rotate","perspective","filter"],kme=["paint","layout","strict","content"];function AT(t){const e=ST(),n=ts(t)?ns(t):t;return Bme.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||Mme.some(r=>(n.willChange||"").includes(r))||kme.some(r=>(n.contain||"").includes(r))}function Ume(t){let e=Ec(t);for(;Qs(e)&&!Vh(e);){if(AT(e))return e;if(bw(e))return null;e=Ec(e)}return null}function ST(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Lme=new Set(["html","body","#document"]);function Vh(t){return Lme.has(sd(t))}function ns(t){return Zr(t).getComputedStyle(t)}function ww(t){return ts(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Ec(t){if(sd(t)==="html")return t;const e=t.assignedSlot||t.parentNode||F8(t)&&t.host||Ys(t);return F8(e)?e.host:e}function WU(t){const e=Ec(t);return Vh(e)?t.ownerDocument?t.ownerDocument.body:t.body:Qs(e)&&gm(e)?e:WU(e)}function Bg(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=WU(t),o=i===((r=t.ownerDocument)==null?void 0:r.body),a=Zr(i);if(o){const l=D2(a);return e.concat(a,a.visualViewport||[],gm(i)?i:[],l&&n?Bg(l):[])}return e.concat(i,Bg(i,[],n))}function D2(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function XU(t){const e=ns(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Qs(t),o=i?t.offsetWidth:n,a=i?t.offsetHeight:r,l=Eb(n)!==o||Eb(r)!==a;return l&&(n=o,r=a),{width:n,height:r,$:l}}function TT(t){return ts(t)?t:t.contextElement}function Vf(t){const e=TT(t);if(!Qs(e))return qs(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:o}=XU(e);let a=(o?Eb(n.width):n.width)/r,l=(o?Eb(n.height):n.height)/i;return(!a||!Number.isFinite(a))&&(a=1),(!l||!Number.isFinite(l))&&(l=1),{x:a,y:l}}const $me=qs(0);function ZU(t){const e=Zr(t);return!ST()||!e.visualViewport?$me:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function jme(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Zr(t)?!1:e}function eu(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),o=TT(t);let a=qs(1);e&&(r?ts(r)&&(a=Vf(r)):a=Vf(t));const l=jme(o,n,r)?ZU(o):qs(0);let f=(i.left+l.x)/a.x,h=(i.top+l.y)/a.y,d=i.width/a.x,g=i.height/a.y;if(o){const y=Zr(o),b=r&&ts(r)?Zr(r):r;let x=y,w=D2(x);for(;w&&r&&b!==x;){const E=Vf(w),A=w.getBoundingClientRect(),C=ns(w),S=A.left+(w.clientLeft+parseFloat(C.paddingLeft))*E.x,R=A.top+(w.clientTop+parseFloat(C.paddingTop))*E.y;f*=E.x,h*=E.y,d*=E.x,g*=E.y,f+=S,h+=R,x=Zr(w),w=D2(x)}}return Sb({width:d,height:g,x:f,y:h})}function CT(t,e){const n=ww(t).scrollLeft;return e?e.left+n:eu(Ys(t)).left+n}function JU(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),i=r.left+e.scrollLeft-(n?0:CT(t,r)),o=r.top+e.scrollTop;return{x:i,y:o}}function Fme(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const o=i==="fixed",a=Ys(r),l=e?bw(e.floating):!1;if(r===a||l&&o)return n;let f={scrollLeft:0,scrollTop:0},h=qs(1);const d=qs(0),g=Qs(r);if((g||!g&&!o)&&((sd(r)!=="body"||gm(a))&&(f=ww(r)),Qs(r))){const b=eu(r);h=Vf(r),d.x=b.x+r.clientLeft,d.y=b.y+r.clientTop}const y=a&&!g&&!o?JU(a,f,!0):qs(0);return{width:n.width*h.x,height:n.height*h.y,x:n.x*h.x-f.scrollLeft*h.x+d.x+y.x,y:n.y*h.y-f.scrollTop*h.y+d.y+y.y}}function zme(t){return Array.from(t.getClientRects())}function Vme(t){const e=Ys(t),n=ww(t),r=t.ownerDocument.body,i=Wr(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),o=Wr(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+CT(t);const l=-n.scrollTop;return ns(r).direction==="rtl"&&(a+=Wr(e.clientWidth,r.clientWidth)-i),{width:i,height:o,x:a,y:l}}function Hme(t,e){const n=Zr(t),r=Ys(t),i=n.visualViewport;let o=r.clientWidth,a=r.clientHeight,l=0,f=0;if(i){o=i.width,a=i.height;const h=ST();(!h||h&&e==="fixed")&&(l=i.offsetLeft,f=i.offsetTop)}return{width:o,height:a,x:l,y:f}}const qme=new Set(["absolute","fixed"]);function Gme(t,e){const n=eu(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,o=Qs(t)?Vf(t):qs(1),a=t.clientWidth*o.x,l=t.clientHeight*o.y,f=i*o.x,h=r*o.y;return{width:a,height:l,x:f,y:h}}function z8(t,e,n){let r;if(e==="viewport")r=Hme(t,n);else if(e==="document")r=Vme(Ys(t));else if(ts(e))r=Gme(e,n);else{const i=ZU(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return Sb(r)}function eL(t,e){const n=Ec(t);return n===e||!ts(n)||Vh(n)?!1:ns(n).position==="fixed"||eL(n,e)}function Kme(t,e){const n=e.get(t);if(n)return n;let r=Bg(t,[],!1).filter(l=>ts(l)&&sd(l)!=="body"),i=null;const o=ns(t).position==="fixed";let a=o?Ec(t):t;for(;ts(a)&&!Vh(a);){const l=ns(a),f=AT(a);!f&&l.position==="fixed"&&(i=null),(o?!f&&!i:!f&&l.position==="static"&&!!i&&qme.has(i.position)||gm(a)&&!f&&eL(t,a))?r=r.filter(d=>d!==a):i=l,a=Ec(a)}return e.set(t,r),r}function Qme(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const a=[...n==="clippingAncestors"?bw(e)?[]:Kme(e,this._c):[].concat(n),r],l=a[0],f=a.reduce((h,d)=>{const g=z8(e,d,i);return h.top=Wr(g.top,h.top),h.right=xc(g.right,h.right),h.bottom=xc(g.bottom,h.bottom),h.left=Wr(g.left,h.left),h},z8(e,l,i));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}}function Yme(t){const{width:e,height:n}=XU(t);return{width:e,height:n}}function Wme(t,e,n){const r=Qs(e),i=Ys(e),o=n==="fixed",a=eu(t,!0,o,e);let l={scrollLeft:0,scrollTop:0};const f=qs(0);function h(){f.x=CT(i)}if(r||!r&&!o)if((sd(e)!=="body"||gm(i))&&(l=ww(e)),r){const b=eu(e,!0,o,e);f.x=b.x+e.clientLeft,f.y=b.y+e.clientTop}else i&&h();o&&!r&&i&&h();const d=i&&!r&&!o?JU(i,l):qs(0),g=a.left+l.scrollLeft-f.x-d.x,y=a.top+l.scrollTop-f.y-d.y;return{x:g,y,width:a.width,height:a.height}}function wE(t){return ns(t).position==="static"}function V8(t,e){if(!Qs(t)||ns(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Ys(t)===n&&(n=n.ownerDocument.body),n}function tL(t,e){const n=Zr(t);if(bw(t))return n;if(!Qs(t)){let i=Ec(t);for(;i&&!Vh(i);){if(ts(i)&&!wE(i))return i;i=Ec(i)}return n}let r=V8(t,e);for(;r&&_me(r)&&wE(r);)r=V8(r,e);return r&&Vh(r)&&wE(r)&&!AT(r)?n:r||Ume(t)||n}const Xme=async function(t){const e=this.getOffsetParent||tL,n=this.getDimensions,r=await n(t.floating);return{reference:Wme(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Zme(t){return ns(t).direction==="rtl"}const Jme={convertOffsetParentRelativeRectToViewportRelativeRect:Fme,getDocumentElement:Ys,getClippingRect:Qme,getOffsetParent:tL,getElementRects:Xme,getClientRects:zme,getDimensions:Yme,getScale:Vf,isElement:ts,isRTL:Zme};function nL(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function eye(t,e){let n=null,r;const i=Ys(t);function o(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function a(l,f){l===void 0&&(l=!1),f===void 0&&(f=1),o();const h=t.getBoundingClientRect(),{left:d,top:g,width:y,height:b}=h;if(l||e(),!y||!b)return;const x=p0(g),w=p0(i.clientWidth-(d+y)),E=p0(i.clientHeight-(g+b)),A=p0(d),S={rootMargin:-x+"px "+-w+"px "+-E+"px "+-A+"px",threshold:Wr(0,xc(1,f))||1};let R=!0;function O(P){const M=P[0].intersectionRatio;if(M!==f){if(!R)return a();M?a(!1,M):r=setTimeout(()=>{a(!1,1e-7)},1e3)}M===1&&!nL(h,t.getBoundingClientRect())&&a(),R=!1}try{n=new IntersectionObserver(O,{...S,root:i.ownerDocument})}catch{n=new IntersectionObserver(O,S)}n.observe(t)}return a(!0),o}function tye(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:f=!1}=r,h=TT(t),d=i||o?[...h?Bg(h):[],...Bg(e)]:[];d.forEach(A=>{i&&A.addEventListener("scroll",n,{passive:!0}),o&&A.addEventListener("resize",n)});const g=h&&l?eye(h,n):null;let y=-1,b=null;a&&(b=new ResizeObserver(A=>{let[C]=A;C&&C.target===h&&b&&(b.unobserve(e),cancelAnimationFrame(y),y=requestAnimationFrame(()=>{var S;(S=b)==null||S.observe(e)})),n()}),h&&!f&&b.observe(h),b.observe(e));let x,w=f?eu(t):null;f&&E();function E(){const A=eu(t);w&&!nL(w,A)&&n(),w=A,x=requestAnimationFrame(E)}return n(),()=>{var A;d.forEach(C=>{i&&C.removeEventListener("scroll",n),o&&C.removeEventListener("resize",n)}),g==null||g(),(A=b)==null||A.disconnect(),b=null,f&&cancelAnimationFrame(x)}}const nye=Cme,rye=Ome,iye=Ame,sye=Pme,oye=Sme,H8=Eme,aye=Dme,cye=(t,e,n)=>{const r=new Map,i={platform:Jme,...n},o={...i.platform,_c:r};return xme(t,e,{...i,platform:o})};var lye=typeof document<"u",uye=function(){},j0=lye?F.useLayoutEffect:uye;function Tb(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Tb(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const o=i[r];if(!(o==="_owner"&&t.$$typeof)&&!Tb(t[o],e[o]))return!1}return!0}return t!==t&&e!==e}function rL(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function q8(t,e){const n=rL(t);return Math.round(e*n)/n}function vE(t){const e=F.useRef(t);return j0(()=>{e.current=t}),e}function fye(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:o,floating:a}={},transform:l=!0,whileElementsMounted:f,open:h}=t,[d,g]=F.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[y,b]=F.useState(r);Tb(y,r)||b(r);const[x,w]=F.useState(null),[E,A]=F.useState(null),C=F.useCallback($=>{$!==P.current&&(P.current=$,w($))},[]),S=F.useCallback($=>{$!==M.current&&(M.current=$,A($))},[]),R=o||x,O=a||E,P=F.useRef(null),M=F.useRef(null),I=F.useRef(d),k=f!=null,z=vE(f),V=vE(i),G=vE(h),Z=F.useCallback(()=>{if(!P.current||!M.current)return;const $={placement:e,strategy:n,middleware:y};V.current&&($.platform=V.current),cye(P.current,M.current,$).then(H=>{const _={...H,isPositioned:G.current!==!1};Y.current&&!Tb(I.current,_)&&(I.current=_,Zg.flushSync(()=>{g(_)}))})},[y,e,n,V,G]);j0(()=>{h===!1&&I.current.isPositioned&&(I.current.isPositioned=!1,g($=>({...$,isPositioned:!1})))},[h]);const Y=F.useRef(!1);j0(()=>(Y.current=!0,()=>{Y.current=!1}),[]),j0(()=>{if(R&&(P.current=R),O&&(M.current=O),R&&O){if(z.current)return z.current(R,O,Z);Z()}},[R,O,Z,z,k]);const D=F.useMemo(()=>({reference:P,floating:M,setReference:C,setFloating:S}),[C,S]),T=F.useMemo(()=>({reference:R,floating:O}),[R,O]),U=F.useMemo(()=>{const $={position:n,left:0,top:0};if(!T.floating)return $;const H=q8(T.floating,d.x),_=q8(T.floating,d.y);return l?{...$,transform:"translate("+H+"px, "+_+"px)",...rL(T.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:H,top:_}},[n,l,T.floating,d.x,d.y]);return F.useMemo(()=>({...d,update:Z,refs:D,elements:T,floatingStyles:U}),[d,Z,D,T,U])}const hye=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?H8({element:r.current,padding:i}).fn(n):{}:r?H8({element:r,padding:i}).fn(n):{}}}},dye=(t,e)=>({...nye(t),options:[t,e]}),pye=(t,e)=>({...rye(t),options:[t,e]}),gye=(t,e)=>({...aye(t),options:[t,e]}),mye=(t,e)=>({...iye(t),options:[t,e]}),yye=(t,e)=>({...sye(t),options:[t,e]}),bye=(t,e)=>({...oye(t),options:[t,e]}),wye=(t,e)=>({...hye(t),options:[t,e]});var vye="Arrow",iL=F.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...o}=t;return j.jsx(Rt.svg,{...o,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:j.jsx("polygon",{points:"0,0 30,0 15,10"})})});iL.displayName=vye;var xye=iL;function Eye(t){const[e,n]=F.useState(void 0);return Rr(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const o=i[0];let a,l;if("borderBoxSize"in o){const f=o.borderBoxSize,h=Array.isArray(f)?f[0]:f;a=h.inlineSize,l=h.blockSize}else a=t.offsetWidth,l=t.offsetHeight;n({width:a,height:l})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var OT="Popper",[sL,oL]=bT(OT),[Aye,aL]=sL(OT),cL=t=>{const{__scopePopper:e,children:n}=t,[r,i]=F.useState(null);return j.jsx(Aye,{scope:e,anchor:r,onAnchorChange:i,children:n})};cL.displayName=OT;var lL="PopperAnchor",uL=F.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,o=aL(lL,n),a=F.useRef(null),l=Rn(e,a);return F.useEffect(()=>{o.onAnchorChange((r==null?void 0:r.current)||a.current)}),r?null:j.jsx(Rt.div,{...i,ref:l})});uL.displayName=lL;var DT="PopperContent",[Sye,Tye]=sL(DT),fL=F.forwardRef((t,e)=>{var he,ye,ve,Ce,Ne,_e;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:o="center",alignOffset:a=0,arrowPadding:l=0,avoidCollisions:f=!0,collisionBoundary:h=[],collisionPadding:d=0,sticky:g="partial",hideWhenDetached:y=!1,updatePositionStrategy:b="optimized",onPlaced:x,...w}=t,E=aL(DT,n),[A,C]=F.useState(null),S=Rn(e,Je=>C(Je)),[R,O]=F.useState(null),P=Eye(R),M=(P==null?void 0:P.width)??0,I=(P==null?void 0:P.height)??0,k=r+(o!=="center"?"-"+o:""),z=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},V=Array.isArray(h)?h:[h],G=V.length>0,Z={padding:z,boundary:V.filter(Oye),altBoundary:G},{refs:Y,floatingStyles:D,placement:T,isPositioned:U,middlewareData:$}=fye({strategy:"fixed",placement:k,whileElementsMounted:(...Je)=>tye(...Je,{animationFrame:b==="always"}),elements:{reference:E.anchor},middleware:[dye({mainAxis:i+I,alignmentAxis:a}),f&&pye({mainAxis:!0,crossAxis:!1,limiter:g==="partial"?gye():void 0,...Z}),f&&mye({...Z}),yye({...Z,apply:({elements:Je,rects:ht,availableWidth:cr,availableHeight:ti})=>{const{width:cn,height:ad}=ht.reference,ss=Je.floating.style;ss.setProperty("--radix-popper-available-width",`${cr}px`),ss.setProperty("--radix-popper-available-height",`${ti}px`),ss.setProperty("--radix-popper-anchor-width",`${cn}px`),ss.setProperty("--radix-popper-anchor-height",`${ad}px`)}}),R&&wye({element:R,padding:l}),Dye({arrowWidth:M,arrowHeight:I}),y&&bye({strategy:"referenceHidden",...Z})]}),[H,_]=pL(T),K=Jl(x);Rr(()=>{U&&(K==null||K())},[U,K]);const te=(he=$.arrow)==null?void 0:he.x,X=(ye=$.arrow)==null?void 0:ye.y,ne=((ve=$.arrow)==null?void 0:ve.centerOffset)!==0,[fe,ue]=F.useState();return Rr(()=>{A&&ue(window.getComputedStyle(A).zIndex)},[A]),j.jsx("div",{ref:Y.setFloating,"data-radix-popper-content-wrapper":"",style:{...D,transform:U?D.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:fe,"--radix-popper-transform-origin":[(Ce=$.transformOrigin)==null?void 0:Ce.x,(Ne=$.transformOrigin)==null?void 0:Ne.y].join(" "),...((_e=$.hide)==null?void 0:_e.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:j.jsx(Sye,{scope:n,placedSide:H,onArrowChange:O,arrowX:te,arrowY:X,shouldHideArrow:ne,children:j.jsx(Rt.div,{"data-side":H,"data-align":_,...w,ref:S,style:{...w.style,animation:U?void 0:"none"}})})})});fL.displayName=DT;var hL="PopperArrow",Cye={top:"bottom",right:"left",bottom:"top",left:"right"},dL=F.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,o=Tye(hL,r),a=Cye[o.placedSide];return j.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:j.jsx(xye,{...i,ref:n,style:{...i.style,display:"block"}})})});dL.displayName=hL;function Oye(t){return t!==null}var Dye=t=>({name:"transformOrigin",options:t,fn(e){var E,A,C;const{placement:n,rects:r,middlewareData:i}=e,a=((E=i.arrow)==null?void 0:E.centerOffset)!==0,l=a?0:t.arrowWidth,f=a?0:t.arrowHeight,[h,d]=pL(n),g={start:"0%",center:"50%",end:"100%"}[d],y=(((A=i.arrow)==null?void 0:A.x)??0)+l/2,b=(((C=i.arrow)==null?void 0:C.y)??0)+f/2;let x="",w="";return h==="bottom"?(x=a?g:`${y}px`,w=`${-f}px`):h==="top"?(x=a?g:`${y}px`,w=`${r.floating.height+f}px`):h==="right"?(x=`${-f}px`,w=a?g:`${b}px`):h==="left"&&(x=`${r.floating.width+f}px`,w=a?g:`${b}px`),{data:{x,y:w}}}});function pL(t){const[e,n="center"]=t.split("-");return[e,n]}var Pye=cL,Nye=uL,Rye=fL,_ye=dL,Iye="Portal",gL=F.forwardRef((t,e)=>{var l;const{container:n,...r}=t,[i,o]=F.useState(!1);Rr(()=>o(!0),[]);const a=n||i&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return a?qH.createPortal(j.jsx(Rt.div,{...r,ref:e}),a):null});gL.displayName=Iye;var Bye=e4[" useInsertionEffect ".trim().toString()]||Rr;function G8({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[i,o,a]=Mye({defaultProp:e,onChange:n}),l=t!==void 0,f=l?t:i;{const d=F.useRef(t!==void 0);F.useEffect(()=>{const g=d.current;g!==l&&console.warn(`${r} is changing from ${g?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,r])}const h=F.useCallback(d=>{var g;if(l){const y=kye(d)?d(t):d;y!==t&&((g=a.current)==null||g.call(a,y))}else o(d)},[l,t,o,a]);return[f,h]}function Mye({defaultProp:t,onChange:e}){const[n,r]=F.useState(t),i=F.useRef(n),o=F.useRef(e);return Bye(()=>{o.current=e},[e]),F.useEffect(()=>{var a;i.current!==n&&((a=o.current)==null||a.call(o,n),i.current=n)},[n,i]),[n,r,o]}function kye(t){return typeof t=="function"}function Uye(t){const e=F.useRef({value:t,previous:t});return F.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var mL=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Lye="VisuallyHidden",$ye=F.forwardRef((t,e)=>j.jsx(Rt.span,{...t,ref:e,style:{...mL,...t.style}}));$ye.displayName=Lye;var jye=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},wf=new WeakMap,g0=new WeakMap,m0={},xE=0,yL=function(t){return t&&(t.host||yL(t.parentNode))},Fye=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=yL(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},zye=function(t,e,n,r){var i=Fye(e,Array.isArray(t)?t:[t]);m0[n]||(m0[n]=new WeakMap);var o=m0[n],a=[],l=new Set,f=new Set(i),h=function(g){!g||l.has(g)||(l.add(g),h(g.parentNode))};i.forEach(h);var d=function(g){!g||f.has(g)||Array.prototype.forEach.call(g.children,function(y){if(l.has(y))d(y);else try{var b=y.getAttribute(r),x=b!==null&&b!=="false",w=(wf.get(y)||0)+1,E=(o.get(y)||0)+1;wf.set(y,w),o.set(y,E),a.push(y),w===1&&x&&g0.set(y,!0),E===1&&y.setAttribute(n,"true"),x||y.setAttribute(r,"true")}catch(A){console.error("aria-hidden: cannot operate on ",y,A)}})};return d(e),l.clear(),xE++,function(){a.forEach(function(g){var y=wf.get(g)-1,b=o.get(g)-1;wf.set(g,y),o.set(g,b),y||(g0.has(g)||g.removeAttribute(r),g0.delete(g)),b||g.removeAttribute(n)}),xE--,xE||(wf=new WeakMap,wf=new WeakMap,g0=new WeakMap,m0={})}},Vye=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=jye(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),zye(r,i,n,"aria-hidden")):function(){return null}},Bs=function(){return Bs=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Bs.apply(this,arguments)};function bL(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Hye(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}var F0="right-scroll-bar-position",z0="width-before-scroll-bar",qye="with-scroll-bars-hidden",Gye="--removed-body-scroll-bar-size";function EE(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function Kye(t,e){var n=F.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var Qye=typeof window<"u"?F.useLayoutEffect:F.useEffect,K8=new WeakMap;function Yye(t,e){var n=Kye(null,function(r){return t.forEach(function(i){return EE(i,r)})});return Qye(function(){var r=K8.get(n);if(r){var i=new Set(r),o=new Set(t),a=n.current;i.forEach(function(l){o.has(l)||EE(l,null)}),o.forEach(function(l){i.has(l)||EE(l,a)})}K8.set(n,t)},[t]),n}function Wye(t){return t}function Xye(t,e){e===void 0&&(e=Wye);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(o){var a=e(o,r);return n.push(a),function(){n=n.filter(function(l){return l!==a})}},assignSyncMedium:function(o){for(r=!0;n.length;){var a=n;n=[],a.forEach(o)}n={push:function(l){return o(l)},filter:function(){return n}}},assignMedium:function(o){r=!0;var a=[];if(n.length){var l=n;n=[],l.forEach(o),a=n}var f=function(){var d=a;a=[],d.forEach(o)},h=function(){return Promise.resolve().then(f)};h(),n={push:function(d){a.push(d),h()},filter:function(d){return a=a.filter(d),n}}}};return i}function Zye(t){t===void 0&&(t={});var e=Xye(null);return e.options=Bs({async:!0,ssr:!1},t),e}var wL=function(t){var e=t.sideCar,n=bL(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return F.createElement(r,Bs({},n))};wL.isSideCarExport=!0;function Jye(t,e){return t.useMedium(e),wL}var vL=Zye(),AE=function(){},vw=F.forwardRef(function(t,e){var n=F.useRef(null),r=F.useState({onScrollCapture:AE,onWheelCapture:AE,onTouchMoveCapture:AE}),i=r[0],o=r[1],a=t.forwardProps,l=t.children,f=t.className,h=t.removeScrollBar,d=t.enabled,g=t.shards,y=t.sideCar,b=t.noRelative,x=t.noIsolation,w=t.inert,E=t.allowPinchZoom,A=t.as,C=A===void 0?"div":A,S=t.gapMode,R=bL(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),O=y,P=Yye([n,e]),M=Bs(Bs({},R),i);return F.createElement(F.Fragment,null,d&&F.createElement(O,{sideCar:vL,removeScrollBar:h,shards:g,noRelative:b,noIsolation:x,inert:w,setCallbacks:o,allowPinchZoom:!!E,lockRef:n,gapMode:S}),a?F.cloneElement(F.Children.only(l),Bs(Bs({},M),{ref:P})):F.createElement(C,Bs({},M,{className:f,ref:P}),l))});vw.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};vw.classNames={fullWidth:z0,zeroRight:F0};var e0e=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function t0e(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=e0e();return e&&t.setAttribute("nonce",e),t}function n0e(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function r0e(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var i0e=function(){var t=0,e=null;return{add:function(n){t==0&&(e=t0e())&&(n0e(e,n),r0e(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},s0e=function(){var t=i0e();return function(e,n){F.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},xL=function(){var t=s0e(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},o0e={left:0,top:0,right:0,gap:0},SE=function(t){return parseInt(t||"",10)||0},a0e=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[SE(n),SE(r),SE(i)]},c0e=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return o0e;var e=a0e(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},l0e=xL(),Hf="data-scroll-locked",u0e=function(t,e,n,r){var i=t.left,o=t.top,a=t.right,l=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(qye,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(Hf,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(F0,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(z0,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(F0," .").concat(F0,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(z0," .").concat(z0,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Hf,`] {
    `).concat(Gye,": ").concat(l,`px;
  }
`)},Q8=function(){var t=parseInt(document.body.getAttribute(Hf)||"0",10);return isFinite(t)?t:0},f0e=function(){F.useEffect(function(){return document.body.setAttribute(Hf,(Q8()+1).toString()),function(){var t=Q8()-1;t<=0?document.body.removeAttribute(Hf):document.body.setAttribute(Hf,t.toString())}},[])},h0e=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;f0e();var o=F.useMemo(function(){return c0e(i)},[i]);return F.createElement(l0e,{styles:u0e(o,!e,i,n?"":"!important")})},P2=!1;if(typeof window<"u")try{var y0=Object.defineProperty({},"passive",{get:function(){return P2=!0,!0}});window.addEventListener("test",y0,y0),window.removeEventListener("test",y0,y0)}catch{P2=!1}var vf=P2?{passive:!1}:!1,d0e=function(t){return t.tagName==="TEXTAREA"},EL=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!d0e(t)&&n[e]==="visible")},p0e=function(t){return EL(t,"overflowY")},g0e=function(t){return EL(t,"overflowX")},Y8=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=AL(t,r);if(i){var o=SL(t,r),a=o[1],l=o[2];if(a>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},m0e=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},y0e=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},AL=function(t,e){return t==="v"?p0e(e):g0e(e)},SL=function(t,e){return t==="v"?m0e(e):y0e(e)},b0e=function(t,e){return t==="h"&&e==="rtl"?-1:1},w0e=function(t,e,n,r,i){var o=b0e(t,window.getComputedStyle(e).direction),a=o*r,l=n.target,f=e.contains(l),h=!1,d=a>0,g=0,y=0;do{if(!l)break;var b=SL(t,l),x=b[0],w=b[1],E=b[2],A=w-E-o*x;(x||A)&&AL(t,l)&&(g+=A,y+=x);var C=l.parentNode;l=C&&C.nodeType===Node.DOCUMENT_FRAGMENT_NODE?C.host:C}while(!f&&l!==document.body||f&&(e.contains(l)||e===l));return(d&&Math.abs(g)<1||!d&&Math.abs(y)<1)&&(h=!0),h},b0=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},W8=function(t){return[t.deltaX,t.deltaY]},X8=function(t){return t&&"current"in t?t.current:t},v0e=function(t,e){return t[0]===e[0]&&t[1]===e[1]},x0e=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},E0e=0,xf=[];function A0e(t){var e=F.useRef([]),n=F.useRef([0,0]),r=F.useRef(),i=F.useState(E0e++)[0],o=F.useState(xL)[0],a=F.useRef(t);F.useEffect(function(){a.current=t},[t]),F.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var w=Hye([t.lockRef.current],(t.shards||[]).map(X8),!0).filter(Boolean);return w.forEach(function(E){return E.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),w.forEach(function(E){return E.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var l=F.useCallback(function(w,E){if("touches"in w&&w.touches.length===2||w.type==="wheel"&&w.ctrlKey)return!a.current.allowPinchZoom;var A=b0(w),C=n.current,S="deltaX"in w?w.deltaX:C[0]-A[0],R="deltaY"in w?w.deltaY:C[1]-A[1],O,P=w.target,M=Math.abs(S)>Math.abs(R)?"h":"v";if("touches"in w&&M==="h"&&P.type==="range")return!1;var I=Y8(M,P);if(!I)return!0;if(I?O=M:(O=M==="v"?"h":"v",I=Y8(M,P)),!I)return!1;if(!r.current&&"changedTouches"in w&&(S||R)&&(r.current=O),!O)return!0;var k=r.current||O;return w0e(k,E,w,k==="h"?S:R)},[]),f=F.useCallback(function(w){var E=w;if(!(!xf.length||xf[xf.length-1]!==o)){var A="deltaY"in E?W8(E):b0(E),C=e.current.filter(function(O){return O.name===E.type&&(O.target===E.target||E.target===O.shadowParent)&&v0e(O.delta,A)})[0];if(C&&C.should){E.cancelable&&E.preventDefault();return}if(!C){var S=(a.current.shards||[]).map(X8).filter(Boolean).filter(function(O){return O.contains(E.target)}),R=S.length>0?l(E,S[0]):!a.current.noIsolation;R&&E.cancelable&&E.preventDefault()}}},[]),h=F.useCallback(function(w,E,A,C){var S={name:w,delta:E,target:A,should:C,shadowParent:S0e(A)};e.current.push(S),setTimeout(function(){e.current=e.current.filter(function(R){return R!==S})},1)},[]),d=F.useCallback(function(w){n.current=b0(w),r.current=void 0},[]),g=F.useCallback(function(w){h(w.type,W8(w),w.target,l(w,t.lockRef.current))},[]),y=F.useCallback(function(w){h(w.type,b0(w),w.target,l(w,t.lockRef.current))},[]);F.useEffect(function(){return xf.push(o),t.setCallbacks({onScrollCapture:g,onWheelCapture:g,onTouchMoveCapture:y}),document.addEventListener("wheel",f,vf),document.addEventListener("touchmove",f,vf),document.addEventListener("touchstart",d,vf),function(){xf=xf.filter(function(w){return w!==o}),document.removeEventListener("wheel",f,vf),document.removeEventListener("touchmove",f,vf),document.removeEventListener("touchstart",d,vf)}},[]);var b=t.removeScrollBar,x=t.inert;return F.createElement(F.Fragment,null,x?F.createElement(o,{styles:x0e(i)}):null,b?F.createElement(h0e,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function S0e(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const T0e=Jye(vL,A0e);var TL=F.forwardRef(function(t,e){return F.createElement(vw,Bs({},t,{ref:e,sideCar:T0e}))});TL.classNames=vw.classNames;var C0e=[" ","Enter","ArrowUp","ArrowDown"],O0e=[" ","Enter"],tu="Select",[xw,Ew,D0e]=Vge(tu),[od,fwe]=bT(tu,[D0e,oL]),Aw=oL(),[P0e,Oc]=od(tu),[N0e,R0e]=od(tu),CL=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:i,onOpenChange:o,value:a,defaultValue:l,onValueChange:f,dir:h,name:d,autoComplete:g,disabled:y,required:b,form:x}=t,w=Aw(e),[E,A]=F.useState(null),[C,S]=F.useState(null),[R,O]=F.useState(!1),P=qge(h),[M,I]=G8({prop:r,defaultProp:i??!1,onChange:o,caller:tu}),[k,z]=G8({prop:a,defaultProp:l,onChange:f,caller:tu}),V=F.useRef(null),G=E?x||!!E.closest("form"):!0,[Z,Y]=F.useState(new Set),D=Array.from(Z).map(T=>T.props.value).join(";");return j.jsx(Pye,{...w,children:j.jsxs(P0e,{required:b,scope:e,trigger:E,onTriggerChange:A,valueNode:C,onValueNodeChange:S,valueNodeHasChildren:R,onValueNodeHasChildrenChange:O,contentId:wT(),value:k,onValueChange:z,open:M,onOpenChange:I,dir:P,triggerPointerDownPosRef:V,disabled:y,children:[j.jsx(xw.Provider,{scope:e,children:j.jsx(N0e,{scope:t.__scopeSelect,onNativeOptionAdd:F.useCallback(T=>{Y(U=>new Set(U).add(T))},[]),onNativeOptionRemove:F.useCallback(T=>{Y(U=>{const $=new Set(U);return $.delete(T),$})},[]),children:n})}),G?j.jsxs(QL,{"aria-hidden":!0,required:b,tabIndex:-1,name:d,autoComplete:g,value:k,onChange:T=>z(T.target.value),disabled:y,form:x,children:[k===void 0?j.jsx("option",{value:""}):null,Array.from(Z)]},D):null]})})};CL.displayName=tu;var OL="SelectTrigger",DL=F.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...i}=t,o=Aw(n),a=Oc(OL,n),l=a.disabled||r,f=Rn(e,a.onTriggerChange),h=Ew(n),d=F.useRef("touch"),[g,y,b]=WL(w=>{const E=h().filter(S=>!S.disabled),A=E.find(S=>S.value===a.value),C=XL(E,w,A);C!==void 0&&a.onValueChange(C.value)}),x=w=>{l||(a.onOpenChange(!0),b()),w&&(a.triggerPointerDownPosRef.current={x:Math.round(w.pageX),y:Math.round(w.pageY)})};return j.jsx(Nye,{asChild:!0,...o,children:j.jsx(Rt.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":YL(a.value)?"":void 0,...i,ref:f,onClick:Wt(i.onClick,w=>{w.currentTarget.focus(),d.current!=="mouse"&&x(w)}),onPointerDown:Wt(i.onPointerDown,w=>{d.current=w.pointerType;const E=w.target;E.hasPointerCapture(w.pointerId)&&E.releasePointerCapture(w.pointerId),w.button===0&&w.ctrlKey===!1&&w.pointerType==="mouse"&&(x(w),w.preventDefault())}),onKeyDown:Wt(i.onKeyDown,w=>{const E=g.current!=="";!(w.ctrlKey||w.altKey||w.metaKey)&&w.key.length===1&&y(w.key),!(E&&w.key===" ")&&C0e.includes(w.key)&&(x(),w.preventDefault())})})})});DL.displayName=OL;var PL="SelectValue",NL=F.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,children:o,placeholder:a="",...l}=t,f=Oc(PL,n),{onValueNodeHasChildrenChange:h}=f,d=o!==void 0,g=Rn(e,f.onValueNodeChange);return Rr(()=>{h(d)},[h,d]),j.jsx(Rt.span,{...l,ref:g,style:{pointerEvents:"none"},children:YL(f.value)?j.jsx(j.Fragment,{children:a}):o})});NL.displayName=PL;var _0e="SelectIcon",RL=F.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...i}=t;return j.jsx(Rt.span,{"aria-hidden":!0,...i,ref:e,children:r||"▼"})});RL.displayName=_0e;var I0e="SelectPortal",_L=t=>j.jsx(gL,{asChild:!0,...t});_L.displayName=I0e;var nu="SelectContent",IL=F.forwardRef((t,e)=>{const n=Oc(nu,t.__scopeSelect),[r,i]=F.useState();if(Rr(()=>{i(new DocumentFragment)},[]),!n.open){const o=r;return o?Zg.createPortal(j.jsx(BL,{scope:t.__scopeSelect,children:j.jsx(xw.Slot,{scope:t.__scopeSelect,children:j.jsx("div",{children:t.children})})}),o):null}return j.jsx(ML,{...t,ref:e})});IL.displayName=nu;var Vi=10,[BL,Dc]=od(nu),B0e="SelectContentImpl",M0e=fg("SelectContent.RemoveScroll"),ML=F.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:o,onPointerDownOutside:a,side:l,sideOffset:f,align:h,alignOffset:d,arrowPadding:g,collisionBoundary:y,collisionPadding:b,sticky:x,hideWhenDetached:w,avoidCollisions:E,...A}=t,C=Oc(nu,n),[S,R]=F.useState(null),[O,P]=F.useState(null),M=Rn(e,he=>R(he)),[I,k]=F.useState(null),[z,V]=F.useState(null),G=Ew(n),[Z,Y]=F.useState(!1),D=F.useRef(!1);F.useEffect(()=>{if(S)return Vye(S)},[S]),eme();const T=F.useCallback(he=>{const[ye,...ve]=G().map(_e=>_e.ref.current),[Ce]=ve.slice(-1),Ne=document.activeElement;for(const _e of he)if(_e===Ne||(_e==null||_e.scrollIntoView({block:"nearest"}),_e===ye&&O&&(O.scrollTop=0),_e===Ce&&O&&(O.scrollTop=O.scrollHeight),_e==null||_e.focus(),document.activeElement!==Ne))return},[G,O]),U=F.useCallback(()=>T([I,S]),[T,I,S]);F.useEffect(()=>{Z&&U()},[Z,U]);const{onOpenChange:$,triggerPointerDownPosRef:H}=C;F.useEffect(()=>{if(S){let he={x:0,y:0};const ye=Ce=>{var Ne,_e;he={x:Math.abs(Math.round(Ce.pageX)-(((Ne=H.current)==null?void 0:Ne.x)??0)),y:Math.abs(Math.round(Ce.pageY)-(((_e=H.current)==null?void 0:_e.y)??0))}},ve=Ce=>{he.x<=10&&he.y<=10?Ce.preventDefault():S.contains(Ce.target)||$(!1),document.removeEventListener("pointermove",ye),H.current=null};return H.current!==null&&(document.addEventListener("pointermove",ye),document.addEventListener("pointerup",ve,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ye),document.removeEventListener("pointerup",ve,{capture:!0})}}},[S,$,H]),F.useEffect(()=>{const he=()=>$(!1);return window.addEventListener("blur",he),window.addEventListener("resize",he),()=>{window.removeEventListener("blur",he),window.removeEventListener("resize",he)}},[$]);const[_,K]=WL(he=>{const ye=G().filter(Ne=>!Ne.disabled),ve=ye.find(Ne=>Ne.ref.current===document.activeElement),Ce=XL(ye,he,ve);Ce&&setTimeout(()=>Ce.ref.current.focus())}),te=F.useCallback((he,ye,ve)=>{const Ce=!D.current&&!ve;(C.value!==void 0&&C.value===ye||Ce)&&(k(he),Ce&&(D.current=!0))},[C.value]),X=F.useCallback(()=>S==null?void 0:S.focus(),[S]),ne=F.useCallback((he,ye,ve)=>{const Ce=!D.current&&!ve;(C.value!==void 0&&C.value===ye||Ce)&&V(he)},[C.value]),fe=r==="popper"?N2:kL,ue=fe===N2?{side:l,sideOffset:f,align:h,alignOffset:d,arrowPadding:g,collisionBoundary:y,collisionPadding:b,sticky:x,hideWhenDetached:w,avoidCollisions:E}:{};return j.jsx(BL,{scope:n,content:S,viewport:O,onViewportChange:P,itemRefCallback:te,selectedItem:I,onItemLeave:X,itemTextRefCallback:ne,focusSelectedItem:U,selectedItemText:z,position:r,isPositioned:Z,searchRef:_,children:j.jsx(TL,{as:M0e,allowPinchZoom:!0,children:j.jsx(qU,{asChild:!0,trapped:C.open,onMountAutoFocus:he=>{he.preventDefault()},onUnmountAutoFocus:Wt(i,he=>{var ye;(ye=C.trigger)==null||ye.focus({preventScroll:!0}),he.preventDefault()}),children:j.jsx(VU,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:a,onFocusOutside:he=>he.preventDefault(),onDismiss:()=>C.onOpenChange(!1),children:j.jsx(fe,{role:"listbox",id:C.contentId,"data-state":C.open?"open":"closed",dir:C.dir,onContextMenu:he=>he.preventDefault(),...A,...ue,onPlaced:()=>Y(!0),ref:M,style:{display:"flex",flexDirection:"column",outline:"none",...A.style},onKeyDown:Wt(A.onKeyDown,he=>{const ye=he.ctrlKey||he.altKey||he.metaKey;if(he.key==="Tab"&&he.preventDefault(),!ye&&he.key.length===1&&K(he.key),["ArrowUp","ArrowDown","Home","End"].includes(he.key)){let Ce=G().filter(Ne=>!Ne.disabled).map(Ne=>Ne.ref.current);if(["ArrowUp","End"].includes(he.key)&&(Ce=Ce.slice().reverse()),["ArrowUp","ArrowDown"].includes(he.key)){const Ne=he.target,_e=Ce.indexOf(Ne);Ce=Ce.slice(_e+1)}setTimeout(()=>T(Ce)),he.preventDefault()}})})})})})})});ML.displayName=B0e;var k0e="SelectItemAlignedPosition",kL=F.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...i}=t,o=Oc(nu,n),a=Dc(nu,n),[l,f]=F.useState(null),[h,d]=F.useState(null),g=Rn(e,M=>d(M)),y=Ew(n),b=F.useRef(!1),x=F.useRef(!0),{viewport:w,selectedItem:E,selectedItemText:A,focusSelectedItem:C}=a,S=F.useCallback(()=>{if(o.trigger&&o.valueNode&&l&&h&&w&&E&&A){const M=o.trigger.getBoundingClientRect(),I=h.getBoundingClientRect(),k=o.valueNode.getBoundingClientRect(),z=A.getBoundingClientRect();if(o.dir!=="rtl"){const Ne=z.left-I.left,_e=k.left-Ne,Je=M.left-_e,ht=M.width+Je,cr=Math.max(ht,I.width),ti=window.innerWidth-Vi,cn=D8(_e,[Vi,Math.max(Vi,ti-cr)]);l.style.minWidth=ht+"px",l.style.left=cn+"px"}else{const Ne=I.right-z.right,_e=window.innerWidth-k.right-Ne,Je=window.innerWidth-M.right-_e,ht=M.width+Je,cr=Math.max(ht,I.width),ti=window.innerWidth-Vi,cn=D8(_e,[Vi,Math.max(Vi,ti-cr)]);l.style.minWidth=ht+"px",l.style.right=cn+"px"}const V=y(),G=window.innerHeight-Vi*2,Z=w.scrollHeight,Y=window.getComputedStyle(h),D=parseInt(Y.borderTopWidth,10),T=parseInt(Y.paddingTop,10),U=parseInt(Y.borderBottomWidth,10),$=parseInt(Y.paddingBottom,10),H=D+T+Z+$+U,_=Math.min(E.offsetHeight*5,H),K=window.getComputedStyle(w),te=parseInt(K.paddingTop,10),X=parseInt(K.paddingBottom,10),ne=M.top+M.height/2-Vi,fe=G-ne,ue=E.offsetHeight/2,he=E.offsetTop+ue,ye=D+T+he,ve=H-ye;if(ye<=ne){const Ne=V.length>0&&E===V[V.length-1].ref.current;l.style.bottom="0px";const _e=h.clientHeight-w.offsetTop-w.offsetHeight,Je=Math.max(fe,ue+(Ne?X:0)+_e+U),ht=ye+Je;l.style.height=ht+"px"}else{const Ne=V.length>0&&E===V[0].ref.current;l.style.top="0px";const Je=Math.max(ne,D+w.offsetTop+(Ne?te:0)+ue)+ve;l.style.height=Je+"px",w.scrollTop=ye-ne+w.offsetTop}l.style.margin=`${Vi}px 0`,l.style.minHeight=_+"px",l.style.maxHeight=G+"px",r==null||r(),requestAnimationFrame(()=>b.current=!0)}},[y,o.trigger,o.valueNode,l,h,w,E,A,o.dir,r]);Rr(()=>S(),[S]);const[R,O]=F.useState();Rr(()=>{h&&O(window.getComputedStyle(h).zIndex)},[h]);const P=F.useCallback(M=>{M&&x.current===!0&&(S(),C==null||C(),x.current=!1)},[S,C]);return j.jsx(L0e,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:b,onScrollButtonChange:P,children:j.jsx("div",{ref:f,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:R},children:j.jsx(Rt.div,{...i,ref:g,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});kL.displayName=k0e;var U0e="SelectPopperPosition",N2=F.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=Vi,...o}=t,a=Aw(n);return j.jsx(Rye,{...a,...o,ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});N2.displayName=U0e;var[L0e,PT]=od(nu,{}),R2="SelectViewport",UL=F.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...i}=t,o=Dc(R2,n),a=PT(R2,n),l=Rn(e,o.onViewportChange),f=F.useRef(0);return j.jsxs(j.Fragment,{children:[j.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),j.jsx(xw.Slot,{scope:n,children:j.jsx(Rt.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Wt(i.onScroll,h=>{const d=h.currentTarget,{contentWrapper:g,shouldExpandOnScrollRef:y}=a;if(y!=null&&y.current&&g){const b=Math.abs(f.current-d.scrollTop);if(b>0){const x=window.innerHeight-Vi*2,w=parseFloat(g.style.minHeight),E=parseFloat(g.style.height),A=Math.max(w,E);if(A<x){const C=A+b,S=Math.min(x,C),R=C-S;g.style.height=S+"px",g.style.bottom==="0px"&&(d.scrollTop=R>0?R:0,g.style.justifyContent="flex-end")}}}f.current=d.scrollTop})})})]})});UL.displayName=R2;var LL="SelectGroup",[$0e,j0e]=od(LL),F0e=F.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=wT();return j.jsx($0e,{scope:n,id:i,children:j.jsx(Rt.div,{role:"group","aria-labelledby":i,...r,ref:e})})});F0e.displayName=LL;var $L="SelectLabel",z0e=F.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=j0e($L,n);return j.jsx(Rt.div,{id:i.id,...r,ref:e})});z0e.displayName=$L;var Cb="SelectItem",[V0e,jL]=od(Cb),FL=F.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:o,...a}=t,l=Oc(Cb,n),f=Dc(Cb,n),h=l.value===r,[d,g]=F.useState(o??""),[y,b]=F.useState(!1),x=Rn(e,C=>{var S;return(S=f.itemRefCallback)==null?void 0:S.call(f,C,r,i)}),w=wT(),E=F.useRef("touch"),A=()=>{i||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return j.jsx(V0e,{scope:n,value:r,disabled:i,textId:w,isSelected:h,onItemTextChange:F.useCallback(C=>{g(S=>S||((C==null?void 0:C.textContent)??"").trim())},[]),children:j.jsx(xw.ItemSlot,{scope:n,value:r,disabled:i,textValue:d,children:j.jsx(Rt.div,{role:"option","aria-labelledby":w,"data-highlighted":y?"":void 0,"aria-selected":h&&y,"data-state":h?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...a,ref:x,onFocus:Wt(a.onFocus,()=>b(!0)),onBlur:Wt(a.onBlur,()=>b(!1)),onClick:Wt(a.onClick,()=>{E.current!=="mouse"&&A()}),onPointerUp:Wt(a.onPointerUp,()=>{E.current==="mouse"&&A()}),onPointerDown:Wt(a.onPointerDown,C=>{E.current=C.pointerType}),onPointerMove:Wt(a.onPointerMove,C=>{var S;E.current=C.pointerType,i?(S=f.onItemLeave)==null||S.call(f):E.current==="mouse"&&C.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Wt(a.onPointerLeave,C=>{var S;C.currentTarget===document.activeElement&&((S=f.onItemLeave)==null||S.call(f))}),onKeyDown:Wt(a.onKeyDown,C=>{var R;((R=f.searchRef)==null?void 0:R.current)!==""&&C.key===" "||(O0e.includes(C.key)&&A(),C.key===" "&&C.preventDefault())})})})})});FL.displayName=Cb;var jp="SelectItemText",zL=F.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,...o}=t,a=Oc(jp,n),l=Dc(jp,n),f=jL(jp,n),h=R0e(jp,n),[d,g]=F.useState(null),y=Rn(e,A=>g(A),f.onItemTextChange,A=>{var C;return(C=l.itemTextRefCallback)==null?void 0:C.call(l,A,f.value,f.disabled)}),b=d==null?void 0:d.textContent,x=F.useMemo(()=>j.jsx("option",{value:f.value,disabled:f.disabled,children:b},f.value),[f.disabled,f.value,b]),{onNativeOptionAdd:w,onNativeOptionRemove:E}=h;return Rr(()=>(w(x),()=>E(x)),[w,E,x]),j.jsxs(j.Fragment,{children:[j.jsx(Rt.span,{id:f.textId,...o,ref:y}),f.isSelected&&a.valueNode&&!a.valueNodeHasChildren?Zg.createPortal(o.children,a.valueNode):null]})});zL.displayName=jp;var VL="SelectItemIndicator",HL=F.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return jL(VL,n).isSelected?j.jsx(Rt.span,{"aria-hidden":!0,...r,ref:e}):null});HL.displayName=VL;var _2="SelectScrollUpButton",qL=F.forwardRef((t,e)=>{const n=Dc(_2,t.__scopeSelect),r=PT(_2,t.__scopeSelect),[i,o]=F.useState(!1),a=Rn(e,r.onScrollButtonChange);return Rr(()=>{if(n.viewport&&n.isPositioned){let l=function(){const h=f.scrollTop>0;o(h)};const f=n.viewport;return l(),f.addEventListener("scroll",l),()=>f.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),i?j.jsx(KL,{...t,ref:a,onAutoScroll:()=>{const{viewport:l,selectedItem:f}=n;l&&f&&(l.scrollTop=l.scrollTop-f.offsetHeight)}}):null});qL.displayName=_2;var I2="SelectScrollDownButton",GL=F.forwardRef((t,e)=>{const n=Dc(I2,t.__scopeSelect),r=PT(I2,t.__scopeSelect),[i,o]=F.useState(!1),a=Rn(e,r.onScrollButtonChange);return Rr(()=>{if(n.viewport&&n.isPositioned){let l=function(){const h=f.scrollHeight-f.clientHeight,d=Math.ceil(f.scrollTop)<h;o(d)};const f=n.viewport;return l(),f.addEventListener("scroll",l),()=>f.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),i?j.jsx(KL,{...t,ref:a,onAutoScroll:()=>{const{viewport:l,selectedItem:f}=n;l&&f&&(l.scrollTop=l.scrollTop+f.offsetHeight)}}):null});GL.displayName=I2;var KL=F.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=t,o=Dc("SelectScrollButton",n),a=F.useRef(null),l=Ew(n),f=F.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return F.useEffect(()=>()=>f(),[f]),Rr(()=>{var d;const h=l().find(g=>g.ref.current===document.activeElement);(d=h==null?void 0:h.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),j.jsx(Rt.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:Wt(i.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(r,50))}),onPointerMove:Wt(i.onPointerMove,()=>{var h;(h=o.onItemLeave)==null||h.call(o),a.current===null&&(a.current=window.setInterval(r,50))}),onPointerLeave:Wt(i.onPointerLeave,()=>{f()})})}),H0e="SelectSeparator",q0e=F.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return j.jsx(Rt.div,{"aria-hidden":!0,...r,ref:e})});q0e.displayName=H0e;var B2="SelectArrow",G0e=F.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=Aw(n),o=Oc(B2,n),a=Dc(B2,n);return o.open&&a.position==="popper"?j.jsx(_ye,{...i,...r,ref:e}):null});G0e.displayName=B2;var K0e="SelectBubbleInput",QL=F.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const i=F.useRef(null),o=Rn(r,i),a=Uye(e);return F.useEffect(()=>{const l=i.current;if(!l)return;const f=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(f,"value").set;if(a!==e&&d){const g=new Event("change",{bubbles:!0});d.call(l,e),l.dispatchEvent(g)}},[a,e]),j.jsx(Rt.select,{...n,style:{...mL,...n.style},ref:o,defaultValue:e})});QL.displayName=K0e;function YL(t){return t===""||t===void 0}function WL(t){const e=Jl(t),n=F.useRef(""),r=F.useRef(0),i=F.useCallback(a=>{const l=n.current+a;e(l),function f(h){n.current=h,window.clearTimeout(r.current),h!==""&&(r.current=window.setTimeout(()=>f(""),1e3))}(l)},[e]),o=F.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return F.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,o]}function XL(t,e,n){const i=e.length>1&&Array.from(e).every(h=>h===e[0])?e[0]:e,o=n?t.indexOf(n):-1;let a=Q0e(t,Math.max(o,0));i.length===1&&(a=a.filter(h=>h!==n));const f=a.find(h=>h.textValue.toLowerCase().startsWith(i.toLowerCase()));return f!==n?f:void 0}function Q0e(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var Y0e=CL,W0e=DL,X0e=NL,Z0e=RL,J0e=_L,ebe=IL,tbe=UL,nbe=FL,rbe=zL,ibe=HL,sbe=qL,obe=GL;function abe({...t}){return j.jsx(Y0e,{"data-slot":"select",...t})}function cbe({...t}){return j.jsx(X0e,{"data-slot":"select-value",...t})}function lbe({className:t,size:e="default",children:n,...r}){return j.jsxs(W0e,{"data-slot":"select-trigger","data-size":e,className:Qn("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...r,children:[n,j.jsx(Z0e,{asChild:!0,children:j.jsx(JB,{className:"size-4 opacity-50"})})]})}function ube({className:t,children:e,position:n="popper",...r}){return j.jsx(J0e,{children:j.jsxs(ebe,{"data-slot":"select-content",className:Qn("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[j.jsx(fbe,{}),j.jsx(tbe,{className:Qn("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:e}),j.jsx(hbe,{})]})})}function TE({className:t,children:e,...n}){return j.jsxs(nbe,{"data-slot":"select-item",className:Qn("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",t),...n,children:[j.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:j.jsx(ibe,{children:j.jsx(lq,{className:"size-4"})})}),j.jsx(rbe,{children:e})]})}function fbe({className:t,...e}){return j.jsx(sbe,{"data-slot":"select-scroll-up-button",className:Qn("flex cursor-default items-center justify-center py-1",t),...e,children:j.jsx(hq,{className:"size-4"})})}function hbe({className:t,...e}){return j.jsx(obe,{"data-slot":"select-scroll-down-button",className:Qn("flex cursor-default items-center justify-center py-1",t),...e,children:j.jsx(JB,{className:"size-4"})})}const ZL=({onTimeChange:t,value:e})=>{const[n,r]=F.useState(1),[i,o]=F.useState("minutes"),[a,l]=F.useState("relative"),f=(g,y)=>{const b=g||n,x=y||i;r(b),o(x);const w=new Date;let E=new Date(w);switch(x){case"minutes":E.setMinutes(w.getMinutes()+parseInt(b));break;case"hours":E.setHours(w.getHours()+parseInt(b));break;case"days":E.setDate(w.getDate()+parseInt(b));break}t(Math.floor(E.getTime()/1e3))},h=g=>{if(g){const y=Math.floor(new Date(g).getTime()/1e3);t(y)}},d=()=>{if(a==="relative"){const g=new Date;let y=new Date(g);switch(i){case"minutes":y.setMinutes(g.getMinutes()+parseInt(n));break;case"hours":y.setHours(g.getHours()+parseInt(n));break;case"days":y.setDate(g.getDate()+parseInt(n));break}return y.toLocaleString()}return""};return j.jsxs("div",{className:"space-y-4",children:[j.jsxs(yS,{className:"text-gray-300 flex items-center",children:[j.jsx(e6,{className:"w-4 h-4 mr-2"}),"Lock Duration"]}),j.jsxs("div",{className:"flex space-x-2",children:[j.jsx(zt,{type:"button",variant:a==="relative"?"default":"outline",onClick:()=>l("relative"),className:a==="relative"?"bg-gradient-to-r from-purple-500 to-pink-500":"border-white/20 text-black",size:"sm",children:"Quick Select"}),j.jsx(zt,{type:"button",variant:a==="absolute"?"default":"outline",onClick:()=>l("absolute"),className:a==="absolute"?"bg-gradient-to-r from-purple-500 to-pink-500 ":"border-white/20 text-black ",size:"sm",children:"Specific Date"})]}),a==="relative"?j.jsxs("div",{className:"space-y-4",children:[j.jsxs("div",{className:"flex space-x-2",children:[j.jsx("div",{className:"flex-1",children:j.jsx(hg,{type:"number",min:"1",value:n,onChange:g=>f(g.target.value,i),className:"bg-black/30 border-white/20 text-white",placeholder:"Enter duration"})}),j.jsx("div",{className:"flex-1",children:j.jsxs(abe,{value:i,onValueChange:g=>f(n,g),children:[j.jsx(lbe,{className:"bg-black/30 border-white/20 text-white",children:j.jsx(cbe,{})}),j.jsxs(ube,{className:"bg-gray-800 border-gray-600",children:[j.jsx(TE,{value:"minutes",className:"text-white hover:bg-gray-700",children:"Minutes"}),j.jsx(TE,{value:"hours",className:"text-white hover:bg-gray-700",children:"Hours"}),j.jsx(TE,{value:"days",className:"text-white hover:bg-gray-700",children:"Days"})]})]})})]}),j.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[j.jsx(zt,{type:"button",variant:"outline",onClick:()=>f(1,"minutes"),className:"border-white/20 text-black hover:bg-white/10 hover:text-black",size:"sm",children:"1 min"}),j.jsx(zt,{type:"button",variant:"outline",onClick:()=>f(5,"minutes"),className:"border-white/20 text-black hover:bg-white/10 hover:text-black",size:"sm",children:"5 min"}),j.jsx(zt,{type:"button",variant:"outline",onClick:()=>f(10,"minutes"),className:"border-white/20 text-black hover:bg-white/10 hover:text-black",size:"sm",children:"10 min"}),j.jsx(zt,{type:"button",variant:"outline",onClick:()=>f(1,"hours"),className:"border-white/20 text-black hover:bg-white/10 hover:text-black",size:"sm",children:"1 hour"}),j.jsx(zt,{type:"button",variant:"outline",onClick:()=>f(24,"hours"),className:"border-white/20 text-black hover:bg-white/10 hover:text-black",size:"sm",children:"1 day"}),j.jsx(zt,{type:"button",variant:"outline",onClick:()=>f(7,"days"),className:"border-white/20 text-black hover:bg-white/10 hover:text-black",size:"sm",children:"1 week"})]}),j.jsx(Ms,{className:"bg-black/30 border-white/20",children:j.jsxs(ks,{className:"p-3",children:[j.jsx("p",{className:"text-gray-400 text-sm",children:"Unlock time:"}),j.jsx("p",{className:"text-white font-mono text-sm",children:d()})]})})]}):j.jsxs("div",{children:[j.jsx(hg,{type:"datetime-local",onChange:g=>h(g.target.value),className:"bg-black/30 border-white/20 text-white",min:new Date().toISOString().slice(0,16)}),j.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Select a specific date and time for unlock"})]})]})},dbe=({isConnected:t,contractAddress:e,loading:n,onDeploy:r,onConnect:i})=>{const[o,a]=F.useState(null),[l,f]=F.useState(""),[h,d]=F.useState("deploy"),g=async()=>{o&&await r(o)},y=async()=>{l&&await i(l)},b=x=>{navigator.clipboard.writeText(x)};return e?j.jsx(vr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8",children:j.jsxs(Ms,{className:"bg-white/10 backdrop-blur-lg border-white/20",children:[j.jsx(cc,{children:j.jsxs(lc,{className:"flex items-center text-white",children:[j.jsx(wS,{className:"w-6 h-6 mr-2 text-green-400"}),"Contract Connected"]})}),j.jsxs(ks,{className:"space-y-4",children:[j.jsxs("div",{className:"flex items-center justify-between bg-black/30 rounded-lg p-4",children:[j.jsxs("div",{children:[j.jsx("p",{className:"text-gray-400 text-sm",children:"Contract Address"}),j.jsx("p",{className:"text-white font-mono",children:e})]}),j.jsxs("div",{className:"flex space-x-2",children:[j.jsx(zt,{size:"sm",variant:"outline",onClick:()=>b(e),className:"border-purple-500/50 text-purple-400 hover:bg-purple-500/20",children:j.jsx(vq,{className:"w-4 h-4"})}),j.jsx(zt,{size:"sm",variant:"outline",className:"border-blue-500/50 text-blue-400 hover:bg-blue-500/20",children:j.jsx(Eq,{className:"w-4 h-4"})})]})]}),j.jsx(bS,{variant:"secondary",className:"bg-green-500/20 text-green-400 border-green-500/30",children:"Ready to use"})]})]})}):t?j.jsx(vr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8",children:j.jsxs(Ms,{className:"bg-white/10 backdrop-blur-lg border-white/20",children:[j.jsxs(cc,{children:[j.jsxs(lc,{className:"flex items-center text-white",children:[j.jsx(Ly,{className:"w-6 h-6 mr-2 text-purple-400"}),"Contract Setup"]}),j.jsx(Gp,{className:"text-gray-400",children:"Deploy a new contract or connect to an existing one"})]}),j.jsxs(ks,{className:"space-y-6",children:[j.jsxs("div",{className:"flex space-x-2",children:[j.jsxs(zt,{variant:h==="deploy"?"default":"outline",onClick:()=>d("deploy"),className:h==="deploy"?"bg-gradient-to-r from-purple-500 to-pink-500":"border-white/20 text-gray-300",children:[j.jsx(Ly,{className:"w-4 h-4 mr-2"}),"Deploy New"]}),j.jsxs(zt,{variant:h==="connect"?"default":"outline",onClick:()=>d("connect"),className:h==="connect"?"bg-gradient-to-r from-blue-500 to-cyan-500":"border-white/20 text-gray-300",children:[j.jsx(eN,{className:"w-4 h-4 mr-2"}),"Connect Existing"]})]}),j.jsx(XB,{className:"bg-white/20"}),h==="deploy"?j.jsxs("div",{className:"space-y-4",children:[j.jsx(ZL,{onTimeChange:a,value:o}),j.jsx(zt,{onClick:g,disabled:!o||n,className:"w-full bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600",children:n?j.jsxs(j.Fragment,{children:[j.jsx(uc,{className:"w-4 h-4 mr-2 animate-spin"}),"Deploying Contract..."]}):j.jsxs(j.Fragment,{children:[j.jsx(Ly,{className:"w-4 h-4 mr-2"}),"Deploy Contract"]})})]}):j.jsxs("div",{className:"space-y-4",children:[j.jsxs("div",{children:[j.jsx(yS,{htmlFor:"contract-address",className:"text-gray-300",children:"Contract Address"}),j.jsx(hg,{id:"contract-address",placeholder:"0x...",value:l,onChange:x=>f(x.target.value),className:"bg-black/30 border-white/20 text-white placeholder-gray-500"}),j.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Enter the address of an existing Time-Locked Wallet contract"})]}),j.jsx(zt,{onClick:y,disabled:!l||n,className:"w-full bg-gradient-to-r from-blue-500 to-cyan-500 hover:from-blue-600 hover:to-cyan-600",children:n?j.jsxs(j.Fragment,{children:[j.jsx(uc,{className:"w-4 h-4 mr-2 animate-spin"}),"Connecting..."]}):j.jsxs(j.Fragment,{children:[j.jsx(eN,{className:"w-4 h-4 mr-2"}),"Connect to Contract"]})})]})]})]})}):j.jsx(vr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8",children:j.jsx(Ms,{className:"bg-white/10 backdrop-blur-lg border-white/20",children:j.jsx(ks,{className:"p-8 text-center",children:j.jsxs("div",{className:"text-gray-400 mb-4",children:[j.jsx(Ly,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),j.jsx("p",{children:"Connect your wallet to deploy or connect to a Time-Locked Wallet contract"})]})})})})};function pbe(){const{account:t,isConnected:e,contractAddress:n,loading:r,error:i,connectWallet:o,connectWalletConnectProvider:a,disconnectWallet:l,deployContract:f,connectToContract:h,depositFunds:d,withdrawFunds:g,extendUnlockTime:y,addToWhitelist:b,getContractBalance:x,getUnlockTimestamp:w}=jge(),[E,A]=F.useState("0"),[C,S]=F.useState(""),[R,O]=F.useState(""),[P,M]=F.useState(!1),[I,k]=F.useState([]),[z,V]=F.useState(""),[G,Z]=F.useState(""),[Y,D]=F.useState(null),[T,U]=F.useState(!1);F.useEffect(()=>{n&&$()},[n]);const $=async()=>{try{const X=await x();A(X);const ne=await w();if(ne){const ue=new Date(ne*1e3);S(ue.toISOString())}const fe=JSON.parse(localStorage.getItem("whitelist")||"[]");k(fe)}catch(X){console.error("Failed to update contract data:",X)}};F.useEffect(()=>{if(!C)return;const X=setInterval(()=>{const ne=new Date,ue=new Date(C)-ne;if(ue>0){const he=Math.floor(ue/36e5),ye=Math.floor(ue%(1e3*60*60)/(1e3*60)),ve=Math.floor(ue%(1e3*60)/1e3);O(`${he}h ${ye}m ${ve}s`),M(!1)}else O("Unlocked!"),M(!0)},1e3);return()=>clearInterval(X)},[C]);const H=async()=>{if(!(!G||!n))try{U(!0),await d(G),Z(""),await $()}catch(X){console.error("Deposit failed:",X)}finally{U(!1)}},_=async()=>{if(n)try{U(!0),await g(),await $()}catch(X){console.error("Withdrawal failed:",X)}finally{U(!1)}},K=async()=>{if(!(!Y||!n))try{U(!0),await y(Y),D(null),await $()}catch(X){console.error("Extend time failed:",X)}finally{U(!1)}},te=async()=>{if(!(!z||!n))try{U(!0),await b(z),V("");const X=JSON.parse(localStorage.getItem("whitelist")||"[]");k(X)}catch(X){console.error("Add to whitelist failed:",X)}finally{U(!1)}};return j.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900",children:[j.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[j.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-purple-500 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-blob"}),j.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-blue-500 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-blob animation-delay-2000"}),j.jsx("div",{className:"absolute top-40 left-40 w-80 h-80 bg-pink-500 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-blob animation-delay-4000"})]}),j.jsxs("div",{className:"relative z-10 container mx-auto px-4 py-8",children:[j.jsxs(vr.header,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[j.jsxs("div",{className:"flex items-center justify-center mb-4",children:[j.jsx(vr.div,{animate:{rotate:360},transition:{duration:20,repeat:1/0,ease:"linear"},className:"mr-3",children:j.jsx(Uq,{className:"w-12 h-12 text-purple-400"})}),j.jsx("h1",{className:"text-5xl font-bold bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent",children:"SecureVault"})]}),j.jsx("p",{className:"text-xl text-gray-300 max-w-2xl mx-auto",children:"Secure your cryptocurrency with time-based access control and multi-signature functionality"})]}),j.jsx(Fge,{isConnected:e,account:t,loading:r,error:i,onConnect:o,onConnectWalletConnect:a,onDisconnect:l}),j.jsx(dbe,{isConnected:e,contractAddress:n,loading:r,onDeploy:f,onConnect:h}),n&&j.jsxs(j.Fragment,{children:[j.jsxs("div",{className:"grid lg:grid-cols-2 gap-8",children:[j.jsx(vr.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.2},children:j.jsxs(Ms,{className:"bg-white/10 backdrop-blur-lg border-white/20 hover:bg-white/15 transition-all duration-300",children:[j.jsx(cc,{children:j.jsxs(lc,{className:"flex items-center text-white",children:[j.jsx(e6,{className:"w-6 h-6 mr-2 text-purple-400"}),"Wallet Status"]})}),j.jsxs(ks,{className:"space-y-6",children:[j.jsxs("div",{className:"text-center",children:[j.jsx("p",{className:"text-gray-400 mb-2",children:"Current Balance"}),j.jsxs("p",{className:"text-4xl font-bold text-white",children:[E," ETH"]})]}),j.jsx(XB,{className:"bg-white/20"}),j.jsxs("div",{className:"text-center",children:[j.jsx("div",{className:"flex items-center justify-center mb-4",children:P?j.jsxs(vr.div,{initial:{scale:0},animate:{scale:1},className:"flex items-center text-green-400",children:[j.jsx(Cq,{className:"w-8 h-8 mr-2"}),j.jsx("span",{className:"text-xl font-semibold",children:"Unlocked"})]}):j.jsxs(vr.div,{animate:{scale:[1,1.05,1]},transition:{duration:2,repeat:1/0},className:"flex items-center text-orange-400",children:[j.jsx(Dq,{className:"w-8 h-8 mr-2"}),j.jsx("span",{className:"text-xl font-semibold",children:"Locked"})]})}),j.jsxs("div",{className:"bg-black/30 rounded-lg p-4",children:[j.jsx("p",{className:"text-gray-400 mb-1",children:"Time Remaining"}),j.jsx("p",{className:"text-2xl font-mono text-white",children:R})]})]}),j.jsx("div",{className:"space-y-3",children:j.jsx(zt,{onClick:_,disabled:!P||T,className:"w-full bg-gradient-to-r from-green-500 to-emerald-500 hover:from-green-600 hover:to-emerald-600 transform hover:scale-105 transition-all duration-200",children:T?j.jsxs(j.Fragment,{children:[j.jsx(uc,{className:"w-4 h-4 mr-2 animate-spin"}),"Processing..."]}):j.jsxs(j.Fragment,{children:[j.jsx(Mq,{className:"w-4 h-4 mr-2"}),"Withdraw Funds"]})})})]})]})}),j.jsxs(vr.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.4},className:"space-y-6",children:[j.jsxs(Ms,{className:"bg-white/10 backdrop-blur-lg border-white/20 hover:bg-white/15 transition-all duration-300",children:[j.jsxs(cc,{children:[j.jsxs(lc,{className:"flex items-center text-white",children:[j.jsx(t6,{className:"w-6 h-6 mr-2 text-green-400"}),"Deposit Funds"]}),j.jsx(Gp,{className:"text-gray-400",children:"Add ETH to your time-locked wallet"})]}),j.jsxs(ks,{className:"space-y-4",children:[j.jsxs("div",{children:[j.jsx(yS,{htmlFor:"deposit",className:"text-gray-300",children:"Amount (ETH)"}),j.jsx(hg,{id:"deposit",type:"number",placeholder:"0.0",value:G,onChange:X=>Z(X.target.value),className:"bg-black/30 border-white/20 text-white placeholder-gray-500"})]}),j.jsx(zt,{onClick:H,disabled:!G||T,className:"w-full bg-gradient-to-r from-green-500 to-emerald-500 hover:from-green-600 hover:to-emerald-600",children:T?j.jsxs(j.Fragment,{children:[j.jsx(uc,{className:"w-4 h-4 mr-2 animate-spin"}),"Depositing..."]}):"Deposit ETH"})]})]}),j.jsxs(Ms,{className:"bg-white/10 backdrop-blur-lg border-white/20 hover:bg-white/15 transition-all duration-300",children:[j.jsxs(cc,{children:[j.jsxs(lc,{className:"flex items-center text-white",children:[j.jsx(aq,{className:"w-6 h-6 mr-2 text-blue-400"}),"Extend Lock Time"]}),j.jsx(Gp,{className:"text-gray-400",children:"Extend the unlock timestamp (Owner only)"})]}),j.jsxs(ks,{className:"space-y-4",children:[j.jsx(ZL,{onTimeChange:D,value:Y}),j.jsx(zt,{onClick:K,disabled:!Y||T,className:"w-full bg-gradient-to-r from-blue-500 to-cyan-500 hover:from-blue-600 hover:to-cyan-600",children:T?j.jsxs(j.Fragment,{children:[j.jsx(uc,{className:"w-4 h-4 mr-2 animate-spin"}),"Extending..."]}):"Extend Lock Time"})]})]})]})]}),j.jsx(vr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"mt-8",children:j.jsxs(Ms,{className:"bg-white/10 backdrop-blur-lg border-white/20",children:[j.jsxs(cc,{children:[j.jsxs(lc,{className:"flex items-center text-white",children:[j.jsx(Fq,{className:"w-6 h-6 mr-2 text-purple-400"}),"Whitelisted Addresses"]}),j.jsx(Gp,{className:"text-gray-400",children:"Manage addresses that can withdraw funds (Owner only)"})]}),j.jsxs(ks,{className:"space-y-6",children:[j.jsxs("div",{className:"flex space-x-3",children:[j.jsx(hg,{placeholder:"0x...",value:z,onChange:X=>V(X.target.value),className:"bg-black/30 border-white/20 text-white placeholder-gray-500"}),j.jsx(zt,{onClick:te,disabled:!z||T,className:"bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600",children:T?j.jsx(uc,{className:"w-4 h-4 animate-spin"}):j.jsxs(j.Fragment,{children:[j.jsx(_q,{className:"w-4 h-4 mr-2"}),"Add"]})})]}),j.jsx("div",{className:"space-y-3",children:j.jsx(CF,{children:I.map((X,ne)=>j.jsxs(vr.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{delay:ne*.1},className:"flex items-center justify-between bg-black/30 rounded-lg p-4 hover:bg-black/40 transition-colors",children:[j.jsxs("div",{className:"flex items-center space-x-3",children:[j.jsx(wS,{className:"w-5 h-5 text-green-400"}),j.jsx("span",{className:"text-white font-mono",children:X})]}),j.jsx(bS,{variant:"secondary",className:"bg-purple-500/20 text-purple-400 border-purple-500/30",children:"Whitelisted"})]},X))})})]})]})})]}),j.jsx(vr.footer,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.8},className:"text-center mt-12 text-gray-400",children:j.jsx("p",{children:"Built with Solidity ^0.8.0 • Secured by blockchain technology"})})]})]})}T9.createRoot(document.getElementById("root")).render(j.jsx(F.StrictMode,{children:j.jsx(pbe,{})}));export{ice as A,bs as B,jne as C,is as D,ar as E,vbe as F,_R as G,VX as H,ou as I,aM as J,Cg as K,UX as L,oM as M,$S as N,hm as O,r_ as P,YM as Q,HX as R,xbe as S,wbe as T,ob as U,Abe as V,Ebe as W,Kg as X,Y5 as _,we as a,i_ as b,mX as c,qo as d,BW as e,im as f,ei as g,Fae as h,aae as i,Rs as j,hw as k,ple as l,dT as m,pw as n,Ii as o,_g as p,Vte as q,au as r,zA as s,Go as t,Wl as u,fc as v,dw as w,ws as x,_r as y,Ci as z};
